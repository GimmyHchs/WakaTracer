/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval(" /*\n * # Semantic UI - 2.2.7\n * https://github.com/Semantic-Org/Semantic-UI\n * http://www.semantic-ui.com/\n *\n * Copyright 2014 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n!function(e,t,n,i){e.site=e.fn.site=function(o){var a,r,s=(new Date).getTime(),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1),f=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),m=f.namespace,g=f.error,p=\"module-\"+m,h=e(n),v=h,b=this,y=v.data(p);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose(\"Storing instance of site\",a),y=a,v.data(p,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug(\"Normalizing window.console\"),console!==i&&console.log!==i||(a.verbose(\"Console not available, normalizing events\"),a.disable.console()),\"undefined\"!=typeof console.group&&\"undefined\"!=typeof console.groupEnd&&\"undefined\"!=typeof console.groupCollapsed||(a.verbose(\"Console group not available, normalizing events\"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),\"undefined\"==typeof console.markTimeline&&(a.verbose(\"Mark timeline not available, normalizing events\"),t.console.markTimeline=function(){})},consoleClear:function(){a.debug(\"Disabling programmatic console clearing\"),t.console.clear=function(){}},requestAnimationFrame:function(){a.debug(\"Normalizing requestAnimationFrame\"),t.requestAnimationFrame===i&&(a.debug(\"RequestAnimationFrame not available, normalizing event\"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){a.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){a.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,r){o=\"string\"==typeof o?\"all\"===o?f.modules:[o]:o||f.modules,r=r===i||r,e.each(o,function(i,o){var s,l=!a.moduleExists(o)||(e.fn[o].settings.namespace||!1);a.moduleExists(o)&&(a.verbose(\"Changing default setting\",t,n,o),e.fn[o].settings[t]=n,r&&l&&(s=e(\":data(module-\"+l+\")\"),s.length>0&&(a.verbose(\"Modifying existing settings\",s),s[o](\"setting\",t,n))))})},settings:function(t,n,o){n=\"string\"==typeof n?[n]:n||f.modules,o=o===i||o,e.each(n,function(n,i){var r;a.moduleExists(i)&&(a.verbose(\"Changing default setting\",t,i),e.extend(!0,e.fn[i].settings,t),o&&m&&(r=e(\":data(module-\"+m+\")\"),r.length>0&&(a.verbose(\"Modifying existing settings\",r),r[i](\"setting\",t))))})}},enable:{console:function(){a.console(!0)},debug:function(e,t){e=e||f.modules,a.debug(\"Enabling debug for modules\",e),a.change.setting(\"debug\",!0,e,t)},verbose:function(e,t){e=e||f.modules,a.debug(\"Enabling verbose debug for modules\",e),a.change.setting(\"verbose\",!0,e,t)}},disable:{console:function(){a.console(!1)},debug:function(e,t){e=e||f.modules,a.debug(\"Disabling debug for modules\",e),a.change.setting(\"debug\",!1,e,t)},verbose:function(e,t){e=e||f.modules,a.debug(\"Disabling verbose debug for modules\",e),a.change.setting(\"verbose\",!1,e,t)}},console:function(e){if(e){if(y.cache.console===i)return void a.error(g.console);a.debug(\"Restoring console function\"),t.console=y.cache.console}else a.debug(\"Disabling console function\"),y.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose(\"Destroying previous site for\",v),v.removeData(p)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+\":\"),a.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+\":\"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,f.name+\":\"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||\"\",\"Execution Time\":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var t=f.name+\":\",n=0;s=!1,clearTimeout(a.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var s,l,c,u=y;return n=n||d,o=b||o,\"string\"==typeof t&&u!==i&&(t=t.split(/[\\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return l=u[r],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(l=u[o],!1):(a.error(g.method,t),!1);u=u[o]}})),e.isFunction(l)?c=l.apply(o,n):l!==i&&(c=l),e.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),l}},u?(y===i&&a.initialize(),a.invoke(c)):(y!==i&&a.destroy(),a.initialize()),r!==i?r:this},e.site.settings={name:\"Site\",namespace:\"site\",error:{console:\"Console cannot be restored, most likely it was overwritten outside of module\",method:\"The method you called is not defined.\"},debug:!1,verbose:!1,performance:!0,modules:[\"accordion\",\"api\",\"checkbox\",\"dimmer\",\"dropdown\",\"embed\",\"form\",\"modal\",\"nag\",\"popup\",\"rating\",\"shape\",\"sidebar\",\"state\",\"sticky\",\"tab\",\"transition\",\"visit\",\"visibility\"],siteNamespace:\"site\",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[\":\"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.form=function(t){var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),l=[],c=arguments[0],u=arguments[1],d=\"string\"==typeof c,f=[].slice.call(arguments,1);return a.each(function(){var m,g,p,h,v,b,y,x,C,w,k,S,T,A,R,E,P,F,O=e(this),D=this,q=[],j=!1;F={initialize:function(){F.get.settings(),d?(P===i&&F.instantiate(),F.invoke(c)):(P!==i&&P.invoke(\"destroy\"),F.verbose(\"Initializing form validation\",O,x),F.bindEvents(),F.set.defaults(),F.instantiate())},instantiate:function(){F.verbose(\"Storing instance of module\",F),P=F,O.data(R,F)},destroy:function(){F.verbose(\"Destroying previous module\",P),F.removeEvents(),O.removeData(R)},refresh:function(){F.verbose(\"Refreshing selector cache\"),m=O.find(k.field),g=O.find(k.group),p=O.find(k.message),h=O.find(k.prompt),v=O.find(k.submit),b=O.find(k.clear),y=O.find(k.reset)},submit:function(){F.verbose(\"Submitting form\",O),O.submit()},attachEvents:function(t,n){n=n||\"submit\",e(t).on(\"click\"+E,function(e){F[n](),e.preventDefault()})},bindEvents:function(){F.verbose(\"Attaching form events\"),O.on(\"submit\"+E,F.validate.form).on(\"blur\"+E,k.field,F.event.field.blur).on(\"click\"+E,k.submit,F.submit).on(\"click\"+E,k.reset,F.reset).on(\"click\"+E,k.clear,F.clear),x.keyboardShortcuts&&O.on(\"keydown\"+E,k.field,F.event.field.keydown),m.each(function(){var t=e(this),n=t.prop(\"type\"),i=F.get.changeEvent(n,t);e(this).on(i+E,F.event.field.change)})},clear:function(){m.each(function(){var t=e(this),n=t.parent(),i=t.closest(g),o=i.find(k.prompt),a=t.data(w.defaultValue)||\"\",r=n.is(k.uiCheckbox),s=n.is(k.uiDropdown),l=i.hasClass(S.error);l&&(F.verbose(\"Resetting error on field\",i),i.removeClass(S.error),o.remove()),s?(F.verbose(\"Resetting dropdown value\",n,a),n.dropdown(\"clear\")):r?t.prop(\"checked\",!1):(F.verbose(\"Resetting field value\",t,a),t.val(\"\"))})},reset:function(){m.each(function(){var t=e(this),n=t.parent(),o=t.closest(g),a=o.find(k.prompt),r=t.data(w.defaultValue),s=n.is(k.uiCheckbox),l=n.is(k.uiDropdown),c=o.hasClass(S.error);r!==i&&(c&&(F.verbose(\"Resetting error on field\",o),o.removeClass(S.error),a.remove()),l?(F.verbose(\"Resetting dropdown value\",n,r),n.dropdown(\"restore defaults\")):s?(F.verbose(\"Resetting checkbox value\",n,r),t.prop(\"checked\",r)):(F.verbose(\"Resetting field value\",t,r),t.val(r)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(x.regExp.bracket)},empty:function(e){return!e||0===e.length||(e.is('input[type=\"checkbox\"]')?!e.is(\":checked\"):F.is.blank(e))},blank:function(t){return\"\"===e.trim(t.val())},valid:function(){var t=!0;return F.verbose(\"Checking if form is valid\"),e.each(C,function(e,n){F.validate.field(n,e)||(t=!1)}),t}},removeEvents:function(){O.off(E),m.off(E),v.off(E),m.off(E)},event:{field:{keydown:function(t){var n=e(this),i=t.which,o=n.is(k.input),a=n.is(k.checkbox),r=n.closest(k.uiDropdown).length>0,s={enter:13,escape:27};i==s.escape&&(F.verbose(\"Escape key pressed blurring field\"),n.blur()),t.ctrlKey||i!=s.enter||!o||r||a||(j||(n.one(\"keyup\"+E,F.event.field.keyup),F.submit(),F.debug(\"Enter pressed on input submitting form\")),j=!0)},keyup:function(){j=!1},blur:function(t){var n=e(this),i=n.closest(g),o=F.get.validation(n);i.hasClass(S.error)?(F.debug(\"Revalidating field\",n,o),o&&F.validate.field(o)):\"blur\"!=x.on&&\"change\"!=x.on||o&&F.validate.field(o)},change:function(t){var n=e(this),i=n.closest(g),o=F.get.validation(n);(\"change\"==x.on||i.hasClass(S.error)&&x.revalidate)&&(clearTimeout(F.timer),F.timer=setTimeout(function(){F.debug(\"Revalidating field\",n,F.get.validation(n)),F.validate.field(o)},x.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!F.is.bracketedRule(e))&&(e.value!==i?e.value:e.type.match(x.regExp.bracket)[1]+\"\")},ruleName:function(e){return F.is.bracketedRule(e)?e.type.replace(e.type.match(x.regExp.bracket)[0],\"\"):e.type},changeEvent:function(e,t){return\"checkbox\"==e||\"radio\"==e||\"hidden\"==e||t.is(\"select\")?\"change\":F.get.inputEvent()},inputEvent:function(){return n.createElement(\"input\").oninput!==i?\"input\":n.createElement(\"input\").onpropertychange!==i?\"propertychange\":\"keyup\"},prompt:function(e,t){var n,i,o,a=F.get.ruleName(e),r=F.get.ancillaryValue(e),s=e.prompt||x.prompt[a]||x.text.unspecifiedRule,l=s.search(\"{value}\")!==-1,c=s.search(\"{name}\")!==-1;return(c||l)&&(i=F.get.field(t.identifier)),l&&(s=s.replace(\"{value}\",i.val())),c&&(n=i.closest(k.group).find(\"label\").eq(0),o=1==n.length?n.text():i.prop(\"placeholder\")||x.text.unspecifiedField,s=s.replace(\"{name}\",o)),s=s.replace(\"{identifier}\",t.identifier),s=s.replace(\"{ruleValue}\",r),e.prompt||F.verbose(\"Using default validation prompt for type\",s,a),s},settings:function(){if(e.isPlainObject(t)){var n,o=Object.keys(t),a=o.length>0&&(t[o[0]].identifier!==i&&t[o[0]].rules!==i);a?(x=e.extend(!0,{},e.fn.form.settings,u),C=e.extend({},e.fn.form.settings.defaults,t),F.error(x.error.oldSyntax,D),F.verbose(\"Extending settings from legacy parameters\",C,x)):(t.fields&&(n=Object.keys(t.fields),(\"string\"==typeof t.fields[n[0]]||e.isArray(t.fields[n[0]]))&&e.each(t.fields,function(n,i){\"string\"==typeof i&&(i=[i]),t.fields[n]={rules:[]},e.each(i,function(e,i){t.fields[n].rules.push({type:i})})})),x=e.extend(!0,{},e.fn.form.settings,t),C=e.extend({},e.fn.form.settings.defaults,x.fields),F.verbose(\"Extending settings\",C,x))}else x=e.fn.form.settings,C=e.fn.form.settings.defaults,F.verbose(\"Using default form validation\",C,x);A=x.namespace,w=x.metadata,k=x.selector,S=x.className,T=x.error,R=\"module-\"+A,E=\".\"+A,P=O.data(R),F.refresh()},field:function(t){return F.verbose(\"Finding field with identifier\",t),m.filter(\"#\"+t).length>0?m.filter(\"#\"+t):m.filter('[name=\"'+t+'\"]').length>0?m.filter('[name=\"'+t+'\"]'):m.filter('[name=\"'+t+'[]\"]').length>0?m.filter('[name=\"'+t+'[]\"]'):m.filter(\"[data-\"+w.validate+'=\"'+t+'\"]').length>0?m.filter(\"[data-\"+w.validate+'=\"'+t+'\"]'):e(\"<input/>\")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(F.get.field(t))}),n},validation:function(t){var n,i;return!!C&&(e.each(C,function(e,o){i=o.identifier||e,F.get.field(i)[0]==t[0]&&(o.identifier=i,n=o)}),n||!1)},value:function(e){var t,n=[];return n.push(e),t=F.get.values.call(D,n),t[e]},values:function(t){var n=e.isArray(t)?F.get.fields(t):m,i={};return n.each(function(t,n){var o=e(n),a=(o.prop(\"type\"),o.prop(\"name\")),r=o.val(),s=o.is(k.checkbox),l=o.is(k.radio),c=a.indexOf(\"[]\")!==-1,u=!!s&&o.is(\":checked\");a&&(c?(a=a.replace(\"[]\",\"\"),i[a]||(i[a]=[]),s?u?i[a].push(r||!0):i[a].push(!1):i[a].push(r)):l?u&&(i[a]=r):s?u?i[a]=r||!0:i[a]=!1:i[a]=r)}),i}},has:{field:function(e){return F.verbose(\"Checking for existence of a field with identifier\",e),\"string\"!=typeof e&&F.error(T.identifier,e),m.filter(\"#\"+e).length>0||(m.filter('[name=\"'+e+'\"]').length>0||m.filter(\"[data-\"+w.validate+'=\"'+e+'\"]').length>0)}},add:{prompt:function(t,n){var o=F.get.field(t),a=o.closest(g),r=a.children(k.prompt),s=0!==r.length;n=\"string\"==typeof n?[n]:n,F.verbose(\"Adding field error state\",t),a.addClass(S.error),x.inline&&(s||(r=x.templates.prompt(n),r.appendTo(a)),r.html(n[0]),s?F.verbose(\"Inline errors are disabled, no inline error added\",t):x.transition&&e.fn.transition!==i&&O.transition(\"is supported\")?(F.verbose(\"Displaying error with css transition\",x.transition),r.transition(x.transition+\" in\",x.duration)):(F.verbose(\"Displaying error with fallback javascript animation\"),r.fadeIn(x.duration)))},errors:function(e){F.debug(\"Adding form error messages\",e),F.set.error(),p.html(x.templates.error(e))}},remove:{prompt:function(t){var n=F.get.field(t),o=n.closest(g),a=o.children(k.prompt);o.removeClass(S.error),x.inline&&a.is(\":visible\")&&(F.verbose(\"Removing prompt for field\",t),x.transition&&e.fn.transition!==i&&O.transition(\"is supported\")?a.transition(x.transition+\" out\",x.duration,function(){a.remove()}):a.fadeOut(x.duration,function(){a.remove()}))}},set:{success:function(){O.removeClass(S.error).addClass(S.success)},defaults:function(){m.each(function(){var t=e(this),n=t.filter(k.checkbox).length>0,i=n?t.is(\":checked\"):t.val();t.data(w.defaultValue,i)})},error:function(){O.removeClass(S.success).addClass(S.error)},value:function(e,t){var n={};return n[e]=t,F.set.values.call(D,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,o=F.get.field(t),a=o.parent(),r=e.isArray(n),s=a.is(k.uiCheckbox),l=a.is(k.uiDropdown),c=o.is(k.radio)&&s,u=o.length>0;u&&(r&&s?(F.verbose(\"Selecting multiple\",n,o),a.checkbox(\"uncheck\"),e.each(n,function(e,t){i=o.filter('[value=\"'+t+'\"]'),a=i.parent(),i.length>0&&a.checkbox(\"check\")})):c?(F.verbose(\"Selecting radio value\",n,o),o.filter('[value=\"'+n+'\"]').parent(k.uiCheckbox).checkbox(\"check\")):s?(F.verbose(\"Setting checkbox value\",n,a),n===!0?a.checkbox(\"check\"):a.checkbox(\"uncheck\")):l?(F.verbose(\"Setting dropdown value\",n,a),a.dropdown(\"set selected\",n)):(F.verbose(\"Setting field value\",n,o),o.val(n)))})}},validate:{form:function(e,t){var n=F.get.values();if(j)return!1;if(q=[],F.is.valid()){if(F.debug(\"Form has no validation errors, submitting\"),F.set.success(),t!==!0)return x.onSuccess.call(D,e,n)}else if(F.debug(\"Form has errors\"),F.set.error(),x.inline||F.add.errors(q),O.data(\"moduleApi\")!==i&&e.stopImmediatePropagation(),t!==!0)return x.onFailure.call(D,q,n)},field:function(t,n){var o=t.identifier||n,a=F.get.field(o),r=!!t.depends&&F.get.field(t.depends),s=!0,l=[];return t.identifier||(F.debug(\"Using field name as identifier\",o),t.identifier=o),a.prop(\"disabled\")?(F.debug(\"Field is disabled. Skipping\",o),s=!0):t.optional&&F.is.blank(a)?(F.debug(\"Field is optional and blank. Skipping\",o),s=!0):t.depends&&F.is.empty(r)?(F.debug(\"Field depends on another value that is not present or empty. Skipping\",r),s=!0):t.rules!==i&&e.each(t.rules,function(e,n){F.has.field(o)&&!F.validate.rule(t,n)&&(F.debug(\"Field is invalid\",o,n.type),l.push(F.get.prompt(n,t)),s=!1)}),s?(F.remove.prompt(o,l),x.onValid.call(a),!0):(q=q.concat(l),F.add.prompt(o,l),x.onInvalid.call(a,l),!1)},rule:function(t,n){var o=F.get.field(t.identifier),a=(n.type,o.val()),r=F.get.ancillaryValue(n),s=F.get.ruleName(n),l=x.rules[s];return e.isFunction(l)?(a=a===i||\"\"===a||null===a?\"\":e.trim(a+\"\"),l.call(o,a,r)):void F.error(T.noRule,s)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,F,t);else{if(n===i)return F[t];F[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?F.performance.log(arguments):(F.debug=Function.prototype.bind.call(console.info,console,x.name+\":\"),F.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?F.performance.log(arguments):(F.verbose=Function.prototype.bind.call(console.info,console,x.name+\":\"),F.verbose.apply(console,arguments)))},error:function(){x.silent||(F.error=Function.prototype.bind.call(console.error,console,x.name+\":\"),F.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:D,\"Execution Time\":n})),clearTimeout(F.performance.timer),F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var t=x.name+\":\",n=0;s=!1,clearTimeout(F.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),a.length>1&&(t+=\" (\"+a.length+\")\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=P;return n=n||f,a=D||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},F.initialize()}),o!==i?o:this},e.fn.form.settings={name:\"Form\",namespace:\"form\",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:\"submit\",inline:!1,delay:200,revalidate:!0,transition:\"scale\",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:\"default\",validate:\"validate\"},regExp:{bracket:/\\[(.*)\\]/i,decimal:/^\\d*(\\.)\\d+/,email:/^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,flags:/^\\/(.*)\\/(.*)?/,integer:/^\\-?\\d+$/,number:/^\\-?\\d*(\\.\\d+)?$/,url:/(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i},text:{unspecifiedRule:\"Please enter a valid value\",unspecifiedField:\"This field\"},prompt:{empty:\"{name} must have a value\",checked:\"{name} must be checked\",email:\"{name} must be a valid e-mail\",url:\"{name} must be a valid url\",regExp:\"{name} is not formatted correctly\",integer:\"{name} must be an integer\",decimal:\"{name} must be a decimal number\",number:\"{name} must be set to a number\",is:'{name} must be \"{ruleValue}\"',isExactly:'{name} must be exactly \"{ruleValue}\"',not:'{name} cannot be set to \"{ruleValue}\"',notExactly:'{name} cannot be set to exactly \"{ruleValue}\"',contain:'{name} cannot contain \"{ruleValue}\"',containExactly:'{name} cannot contain exactly \"{ruleValue}\"',doesntContain:'{name} must contain  \"{ruleValue}\"',doesntContainExactly:'{name} must contain exactly \"{ruleValue}\"',minLength:\"{name} must be at least {ruleValue} characters\",length:\"{name} must be at least {ruleValue} characters\",exactLength:\"{name} must be exactly {ruleValue} characters\",maxLength:\"{name} cannot be longer than {ruleValue} characters\",match:\"{name} must match {ruleValue} field\",different:\"{name} must have a different value than {ruleValue} field\",creditCard:\"{name} must be a valid credit card number\",minCount:\"{name} must have at least {ruleValue} choices\",exactCount:\"{name} must have exactly {ruleValue} choices\",maxCount:\"{name} must have {ruleValue} or less choices\"},selector:{checkbox:'input[type=\"checkbox\"], input[type=\"radio\"]',clear:\".clear\",field:\"input, textarea, select\",group:\".field\",input:\"input\",message:\".error.message\",prompt:\".prompt.label\",radio:'input[type=\"radio\"]',reset:'.reset:not([type=\"reset\"])',submit:'.submit:not([type=\"submit\"])',uiCheckbox:\".ui.checkbox\",uiDropdown:\".ui.dropdown\"},className:{error:\"error\",label:\"ui prompt label\",pressed:\"down\",success:\"success\"},error:{identifier:\"You must specify a string identifier for each field\",method:\"The method you called is not defined.\",noRule:\"There is no rule matching the one you specified\",oldSyntax:\"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.\"},templates:{error:function(t){var n='<ul class=\"list\">';return e.each(t,function(e,t){n+=\"<li>\"+t+\"</li>\"}),n+=\"</ul>\",e(n)},prompt:function(t){return e(\"<div/>\").addClass(\"ui basic red pointing prompt label\").html(t[0])}},rules:{empty:function(t){return!(t===i||\"\"===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(\":checked\").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){if(n instanceof RegExp)return t.match(n);var i,o=n.match(e.fn.form.settings.regExp.flags);return o&&(n=o.length>=2?o[1]:n,i=o.length>=3?o[2]:\"\"),t.match(new RegExp(n,i))},integer:function(t,n){var o,a,r,s=e.fn.form.settings.regExp.integer;return n&&[\"\",\"..\"].indexOf(n)===-1&&(n.indexOf(\"..\")==-1?s.test(n)&&(o=a=n-0):(r=n.split(\"..\",2),s.test(r[0])&&(o=r[0]-0),s.test(r[1])&&(a=r[1]-0))),s.test(t)&&(o===i||t>=o)&&(a===i||t<=a)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t=\"string\"==typeof t?t.toLowerCase():t,e=\"string\"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},not:function(e,t){return e=\"string\"==typeof e?e.toLowerCase():e,t=\"string\"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,\"\\\\$&\"),t.search(new RegExp(n,\"i\"))!==-1},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,\"\\\\$&\"),t.search(new RegExp(n))!==-1},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,\"\\\\$&\"),t.search(new RegExp(n,\"i\"))===-1},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,\"\\\\$&\"),t.search(new RegExp(n))===-1},minLength:function(e,t){return e!==i&&e.length>=t},length:function(e,t){return e!==i&&e.length>=t},exactLength:function(e,t){return e!==i&&e.length==t},maxLength:function(e,t){return e!==i&&e.length<=t},match:function(t,n){var o;e(this);return e('[data-validate=\"'+n+'\"]').length>0?o=e('[data-validate=\"'+n+'\"]').val():e(\"#\"+n).length>0?o=e(\"#\"+n).val():e('[name=\"'+n+'\"]').length>0?o=e('[name=\"'+n+'\"]').val():e('[name=\"'+n+'[]\"]').length>0&&(o=e('[name=\"'+n+'[]\"]')),o!==i&&t.toString()==o.toString()},different:function(t,n){var o;e(this);return e('[data-validate=\"'+n+'\"]').length>0?o=e('[data-validate=\"'+n+'\"]').val():e(\"#\"+n).length>0?o=e(\"#\"+n).val():e('[name=\"'+n+'\"]').length>0?o=e('[name=\"'+n+'\"]').val():e('[name=\"'+n+'[]\"]').length>0&&(o=e('[name=\"'+n+'[]\"]')),o!==i&&t.toString()!==o.toString()},creditCard:function(t,n){var i,o,a={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},r={},s=!1,l=\"string\"==typeof n&&n.split(\",\");if(\"string\"==typeof t&&0!==t.length){if(l&&(e.each(l,function(n,i){o=a[i],o&&(r={length:e.inArray(t.length,o.length)!==-1,pattern:t.search(o.pattern)!==-1},r.length&&r.pattern&&(s=!0))}),!s))return!1;if(i={number:e.inArray(t.length,a.unionPay.length)!==-1,pattern:t.search(a.unionPay.pattern)!==-1},i.number&&i.pattern)return!0;for(var c=t.length,u=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],f=0;c--;)f+=d[u][parseInt(t.charAt(c),10)],u^=1;return f%10===0&&f>0}},minCount:function(e,t){return 0==t||(1==t?\"\"!==e:e.split(\",\").length>=t)},exactCount:function(e,t){return 0==t?\"\"===e:1==t?\"\"!==e&&e.search(\",\")===-1:e.split(\",\").length==t},maxCount:function(e,t){return 0!=t&&(1==t?e.search(\",\")===-1:e.split(\",\").length<=t)}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.accordion=function(n){var o,a=e(this),r=(new Date).getTime(),s=[],l=arguments[0],c=\"string\"==typeof l,u=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var d,f,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),g=m.className,p=m.namespace,h=m.selector,v=m.error,b=\".\"+p,y=\"module-\"+p,x=a.selector||\"\",C=e(this),w=C.find(h.title),k=C.find(h.content),S=this,T=C.data(y);f={initialize:function(){f.debug(\"Initializing\",C),f.bind.events(),m.observeChanges&&f.observeChanges(),f.instantiate()},instantiate:function(){T=f,C.data(y,f)},destroy:function(){f.debug(\"Destroying previous instance\",C),C.off(b).removeData(y)},refresh:function(){w=C.find(h.title),k=C.find(h.content)},observeChanges:function(){\"MutationObserver\"in t&&(d=new MutationObserver(function(e){f.debug(\"DOM tree modified, updating selector cache\"),f.refresh()}),d.observe(S,{childList:!0,subtree:!0}),f.debug(\"Setting up mutation observer\",d))},bind:{events:function(){f.debug(\"Binding delegated events\"),C.on(m.on+b,h.trigger,f.event.click)}},event:{click:function(){f.toggle.call(this)}},toggle:function(t){var n=t!==i?\"number\"==typeof t?w.eq(t):e(t).closest(h.title):e(this).closest(h.title),o=n.next(k),a=o.hasClass(g.animating),r=o.hasClass(g.active),s=r&&!a,l=!r&&a;f.debug(\"Toggling visibility of content\",n),s||l?m.collapsible?f.close.call(n):f.debug(\"Cannot close accordion content collapsing is disabled\"):f.open.call(n)},open:function(t){var n=t!==i?\"number\"==typeof t?w.eq(t):e(t).closest(h.title):e(this).closest(h.title),o=n.next(k),a=o.hasClass(g.animating),r=o.hasClass(g.active),s=r||a;return s?void f.debug(\"Accordion already open, skipping\",o):(f.debug(\"Opening accordion content\",n),m.onOpening.call(o),m.exclusive&&f.closeOthers.call(n),n.addClass(g.active),o.stop(!0,!0).addClass(g.animating),m.animateChildren&&(e.fn.transition!==i&&C.transition(\"is supported\")?o.children().transition({animation:\"fade in\",queue:!1,useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):o.children().stop(!0,!0).animate({opacity:1},m.duration,f.resetOpacity)),void o.slideDown(m.duration,m.easing,function(){o.removeClass(g.animating).addClass(g.active),f.reset.display.call(this),m.onOpen.call(this),m.onChange.call(this)}))},close:function(t){var n=t!==i?\"number\"==typeof t?w.eq(t):e(t).closest(h.title):e(this).closest(h.title),o=n.next(k),a=o.hasClass(g.animating),r=o.hasClass(g.active),s=!r&&a,l=r&&a;!r&&!s||l||(f.debug(\"Closing accordion content\",o),m.onClosing.call(o),n.removeClass(g.active),o.stop(!0,!0).addClass(g.animating),m.animateChildren&&(e.fn.transition!==i&&C.transition(\"is supported\")?o.children().transition({animation:\"fade out\",queue:!1,useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):o.children().stop(!0,!0).animate({opacity:0},m.duration,f.resetOpacity)),o.slideUp(m.duration,m.easing,function(){o.removeClass(g.animating).removeClass(g.active),f.reset.display.call(this),m.onClose.call(this),m.onChange.call(this)}))},closeOthers:function(t){var n,o,a,r=t!==i?w.eq(t):e(this).closest(h.title),s=r.parents(h.content).prev(h.title),l=r.closest(h.accordion),c=h.title+\".\"+g.active+\":visible\",u=h.content+\".\"+g.active+\":visible\";m.closeNested?(n=l.find(c).not(s),a=n.next(k)):(n=l.find(c).not(s),o=l.find(u).find(c).not(s),n=n.not(o),a=n.next(k)),n.length>0&&(f.debug(\"Exclusive enabled, closing other content\",n),n.removeClass(g.active),a.removeClass(g.animating).stop(!0,!0),m.animateChildren&&(e.fn.transition!==i&&C.transition(\"is supported\")?a.children().transition({animation:\"fade out\",useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):a.children().stop(!0,!0).animate({opacity:0},m.duration,f.resetOpacity)),a.slideUp(m.duration,m.easing,function(){e(this).removeClass(g.active),f.reset.display.call(this)}))},reset:{display:function(){f.verbose(\"Removing inline display from element\",this),e(this).css(\"display\",\"\"),\"\"===e(this).attr(\"style\")&&e(this).attr(\"style\",\"\").removeAttr(\"style\")},opacity:function(){f.verbose(\"Removing inline opacity from element\",this),e(this).css(\"opacity\",\"\"),\"\"===e(this).attr(\"style\")&&e(this).attr(\"style\",\"\").removeAttr(\"style\")}},setting:function(t,n){if(f.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){return f.debug(\"Changing internal\",t,n),n===i?f[t]:void(e.isPlainObject(t)?e.extend(!0,f,t):f[t]=n)},debug:function(){!m.silent&&m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+\":\"),f.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+\":\"),f.verbose.apply(console,arguments)))},error:function(){m.silent||(f.error=Function.prototype.bind.call(console.error,console,m.name+\":\"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:S,\"Execution Time\":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+\":\",n=0;r=!1,clearTimeout(f.performance.timer),e.each(s,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",x&&(t+=\" '\"+x+\"'\"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var r,s,l,c=T;return n=n||u,a=S||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(f.error(v.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},c?(T===i&&f.initialize(),f.invoke(l)):(T!==i&&T.invoke(\"destroy\"),f.initialize())}),o!==i?o:this},e.fn.accordion.settings={name:\"Accordion\",namespace:\"accordion\",silent:!1,debug:!1,verbose:!1,performance:!0,on:\"click\",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:\"easeOutQuad\",onOpening:function(){},onOpen:function(){},onClosing:function(){},\nonClose:function(){},onChange:function(){},error:{method:\"The method you called is not defined\"},className:{active:\"active\",animating:\"animating\"},selector:{accordion:\".accordion\",title:\".title\",trigger:\".title\",content:\".content\"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.checkbox=function(o){var a,r=e(this),s=r.selector||\"\",l=(new Date).getTime(),c=[],u=arguments[0],d=\"string\"==typeof u,f=[].slice.call(arguments,1);return r.each(function(){var r,m,g=e.extend(!0,{},e.fn.checkbox.settings,o),p=g.className,h=g.namespace,v=g.selector,b=g.error,y=\".\"+h,x=\"module-\"+h,C=e(this),w=e(this).children(v.label),k=e(this).children(v.input),S=k[0],T=!1,A=!1,R=C.data(x),E=this;m={initialize:function(){m.verbose(\"Initializing checkbox\",g),m.create.label(),m.bind.events(),m.set.tabbable(),m.hide.input(),m.observeChanges(),m.instantiate(),m.setup()},instantiate:function(){m.verbose(\"Storing instance of module\",m),R=m,C.data(x,m)},destroy:function(){m.verbose(\"Destroying module\"),m.unbind.events(),m.show.input(),C.removeData(x)},fix:{reference:function(){C.is(v.input)&&(m.debug(\"Behavior called on <input> adjusting invoked element\"),C=C.closest(v.checkbox),m.refresh())}},setup:function(){m.set.initialLoad(),m.is.indeterminate()?(m.debug(\"Initial value is indeterminate\"),m.indeterminate()):m.is.checked()?(m.debug(\"Initial value is checked\"),m.check()):(m.debug(\"Initial value is unchecked\"),m.uncheck()),m.remove.initialLoad()},refresh:function(){w=C.children(v.label),k=C.children(v.input),S=k[0]},hide:{input:function(){m.verbose(\"Modifying <input> z-index to be unselectable\"),k.addClass(p.hidden)}},show:{input:function(){m.verbose(\"Modifying <input> z-index to be selectable\"),k.removeClass(p.hidden)}},observeChanges:function(){\"MutationObserver\"in t&&(r=new MutationObserver(function(e){m.debug(\"DOM tree modified, updating selector cache\"),m.refresh()}),r.observe(E,{childList:!0,subtree:!0}),m.debug(\"Setting up mutation observer\",r))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(m[n])?m[n]:m.toggle,i.length>0?(m.debug(\"Attaching checkbox events to element\",t,n),i.on(\"click\"+y,n)):m.error(b.notFound)},event:{click:function(t){var n=e(t.target);return n.is(v.input)?void m.verbose(\"Using default check action on initialized checkbox\"):n.is(v.link)?void m.debug(\"Clicking link inside checkbox, skipping toggle\"):(m.toggle(),k.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(m.verbose(\"Escape key pressed blurring field\"),k.blur(),A=!0):e.ctrlKey||t!=n.space&&t!=n.enter?A=!1:(m.verbose(\"Enter/space key pressed, toggling checkbox\"),m.toggle(),A=!0)},keyup:function(e){A&&e.preventDefault()}},check:function(){m.should.allowCheck()&&(m.debug(\"Checking checkbox\",k),m.set.checked(),m.should.ignoreCallbacks()||(g.onChecked.call(S),g.onChange.call(S)))},uncheck:function(){m.should.allowUncheck()&&(m.debug(\"Unchecking checkbox\"),m.set.unchecked(),m.should.ignoreCallbacks()||(g.onUnchecked.call(S),g.onChange.call(S)))},indeterminate:function(){return m.should.allowIndeterminate()?void m.debug(\"Checkbox is already indeterminate\"):(m.debug(\"Making checkbox indeterminate\"),m.set.indeterminate(),void(m.should.ignoreCallbacks()||(g.onIndeterminate.call(S),g.onChange.call(S))))},determinate:function(){return m.should.allowDeterminate()?void m.debug(\"Checkbox is already determinate\"):(m.debug(\"Making checkbox determinate\"),m.set.determinate(),void(m.should.ignoreCallbacks()||(g.onDeterminate.call(S),g.onChange.call(S))))},enable:function(){return m.is.enabled()?void m.debug(\"Checkbox is already enabled\"):(m.debug(\"Enabling checkbox\"),m.set.enabled(),g.onEnable.call(S),void g.onEnabled.call(S))},disable:function(){return m.is.disabled()?void m.debug(\"Checkbox is already disabled\"):(m.debug(\"Disabling checkbox\"),m.set.disabled(),g.onDisable.call(S),void g.onDisabled.call(S))},get:{radios:function(){var t=m.get.name();return e('input[name=\"'+t+'\"]').closest(v.checkbox)},otherRadios:function(){return m.get.radios().not(C)},name:function(){return k.attr(\"name\")}},is:{initialLoad:function(){return T},radio:function(){return k.hasClass(p.radio)||\"radio\"==k.attr(\"type\")},indeterminate:function(){return k.prop(\"indeterminate\")!==i&&k.prop(\"indeterminate\")},checked:function(){return k.prop(\"checked\")!==i&&k.prop(\"checked\")},disabled:function(){return k.prop(\"disabled\")!==i&&k.prop(\"disabled\")},enabled:function(){return!m.is.disabled()},determinate:function(){return!m.is.indeterminate()},unchecked:function(){return!m.is.checked()}},should:{allowCheck:function(){return m.is.determinate()&&m.is.checked()&&!m.should.forceCallbacks()?(m.debug(\"Should not allow check, checkbox is already checked\"),!1):g.beforeChecked.apply(S)!==!1||(m.debug(\"Should not allow check, beforeChecked cancelled\"),!1)},allowUncheck:function(){return m.is.determinate()&&m.is.unchecked()&&!m.should.forceCallbacks()?(m.debug(\"Should not allow uncheck, checkbox is already unchecked\"),!1):g.beforeUnchecked.apply(S)!==!1||(m.debug(\"Should not allow uncheck, beforeUnchecked cancelled\"),!1)},allowIndeterminate:function(){return m.is.indeterminate()&&!m.should.forceCallbacks()?(m.debug(\"Should not allow indeterminate, checkbox is already indeterminate\"),!1):g.beforeIndeterminate.apply(S)!==!1||(m.debug(\"Should not allow indeterminate, beforeIndeterminate cancelled\"),!1)},allowDeterminate:function(){return m.is.determinate()&&!m.should.forceCallbacks()?(m.debug(\"Should not allow determinate, checkbox is already determinate\"),!1):g.beforeDeterminate.apply(S)!==!1||(m.debug(\"Should not allow determinate, beforeDeterminate cancelled\"),!1)},forceCallbacks:function(){return m.is.initialLoad()&&g.fireOnInit},ignoreCallbacks:function(){return T&&!g.fireOnInit}},can:{change:function(){return!(C.hasClass(p.disabled)||C.hasClass(p.readOnly)||k.prop(\"disabled\")||k.prop(\"readonly\"))},uncheck:function(){return\"boolean\"==typeof g.uncheckable?g.uncheckable:!m.is.radio()}},set:{initialLoad:function(){T=!0},checked:function(){return m.verbose(\"Setting class to checked\"),C.removeClass(p.indeterminate).addClass(p.checked),m.is.radio()&&m.uncheckOthers(),!m.is.indeterminate()&&m.is.checked()?void m.debug(\"Input is already checked, skipping input property change\"):(m.verbose(\"Setting state to checked\",S),k.prop(\"indeterminate\",!1).prop(\"checked\",!0),void m.trigger.change())},unchecked:function(){return m.verbose(\"Removing checked class\"),C.removeClass(p.indeterminate).removeClass(p.checked),!m.is.indeterminate()&&m.is.unchecked()?void m.debug(\"Input is already unchecked\"):(m.debug(\"Setting state to unchecked\"),k.prop(\"indeterminate\",!1).prop(\"checked\",!1),void m.trigger.change())},indeterminate:function(){return m.verbose(\"Setting class to indeterminate\"),C.addClass(p.indeterminate),m.is.indeterminate()?void m.debug(\"Input is already indeterminate, skipping input property change\"):(m.debug(\"Setting state to indeterminate\"),k.prop(\"indeterminate\",!0),void m.trigger.change())},determinate:function(){return m.verbose(\"Removing indeterminate class\"),C.removeClass(p.indeterminate),m.is.determinate()?void m.debug(\"Input is already determinate, skipping input property change\"):(m.debug(\"Setting state to determinate\"),void k.prop(\"indeterminate\",!1))},disabled:function(){return m.verbose(\"Setting class to disabled\"),C.addClass(p.disabled),m.is.disabled()?void m.debug(\"Input is already disabled, skipping input property change\"):(m.debug(\"Setting state to disabled\"),k.prop(\"disabled\",\"disabled\"),void m.trigger.change())},enabled:function(){return m.verbose(\"Removing disabled class\"),C.removeClass(p.disabled),m.is.enabled()?void m.debug(\"Input is already enabled, skipping input property change\"):(m.debug(\"Setting state to enabled\"),k.prop(\"disabled\",!1),void m.trigger.change())},tabbable:function(){m.verbose(\"Adding tabindex to checkbox\"),k.attr(\"tabindex\")===i&&k.attr(\"tabindex\",0)}},remove:{initialLoad:function(){T=!1}},trigger:{change:function(){var e=n.createEvent(\"HTMLEvents\"),t=k[0];t&&(m.verbose(\"Triggering native change event\"),e.initEvent(\"change\",!0,!1),t.dispatchEvent(e))}},create:{label:function(){k.prevAll(v.label).length>0?(k.prev(v.label).detach().insertAfter(k),m.debug(\"Moving existing label\",w)):m.has.label()||(w=e(\"<label>\").insertAfter(k),m.debug(\"Creating label\",w))}},has:{label:function(){return w.length>0}},bind:{events:function(){m.verbose(\"Attaching checkbox events\"),C.on(\"click\"+y,m.event.click).on(\"keydown\"+y,v.input,m.event.keydown).on(\"keyup\"+y,v.input,m.event.keyup)}},unbind:{events:function(){m.debug(\"Removing events\"),C.off(y)}},uncheckOthers:function(){var e=m.get.otherRadios();m.debug(\"Unchecking other radios\",e),e.removeClass(p.checked)},toggle:function(){return m.can.change()?void(m.is.indeterminate()||m.is.unchecked()?(m.debug(\"Currently unchecked\"),m.check()):m.is.checked()&&m.can.uncheck()&&(m.debug(\"Currently checked\"),m.uncheck())):void(m.is.radio()||m.debug(\"Checkbox is read-only or disabled, ignoring toggle\"))},setting:function(t,n){if(m.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.verbose.apply(console,arguments)))},error:function(){g.silent||(m.error=Function.prototype.bind.call(console.error,console,g.name+\":\"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:E,\"Execution Time\":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+\":\",n=0;l=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",s&&(t+=\" '\"+s+\"'\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=R;return n=n||f,o=E||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(m.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(R===i&&m.initialize(),m.invoke(u)):(R!==i&&R.invoke(\"destroy\"),m.initialize())}),a!==i?a:this},e.fn.checkbox.settings={name:\"Checkbox\",namespace:\"checkbox\",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:\"auto\",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:\"checked\",indeterminate:\"indeterminate\",disabled:\"disabled\",hidden:\"hidden\",radio:\"radio\",readOnly:\"read-only\"},error:{method:\"The method you called is not defined\"},selector:{checkbox:\".ui.checkbox\",label:\"label, .box\",input:'input[type=\"checkbox\"], input[type=\"radio\"]',link:\"a[href]\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.dimmer=function(t){var o,a=e(this),r=(new Date).getTime(),s=[],l=arguments[0],c=\"string\"==typeof l,u=[].slice.call(arguments,1);return a.each(function(){var d,f,m,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),p=g.selector,h=g.namespace,v=g.className,b=g.error,y=\".\"+h,x=\"module-\"+h,C=a.selector||\"\",w=\"ontouchstart\"in n.documentElement?\"touchstart\":\"click\",k=e(this),S=this,T=k.data(x);m={preinitialize:function(){m.is.dimmer()?(f=k.parent(),d=k):(f=k,d=m.has.dimmer()?g.dimmerName?f.find(p.dimmer).filter(\".\"+g.dimmerName):f.find(p.dimmer):m.create(),m.set.variation())},initialize:function(){m.debug(\"Initializing dimmer\",g),m.bind.events(),m.set.dimmable(),m.instantiate()},instantiate:function(){m.verbose(\"Storing instance of module\",m),T=m,k.data(x,T)},destroy:function(){m.verbose(\"Destroying previous module\",d),m.unbind.events(),m.remove.variation(),f.off(y)},bind:{events:function(){\"hover\"==g.on?f.on(\"mouseenter\"+y,m.show).on(\"mouseleave\"+y,m.hide):\"click\"==g.on&&f.on(w+y,m.toggle),m.is.page()&&(m.debug(\"Setting as a page dimmer\",f),m.set.pageDimmer()),m.is.closable()&&(m.verbose(\"Adding dimmer close event\",d),f.on(w+y,p.dimmer,m.event.click))}},unbind:{events:function(){k.removeData(x),f.off(y)}},event:{click:function(t){m.verbose(\"Determining if event occured on dimmer\",t),(0===d.find(t.target).length||e(t.target).is(p.content))&&(m.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);m.debug(\"Add content to dimmer\",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){var t=e(g.template.dimmer());return g.dimmerName&&(m.debug(\"Creating named dimmer\",g.dimmerName),t.addClass(g.dimmerName)),t.appendTo(f),t},show:function(t){t=e.isFunction(t)?t:function(){},m.debug(\"Showing dimmer\",d,g),m.is.dimmed()&&!m.is.animating()||!m.is.enabled()?m.debug(\"Dimmer is already shown or disabled\"):(m.animate.show(t),g.onShow.call(S),g.onChange.call(S))},hide:function(t){t=e.isFunction(t)?t:function(){},m.is.dimmed()||m.is.animating()?(m.debug(\"Hiding dimmer\",d),m.animate.hide(t),g.onHide.call(S),g.onChange.call(S)):m.debug(\"Dimmer is not visible\")},toggle:function(){m.verbose(\"Toggling dimmer visibility\",d),m.is.dimmed()?m.hide():m.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==i&&d.transition(\"is supported\")?(\"auto\"!==g.opacity&&m.set.opacity(),d.transition({animation:g.transition+\" in\",queue:!1,duration:m.get.duration(),useFailSafe:!0,onStart:function(){m.set.dimmed()},onComplete:function(){m.set.active(),t()}})):(m.verbose(\"Showing dimmer animation with javascript\"),m.set.dimmed(),\"auto\"==g.opacity&&(g.opacity=.8),d.stop().css({opacity:0,width:\"100%\",height:\"100%\"}).fadeTo(m.get.duration(),g.opacity,function(){d.removeAttr(\"style\"),m.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==i&&d.transition(\"is supported\")?(m.verbose(\"Hiding dimmer with css\"),d.transition({animation:g.transition+\" out\",queue:!1,duration:m.get.duration(),useFailSafe:!0,onStart:function(){m.remove.dimmed()},onComplete:function(){m.remove.active(),t()}})):(m.verbose(\"Hiding dimmer with javascript\"),m.remove.dimmed(),d.stop().fadeOut(m.get.duration(),function(){m.remove.active(),d.removeAttr(\"style\"),t()}))}},get:{dimmer:function(){return d},duration:function(){return\"object\"==typeof g.duration?m.is.active()?g.duration.hide:g.duration.show:g.duration}},has:{dimmer:function(){return g.dimmerName?k.find(p.dimmer).filter(\".\"+g.dimmerName).length>0:k.find(p.dimmer).length>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(\":animated\")||d.hasClass(v.animating)},closable:function(){return\"auto\"==g.closable?\"hover\"!=g.on:g.closable},dimmer:function(){return k.hasClass(v.dimmer)},dimmable:function(){return k.hasClass(v.dimmable)},dimmed:function(){return f.hasClass(v.dimmed)},disabled:function(){return f.hasClass(v.disabled)},enabled:function(){return!m.is.disabled()},page:function(){return f.is(\"body\")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{opacity:function(e){var t=d.css(\"background-color\"),n=t.split(\",\"),i=n&&3==n.length,o=n&&4==n.length;e=0===g.opacity?0:g.opacity||e,i||o?(n[3]=e+\")\",t=n.join(\",\")):t=\"rgba(0, 0, 0, \"+e+\")\",m.debug(\"Setting opacity to\",e),d.css(\"background-color\",t)},active:function(){d.addClass(v.active)},dimmable:function(){f.addClass(v.dimmable)},dimmed:function(){f.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)},variation:function(e){e=e||g.variation,e&&d.addClass(e)}},remove:{active:function(){d.removeClass(v.active)},dimmed:function(){f.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)},variation:function(e){e=e||g.variation,e&&d.removeClass(e)}},setting:function(t,n){if(m.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.verbose.apply(console,arguments)))},error:function(){g.silent||(m.error=Function.prototype.bind.call(console.error,console,g.name+\":\"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:S,\"Execution Time\":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+\":\",n=0;r=!1,clearTimeout(m.performance.timer),e.each(s,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",C&&(t+=\" '\"+C+\"'\"),a.length>1&&(t+=\" (\"+a.length+\")\"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var r,s,l,c=T;return n=n||u,a=S||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(m.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},m.preinitialize(),c?(T===i&&m.initialize(),m.invoke(l)):(T!==i&&T.invoke(\"destroy\"),m.initialize())}),o!==i?o:this},e.fn.dimmer.settings={name:\"Dimmer\",namespace:\"dimmer\",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:\"auto\",useCSS:!0,transition:\"fade\",on:!1,opacity:\"auto\",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:\"The method you called is not defined.\"},className:{active:\"active\",animating:\"animating\",dimmable:\"dimmable\",dimmed:\"dimmed\",dimmer:\"dimmer\",disabled:\"disabled\",hide:\"hide\",pageDimmer:\"page\",show:\"show\"},selector:{dimmer:\"> .ui.dimmer\",content:\".ui.dimmer > .content, .ui.dimmer > .content > .center\"},template:{dimmer:function(){return e(\"<div />\").attr(\"class\",\"ui dimmer\")}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.dropdown=function(o){var a,r=e(this),s=e(n),l=r.selector||\"\",c=\"ontouchstart\"in n.documentElement,u=(new Date).getTime(),d=[],f=arguments[0],m=\"string\"==typeof f,g=[].slice.call(arguments,1);return r.each(function(p){var h,v,b,y,x,C,w,k,S=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),T=S.className,A=S.message,R=S.fields,E=S.keys,P=S.metadata,F=S.namespace,O=S.regExp,D=S.selector,q=S.error,j=S.templates,z=\".\"+F,M=\"module-\"+F,I=e(this),L=e(S.context),N=I.find(D.text),V=I.find(D.search),H=I.find(D.sizer),U=I.find(D.input),W=I.find(D.icon),B=I.prev().find(D.text).length>0?I.prev().find(D.text):I.prev(),Q=I.children(D.menu),X=Q.find(D.item),$=!1,Y=!1,K=!1,Z=this,J=I.data(M);k={initialize:function(){k.debug(\"Initializing dropdown\",S),k.is.alreadySetup()?k.setup.reference():(k.setup.layout(),k.refreshData(),k.save.defaults(),k.restore.selected(),k.create.id(),k.bind.events(),k.observeChanges(),k.instantiate())},instantiate:function(){k.verbose(\"Storing instance of dropdown\",k),J=k,I.data(M,k)},destroy:function(){k.verbose(\"Destroying previous dropdown\",I),k.remove.tabbable(),I.off(z).removeData(M),Q.off(z),s.off(y),k.disconnect.menuObserver(),k.disconnect.selectObserver()},observeChanges:function(){\"MutationObserver\"in t&&(C=new MutationObserver(k.event.select.mutation),w=new MutationObserver(k.event.menu.mutation),k.debug(\"Setting up mutation observer\",C,w),k.observe.select(),k.observe.menu())},disconnect:{menuObserver:function(){w&&w.disconnect()},selectObserver:function(){C&&C.disconnect()}},observe:{select:function(){k.has.input()&&C.observe(U[0],{childList:!0,subtree:!0})},menu:function(){k.has.menu()&&w.observe(Q[0],{childList:!0,subtree:!0})}},create:{id:function(){x=(Math.random().toString(16)+\"000000000\").substr(2,8),y=\".\"+x,k.verbose(\"Creating unique id for element\",x)},userChoice:function(t){var n,o,a;return!!(t=t||k.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,r){k.get.item(r)===!1&&(a=S.templates.addition(k.add.variables(A.addResult,r)),o=e(\"<div />\").html(a).attr(\"data-\"+P.value,r).attr(\"data-\"+P.text,r).addClass(T.addition).addClass(T.item),S.hideAdditions&&o.addClass(T.hidden),n=n===i?o:n.add(o),k.verbose(\"Creating user choices for value\",r,o))}),n)},userLabels:function(t){var n=k.get.userValues();n&&(k.debug(\"Adding user labels\",n),e.each(n,function(e,t){k.verbose(\"Adding custom user value\"),k.add.label(t,t)}))},menu:function(){Q=e(\"<div />\").addClass(T.menu).appendTo(I)},sizer:function(){H=e(\"<span />\").addClass(T.sizer).insertAfter(V)}},search:function(e){e=e!==i?e:k.get.query(),k.verbose(\"Searching for query\",e),k.has.minCharacters(e)?k.filter(e):k.hide()},select:{firstUnfiltered:function(){k.verbose(\"Selecting first non-filtered element\"),k.remove.selectedItem(),X.not(D.unselectable).not(D.addition+D.hidden).eq(0).addClass(T.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(D.item).not(D.unselectable).eq(0),n=e.prevAll(D.item).not(D.unselectable).eq(0),i=t.length>0;i?(k.verbose(\"Moving selection to\",t),t.addClass(T.selected)):(k.verbose(\"Moving selection to\",n),n.addClass(T.selected))}},setup:{api:function(){var e={debug:S.debug,urlData:{value:k.get.value(),query:k.get.query()},on:!1};k.verbose(\"First request, initializing API\"),I.api(e)},layout:function(){I.is(\"select\")&&(k.setup.select(),k.setup.returnedObject()),k.has.menu()||k.create.menu(),k.is.search()&&!k.has.search()&&(k.verbose(\"Adding search input\"),V=e(\"<input />\").addClass(T.search).prop(\"autocomplete\",\"off\").insertBefore(N)),k.is.multiple()&&k.is.searchSelection()&&!k.has.sizer()&&k.create.sizer(),S.allowTab&&k.set.tabbable()},select:function(){var t=k.get.selectValues();k.debug(\"Dropdown initialized on a select\",t),I.is(\"select\")&&(U=I),U.parent(D.dropdown).length>0?(k.debug(\"UI dropdown already exists. Creating dropdown menu only\"),I=U.closest(D.dropdown),k.has.menu()||k.create.menu(),Q=I.children(D.menu),k.setup.menu(t)):(k.debug(\"Creating entire dropdown from select\"),I=e(\"<div />\").attr(\"class\",U.attr(\"class\")).addClass(T.selection).addClass(T.dropdown).html(j.dropdown(t)).insertBefore(U),U.hasClass(T.multiple)&&U.prop(\"multiple\")===!1&&(k.error(q.missingMultiple),U.prop(\"multiple\",!0)),U.is(\"[multiple]\")&&k.set.multiple(),U.prop(\"disabled\")&&(k.debug(\"Disabling dropdown\"),I.addClass(T.disabled)),U.removeAttr(\"class\").detach().prependTo(I)),k.refresh()},menu:function(e){Q.html(j.menu(e,R)),X=Q.find(D.item)},reference:function(){k.debug(\"Dropdown behavior was called on select, replacing with closest dropdown\"),I=I.parent(D.dropdown),k.refresh(),k.setup.returnedObject(),m&&(J=k,k.invoke(f))},returnedObject:function(){var e=r.slice(0,p),t=r.slice(p+1);r=e.add(I).add(t)}},refresh:function(){k.refreshSelectors(),k.refreshData()},refreshItems:function(){X=Q.find(D.item)},refreshSelectors:function(){k.verbose(\"Refreshing selector cache\"),N=I.find(D.text),V=I.find(D.search),U=I.find(D.input),W=I.find(D.icon),B=I.prev().find(D.text).length>0?I.prev().find(D.text):I.prev(),Q=I.children(D.menu),X=Q.find(D.item)},refreshData:function(){k.verbose(\"Refreshing cached metadata\"),X.removeData(P.text).removeData(P.value)},clearData:function(){k.verbose(\"Clearing metadata\"),X.removeData(P.text).removeData(P.value),I.removeData(P.defaultText).removeData(P.defaultValue).removeData(P.placeholderText)},toggle:function(){k.verbose(\"Toggling menu visibility\"),k.is.active()?k.hide():k.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},k.can.show()&&!k.is.active()){if(k.debug(\"Showing dropdown\"),!k.has.message()||k.has.maxSelections()||k.has.allResultsFiltered()||k.remove.message(),k.is.allFiltered())return!0;S.onShow.call(Z)!==!1&&k.animate.show(function(){k.can.click()&&k.bind.intent(),k.has.menuSearch()&&k.focusSearch(),k.set.visible(),t.call(Z)})}},hide:function(t){t=e.isFunction(t)?t:function(){},k.is.active()&&(k.debug(\"Hiding dropdown\"),S.onHide.call(Z)!==!1&&k.animate.hide(function(){k.remove.visible(),t.call(Z)}))},hideOthers:function(){k.verbose(\"Finding other dropdowns to hide\"),r.not(I).has(D.menu+\".\"+T.visible).dropdown(\"hide\")},hideMenu:function(){k.verbose(\"Hiding menu  instantaneously\"),k.remove.active(),k.remove.visible(),Q.transition(\"hide\")},hideSubMenus:function(){var e=Q.children(D.item).find(D.menu);k.verbose(\"Hiding sub menus\",e),e.transition(\"hide\")},bind:{events:function(){c&&k.bind.touchEvents(),k.bind.keyboardEvents(),k.bind.inputEvents(),k.bind.mouseEvents()},touchEvents:function(){k.debug(\"Touch device detected binding additional touch events\"),k.is.searchSelection()||k.is.single()&&I.on(\"touchstart\"+z,k.event.test.toggle),Q.on(\"touchstart\"+z,D.item,k.event.item.mouseenter)},keyboardEvents:function(){k.verbose(\"Binding keyboard events\"),I.on(\"keydown\"+z,k.event.keydown),k.has.search()&&I.on(k.get.inputEvent()+z,D.search,k.event.input),k.is.multiple()&&s.on(\"keydown\"+y,k.event.document.keydown)},inputEvents:function(){k.verbose(\"Binding input change events\"),I.on(\"change\"+z,D.input,k.event.change)},mouseEvents:function(){k.verbose(\"Binding mouse events\"),k.is.multiple()&&I.on(\"click\"+z,D.label,k.event.label.click).on(\"click\"+z,D.remove,k.event.remove.click),k.is.searchSelection()?(I.on(\"mousedown\"+z,k.event.mousedown).on(\"mouseup\"+z,k.event.mouseup).on(\"mousedown\"+z,D.menu,k.event.menu.mousedown).on(\"mouseup\"+z,D.menu,k.event.menu.mouseup).on(\"click\"+z,D.icon,k.event.icon.click).on(\"focus\"+z,D.search,k.event.search.focus).on(\"click\"+z,D.search,k.event.search.focus).on(\"blur\"+z,D.search,k.event.search.blur).on(\"click\"+z,D.text,k.event.text.focus),k.is.multiple()&&I.on(\"click\"+z,k.event.click)):(\"click\"==S.on?I.on(\"click\"+z,D.icon,k.event.icon.click).on(\"click\"+z,k.event.test.toggle):\"hover\"==S.on?I.on(\"mouseenter\"+z,k.delay.show).on(\"mouseleave\"+z,k.delay.hide):I.on(S.on+z,k.toggle),I.on(\"mousedown\"+z,k.event.mousedown).on(\"mouseup\"+z,k.event.mouseup).on(\"focus\"+z,k.event.focus).on(\"blur\"+z,k.event.blur)),Q.on(\"mouseenter\"+z,D.item,k.event.item.mouseenter).on(\"mouseleave\"+z,D.item,k.event.item.mouseleave).on(\"click\"+z,D.item,k.event.item.click)},intent:function(){k.verbose(\"Binding hide intent event to document\"),c&&s.on(\"touchstart\"+y,k.event.test.touch).on(\"touchmove\"+y,k.event.test.touch),s.on(\"click\"+y,k.event.test.hide)}},unbind:{intent:function(){k.verbose(\"Removing hide intent event from document\"),c&&s.off(\"touchstart\"+y).off(\"touchmove\"+y),s.off(\"click\"+y)}},filter:function(e){var t=e!==i?e:k.get.query(),n=function(){k.is.multiple()&&k.filterActive(),k.select.firstUnfiltered(),k.has.allResultsFiltered()?S.onNoResults.call(Z,t)?S.allowAdditions?S.hideAdditions&&(k.verbose(\"User addition with no menu, setting empty style\"),k.set.empty(),k.hideMenu()):(k.verbose(\"All items filtered, showing message\",t),k.add.message(A.noResults)):(k.verbose(\"All items filtered, hiding dropdown\",t),k.hideMenu()):(k.remove.empty(),k.remove.message()),S.allowAdditions&&k.add.userSuggestion(e),k.is.searchSelection()&&k.can.show()&&k.is.focusedOnSearch()&&k.show()};S.useLabels&&k.has.maxSelections()||(S.apiSettings?k.can.useAPI()?k.queryRemote(t,function(){n()}):k.error(q.noAPI):(k.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:\"local\",throttle:S.throttle,urlData:{query:t},onError:function(){k.add.message(A.serverError),n()},onFailure:function(){k.add.message(A.serverError),n()},onSuccess:function(e){k.remove.message(),k.setup.menu({values:e[R.remoteValues]}),n()}};I.api(\"get request\")||k.setup.api(),i=e.extend(!0,{},i,S.apiSettings),I.api(\"setting\",i).api(\"query\")},filterItems:function(t){var n=t!==i?t:k.get.query(),o=null,a=k.escape.regExp(n),r=new RegExp(\"^\"+a,\"igm\");k.has.query()&&(o=[],k.verbose(\"Searching for matching values\",n),X.each(function(){var t,i,a=e(this);if(\"both\"==S.match||\"text\"==S.match){if(t=String(k.get.choiceText(a,!1)),t.search(r)!==-1)return o.push(this),!0;if(\"exact\"===S.fullTextSearch&&k.exactSearch(n,t))return o.push(this),!0;if(S.fullTextSearch===!0&&k.fuzzySearch(n,t))return o.push(this),!0}if(\"both\"==S.match||\"value\"==S.match){if(i=String(k.get.choiceValue(a,t)),i.search(r)!==-1)return o.push(this),!0;if(S.fullTextSearch&&k.fuzzySearch(n,i))return o.push(this),!0}})),k.debug(\"Showing only matched items\",n),k.remove.filteredItem(),o&&X.not(o).addClass(T.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;o<i;o++){for(var r=e.charCodeAt(o);a<n;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),t.indexOf(e)>-1},filterActive:function(){S.useLabels&&X.filter(\".\"+T.active).addClass(T.filtered)},focusSearch:function(e){k.has.search()&&!k.is.focusedOnSearch()&&(e?(I.off(\"focus\"+z,D.search),V.focus(),I.on(\"focus\"+z,D.search,k.event.search.focus)):V.focus())},forceSelection:function(){var e=X.not(T.filtered).filter(\".\"+T.selected).eq(0),t=X.not(T.filtered).filter(\".\"+T.active).eq(0),n=e.length>0?e:t,i=n.length>0;return i?(k.debug(\"Forcing partial selection to selected item\",n),void k.event.item.click.call(n,{},!0)):void(S.allowAdditions?(k.set.selected(k.get.query()),k.remove.searchTerm()):k.remove.searchTerm())},event:{change:function(){K||(k.debug(\"Input changed, updating selection\"),k.set.selected())},focus:function(){S.showOnFocus&&!$&&k.is.hidden()&&!v&&k.show()},blur:function(e){v=n.activeElement===this,$||v||(k.remove.activeLabel(),k.hide())},mousedown:function(){k.is.searchSelection()?b=!0:$=!0},mouseup:function(){k.is.searchSelection()?b=!1:$=!1},click:function(t){var n=e(t.target);n.is(I)&&(k.is.focusedOnSearch()?k.show():k.focusSearch())},search:{focus:function(){$=!0,k.is.multiple()&&k.remove.activeLabel(),S.showOnFocus&&k.search()},blur:function(e){v=n.activeElement===this,b||Y||v||(S.forceSelection&&k.forceSelection(),k.hide()),b=!1}},icon:{click:function(e){k.toggle()}},text:{focus:function(e){$=!0,k.focusSearch()}},input:function(e){(k.is.multiple()||k.is.searchSelection())&&k.set.filtered(),clearTimeout(k.timer),k.timer=setTimeout(k.search,S.delay.search);\n},label:{click:function(t){var n=e(this),i=I.find(D.label),o=i.filter(\".\"+T.active),a=n.nextAll(\".\"+T.active),r=n.prevAll(\".\"+T.active),s=a.length>0?n.nextUntil(a).add(o).add(n):n.prevUntil(r).add(o).add(n);t.shiftKey?(o.removeClass(T.active),s.addClass(T.active)):t.ctrlKey?n.toggleClass(T.active):(o.removeClass(T.active),n.addClass(T.active)),S.onLabelSelect.apply(this,i.filter(\".\"+T.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(T.active)?k.remove.activeLabels():k.remove.activeLabels(t)}},test:{toggle:function(e){var t=k.is.multiple()?k.show:k.toggle;k.is.bubbledLabelClick(e)||k.is.bubbledIconClick(e)||k.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){k.determine.eventOnElement(e,function(){\"touchstart\"==e.type?k.timer=setTimeout(function(){k.hide()},S.delay.touch):\"touchmove\"==e.type&&clearTimeout(k.timer)}),e.stopPropagation()},hide:function(e){k.determine.eventInModule(e,k.hide)}},select:{mutation:function(e){k.debug(\"<select> modified, recreating menu\"),k.setup.select()}},menu:{mutation:function(t){var n=t[0],i=e(n.addedNodes?n.addedNodes[0]:!1),o=e(n.removedNodes?n.removedNodes[0]:!1),a=i.add(o),r=a.is(D.addition)||a.closest(D.addition).length>0,s=a.is(D.message)||a.closest(D.message).length>0;r||s?(k.debug(\"Updating item selector cache\"),k.refreshItems()):(k.debug(\"Menu modified, updating selector cache\"),k.refresh())},mousedown:function(){Y=!0},mouseup:function(){Y=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),o=i.children(D.menu),a=i.siblings(D.item).children(D.menu),r=o.length>0,s=o.find(n).length>0;!s&&r&&(clearTimeout(k.itemTimer),k.itemTimer=setTimeout(function(){k.verbose(\"Showing sub-menu\",o),e.each(a,function(){k.animate.hide(!1,e(this))}),k.animate.show(!1,o)},S.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(D.menu);n.length>0&&(clearTimeout(k.itemTimer),k.itemTimer=setTimeout(function(){k.verbose(\"Hiding sub-menu\",n),k.animate.hide(!1,n)},S.delay.hide))},click:function(t,n){var i=e(this),o=e(t?t.target:\"\"),a=i.find(D.menu),r=k.get.choiceText(i),s=k.get.choiceValue(i,r),l=a.length>0,c=a.find(o).length>0;c||l&&!S.allowCategorySelection||(k.is.searchSelection()&&(S.allowAdditions&&k.remove.userAddition(),k.remove.searchTerm(),k.is.focusedOnSearch()||1==n||k.focusSearch(!0)),S.useLabels||(k.remove.filteredItem(),k.set.scrollPosition(i)),k.determine.selectAction.call(this,r,s))}},document:{keydown:function(e){var t=e.which,n=k.is.inObject(t,E);if(n){var i=I.find(D.label),o=i.filter(\".\"+T.active),a=(o.data(P.value),i.index(o)),r=i.length,s=o.length>0,l=o.length>1,c=0===a,u=a+1==r,d=k.is.searchSelection(),f=k.is.focusedOnSearch(),m=k.is.focused(),g=f&&0===k.get.caretPosition();if(d&&!s&&!f)return;t==E.leftArrow?!m&&!g||s?s&&(e.shiftKey?k.verbose(\"Adding previous label to selection\"):(k.verbose(\"Selecting previous label\"),i.removeClass(T.active)),c&&!l?o.addClass(T.active):o.prev(D.siblingLabel).addClass(T.active).end(),e.preventDefault()):(k.verbose(\"Selecting previous label\"),i.last().addClass(T.active)):t==E.rightArrow?(m&&!s&&i.first().addClass(T.active),s&&(e.shiftKey?k.verbose(\"Adding next label to selection\"):(k.verbose(\"Selecting next label\"),i.removeClass(T.active)),u?d?f?i.removeClass(T.active):k.focusSearch():l?o.next(D.siblingLabel).addClass(T.active):o.addClass(T.active):o.next(D.siblingLabel).addClass(T.active),e.preventDefault())):t==E.deleteKey||t==E.backspace?s?(k.verbose(\"Removing active labels\"),u&&d&&!f&&k.focusSearch(),o.last().next(D.siblingLabel).addClass(T.active),k.remove.activeLabels(o),e.preventDefault()):g&&!s&&t==E.backspace&&(k.verbose(\"Removing last label on input backspace\"),o=i.last().addClass(T.active),k.remove.activeLabels(o)):o.removeClass(T.active)}}},keydown:function(e){var t=e.which,n=k.is.inObject(t,E);if(n){var i,o,a=X.not(D.unselectable).filter(\".\"+T.selected).eq(0),r=Q.children(\".\"+T.active).eq(0),s=a.length>0?a:r,l=s.length>0?s.siblings(\":not(.\"+T.filtered+\")\").addBack():Q.children(\":not(.\"+T.filtered+\")\"),c=s.children(D.menu),u=s.closest(D.menu),d=u.hasClass(T.visible)||u.hasClass(T.animating)||u.parent(D.menu).length>0,f=c.length>0,m=s.length>0,g=s.not(D.unselectable).length>0,p=t==E.delimiter&&S.allowAdditions&&k.is.multiple(),h=S.allowAdditions&&S.hideAdditions&&(t==E.enter||p)&&g;if(h&&(k.verbose(\"Selecting item from keyboard shortcut\",s),k.event.item.click.call(s,e),k.is.searchSelection()&&k.remove.searchTerm()),k.is.visible()){if((t==E.enter||p)&&(t==E.enter&&m&&f&&!S.allowCategorySelection?(k.verbose(\"Pressed enter on unselectable category, opening sub menu\"),t=E.rightArrow):g&&(k.verbose(\"Selecting item from keyboard shortcut\",s),k.event.item.click.call(s,e),k.is.searchSelection()&&k.remove.searchTerm()),e.preventDefault()),m&&(t==E.leftArrow&&(o=u[0]!==Q[0],o&&(k.verbose(\"Left key pressed, closing sub-menu\"),k.animate.hide(!1,u),s.removeClass(T.selected),u.closest(D.item).addClass(T.selected),e.preventDefault())),t==E.rightArrow&&f&&(k.verbose(\"Right key pressed, opening sub-menu\"),k.animate.show(!1,c),s.removeClass(T.selected),c.find(D.item).eq(0).addClass(T.selected),e.preventDefault())),t==E.upArrow){if(i=m&&d?s.prevAll(D.item+\":not(\"+D.unselectable+\")\").eq(0):X.eq(0),l.index(i)<0)return k.verbose(\"Up key pressed but reached top of current menu\"),void e.preventDefault();k.verbose(\"Up key pressed, changing active item\"),s.removeClass(T.selected),i.addClass(T.selected),k.set.scrollPosition(i),S.selectOnKeydown&&k.is.single()&&k.set.selectedItem(i),e.preventDefault()}if(t==E.downArrow){if(i=m&&d?i=s.nextAll(D.item+\":not(\"+D.unselectable+\")\").eq(0):X.eq(0),0===i.length)return k.verbose(\"Down key pressed but reached bottom of current menu\"),void e.preventDefault();k.verbose(\"Down key pressed, changing active item\"),X.removeClass(T.selected),i.addClass(T.selected),k.set.scrollPosition(i),S.selectOnKeydown&&k.is.single()&&k.set.selectedItem(i),e.preventDefault()}t==E.pageUp&&(k.scrollPage(\"up\"),e.preventDefault()),t==E.pageDown&&(k.scrollPage(\"down\"),e.preventDefault()),t==E.escape&&(k.verbose(\"Escape key pressed, closing dropdown\"),k.hide())}else p&&e.preventDefault(),t!=E.downArrow||k.is.visible()||(k.verbose(\"Down key pressed, showing dropdown\"),k.select.firstUnfiltered(),k.show(),e.preventDefault())}else k.has.search()||k.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent(\"HTMLEvents\"),t=U[0];t&&(k.verbose(\"Triggering native change event\"),e.initEvent(\"change\",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){k.verbose(\"Determining action\",S.action),e.isFunction(k.action[S.action])?(k.verbose(\"Triggering preset action\",S.action,t,n),k.action[S.action].call(Z,t,n,this)):e.isFunction(S.action)?(k.verbose(\"Triggering user action\",S.action,t,n),S.action.call(Z,t,n,this)):k.error(q.action,S.action)},eventInModule:function(t,i){var o=e(t.target),a=o.closest(n.documentElement).length>0,r=o.closest(I).length>0;return i=e.isFunction(i)?i:function(){},a&&!r?(k.verbose(\"Triggering event\",i),i(),!0):(k.verbose(\"Event occurred in dropdown, canceling callback\"),!1)},eventOnElement:function(t,i){var o=e(t.target),a=o.closest(D.siblingLabel),r=n.body.contains(t.target),s=0===I.find(a).length,l=0===o.closest(Q).length;return i=e.isFunction(i)?i:function(){},r&&s&&l?(k.verbose(\"Triggering event\",i),i(),!0):(k.verbose(\"Event occurred in dropdown menu, canceling callback\"),!1)}},action:{nothing:function(){},activate:function(t,n,o){if(n=n!==i?n:t,k.can.activate(e(o))){if(k.set.selected(n,e(o)),k.is.multiple()&&!k.is.allFiltered())return;k.hideAndClear()}},select:function(t,n,o){if(n=n!==i?n:t,k.can.activate(e(o))){if(k.set.value(n,e(o)),k.is.multiple()&&!k.is.allFiltered())return;k.hideAndClear()}},combo:function(t,n,o){n=n!==i?n:t,k.set.selected(n,e(o)),k.hideAndClear()},hide:function(e,t,n){k.set.value(t,e),k.hideAndClear()}},get:{id:function(){return x},defaultText:function(){return I.data(P.defaultText)},defaultValue:function(){return I.data(P.defaultValue)},placeholderText:function(){return I.data(P.placeholderText)||\"\"},text:function(){return N.text()},query:function(){return e.trim(V.val())},searchWidth:function(e){return e=e!==i?e:V.val(),H.text(e),Math.ceil(H.width()+1)},selectionCount:function(){var t,n=k.get.values();return t=k.is.multiple()?e.isArray(n)?n.length:0:\"\"!==k.get.value()?1:0},transition:function(e){return\"auto\"==S.transition?k.is.upward(e)?\"slide up\":\"slide down\":S.transition},userValues:function(){var t=k.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return k.get.item(e)===!1}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=V.get(0);return\"selectionStart\"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart(\"character\",-i.value.length),e.text.length-t):void 0},value:function(){var t=U.length>0?U.val():I.data(P.value),n=e.isArray(t)&&1===t.length&&\"\"===t[0];return t===i||n?\"\":t},values:function(){var e=k.get.value();return\"\"===e?\"\":!k.has.selectInput()&&k.is.multiple()?\"string\"==typeof e?e.split(S.delimiter):\"\":e},remoteValues:function(){var t=k.get.values(),n=!1;return t&&(\"string\"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=k.read.remoteData(t);k.verbose(\"Restoring value from session data\",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=n!==i?n:S.preserveHTML,t)return t.find(D.menu).length>0&&(k.verbose(\"Retrieving text of element with sub-menu\"),t=t.clone(),t.find(D.menu).remove(),t.find(D.menuIcon).remove()),t.data(P.text)!==i?t.data(P.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||k.get.choiceText(t),!!t&&(t.data(P.value)!==i?String(t.data(P.value)):\"string\"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=V[0];return!!e&&(e.oninput!==i?\"input\":e.onpropertychange!==i?\"propertychange\":\"keyup\")},selectValues:function(){var t={};return t.values=[],I.find(\"option\").each(function(){var n=e(this),o=n.html(),a=n.attr(\"disabled\"),r=n.attr(\"value\")!==i?n.attr(\"value\"):o;\"auto\"===S.placeholder&&\"\"===r?t.placeholder=o:t.values.push({name:o,value:r,disabled:a})}),S.placeholder&&\"auto\"!==S.placeholder&&(k.debug(\"Setting placeholder value to\",S.placeholder),t.placeholder=S.placeholder),S.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),k.debug(\"Retrieved and sorted values from select\",t)):k.debug(\"Retrieved values from select\",t),t},activeItem:function(){return X.filter(\".\"+T.active)},selectedItem:function(){var e=X.not(D.unselectable).filter(\".\"+T.selected);return e.length>0?e:X.eq(0)},itemWithAdditions:function(e){var t=k.get.item(e),n=k.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var o,a,r=!1;return t=t!==i?t:k.get.values()!==i?k.get.values():k.get.text(),o=a?t.length>0:t!==i&&null!==t,a=k.is.multiple()&&e.isArray(t),n=\"\"===t||0===t||(n||!1),o&&X.each(function(){var o=e(this),s=k.get.choiceText(o),l=k.get.choiceValue(o,s);if(null!==l&&l!==i)if(a)e.inArray(String(l),t)===-1&&e.inArray(s,t)===-1||(r=r?r.add(o):o);else if(n){if(k.verbose(\"Ambiguous dropdown value using strict type check\",o,t),l===t||s===t)return r=o,!0}else if(String(l)==String(t)||s==t)return k.verbose(\"Found select item by value\",l,t),r=o,!0}),r}},check:{maxSelections:function(e){return!S.maxSelections||(e=e!==i?e:k.get.selectionCount(),e>=S.maxSelections?(k.debug(\"Maximum selection count reached\"),S.useLabels&&(X.addClass(T.filtered),k.add.message(A.maxSelections)),!0):(k.verbose(\"No longer at maximum selection count\"),k.remove.message(),k.remove.filteredItem(),k.is.searchSelection()&&k.filterItems(),!1))}},restore:{defaults:function(){k.clear(),k.restore.defaultText(),k.restore.defaultValue()},defaultText:function(){var e=k.get.defaultText(),t=k.get.placeholderText;e===t?(k.debug(\"Restoring default placeholder text\",e),k.set.placeholderText(e)):(k.debug(\"Restoring default text\",e),k.set.text(e))},placeholderText:function(){k.set.placeholderText()},defaultValue:function(){var e=k.get.defaultValue();e!==i&&(k.debug(\"Restoring default value\",e),\"\"!==e?(k.set.value(e),k.set.selected()):(k.remove.activeItem(),k.remove.selectedItem()))},labels:function(){S.allowAdditions&&(S.useLabels||(k.error(q.labels),S.useLabels=!0),k.debug(\"Restoring selected values\"),k.create.userLabels()),k.check.maxSelections()},selected:function(){k.restore.values(),k.is.multiple()?(k.debug(\"Restoring previously selected values and labels\"),k.restore.labels()):k.debug(\"Restoring previously selected values\")},values:function(){k.set.initialLoad(),S.apiSettings&&S.saveRemoteData&&k.get.remoteValues()?k.restore.remoteValues():k.set.selected(),k.remove.initialLoad()},remoteValues:function(){var t=k.get.remoteValues();k.debug(\"Recreating selected from session data\",t),t&&(k.is.single()?e.each(t,function(e,t){k.set.text(t)}):e.each(t,function(e,t){k.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void k.error(q.noStorage):(n=sessionStorage.getItem(e),n!==i&&n)}},save:{defaults:function(){k.save.defaultText(),k.save.placeholderText(),k.save.defaultValue()},defaultValue:function(){var e=k.get.value();k.verbose(\"Saving default value as\",e),I.data(P.defaultValue,e)},defaultText:function(){var e=k.get.text();k.verbose(\"Saving default text as\",e),I.data(P.defaultText,e)},placeholderText:function(){var e;S.placeholder!==!1&&N.hasClass(T.placeholder)&&(e=k.get.text(),k.verbose(\"Saving placeholder text as\",e),I.data(P.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void k.error(q.noStorage):(k.verbose(\"Saving remote data to session storage\",n,e),void sessionStorage.setItem(n,e))}},clear:function(){k.is.multiple()&&S.useLabels?k.remove.labels():(k.remove.activeItem(),k.remove.selectedItem()),k.set.placeholderText(),k.clearValue()},clearValue:function(){k.set.value(\"\")},scrollPage:function(e,t){var n,i,o,a=t||k.get.selectedItem(),r=a.closest(D.menu),s=r.outerHeight(),l=r.scrollTop(),c=X.eq(0).outerHeight(),u=Math.floor(s/c),d=(r.prop(\"scrollHeight\"),\"up\"==e?l-c*u:l+c*u),f=X.not(D.unselectable);o=\"up\"==e?f.index(a)-u:f.index(a)+u,n=\"up\"==e?o>=0:o<f.length,i=n?f.eq(o):\"up\"==e?f.first():f.last(),i.length>0&&(k.debug(\"Scrolling page\",e,i),a.removeClass(T.selected),i.addClass(T.selected),S.selectOnKeydown&&k.is.single()&&k.set.selectedItem(i),r.scrollTop(d))},set:{filtered:function(){var e=k.is.multiple(),t=k.is.searchSelection(),n=e&&t,i=t?k.get.query():\"\",o=\"string\"==typeof i&&i.length>0,a=k.get.searchWidth(),r=\"\"!==i;e&&o&&(k.verbose(\"Adjusting input width\",a,S.glyphWidth),V.css(\"width\",a)),o||n&&r?(k.verbose(\"Hiding placeholder text\"),N.addClass(T.filtered)):(!e||n&&!r)&&(k.verbose(\"Showing placeholder text\"),N.removeClass(T.filtered))},empty:function(){I.addClass(T.empty)},loading:function(){I.addClass(T.loading)},placeholderText:function(e){e=e||k.get.placeholderText(),k.debug(\"Setting placeholder text\",e),k.set.text(e),N.addClass(T.placeholder)},tabbable:function(){k.has.search()?(k.debug(\"Added tabindex to searchable dropdown\"),V.val(\"\").attr(\"tabindex\",0),Q.attr(\"tabindex\",-1)):(k.debug(\"Added tabindex to dropdown\"),I.attr(\"tabindex\")===i&&(I.attr(\"tabindex\",0),Q.attr(\"tabindex\",-1)))},initialLoad:function(){k.verbose(\"Setting initial load\"),h=!0},activeItem:function(e){S.allowAdditions&&e.filter(D.addition).length>0?e.addClass(T.filtered):e.addClass(T.active)},partialSearch:function(e){var t=k.get.query().length;V.val(e.substr(0,t))},scrollPosition:function(e,t){var n,o,a,r,s,l,c,u,d,f=5;e=e||k.get.selectedItem(),n=e.closest(D.menu),o=e&&e.length>0,t=t!==i&&t,e&&n.length>0&&o&&(r=e.position().top,n.addClass(T.loading),l=n.scrollTop(),s=n.offset().top,r=e.offset().top,a=l-s+r,t||(c=n.height(),d=l+c<a+f,u=a-f<l),k.debug(\"Scrolling to active item\",a),(t||u||d)&&n.scrollTop(a),n.removeClass(T.loading))},text:function(e){\"select\"!==S.action&&(\"combo\"==S.action?(k.debug(\"Changing combo button text\",e,B),S.preserveHTML?B.html(e):B.text(e)):(e!==k.get.placeholderText()&&N.removeClass(T.placeholder),k.debug(\"Changing text\",e,N),N.removeClass(T.filtered),S.preserveHTML?N.html(e):N.text(e)))},selectedItem:function(e){var t=k.get.choiceValue(e),n=k.get.choiceText(e,!1);k.debug(\"Setting user selection to item\",e),k.remove.activeItem(),k.set.partialSearch(n),k.set.activeItem(e),k.set.selected(t,e),k.set.text(n)},selectedLetter:function(t){var n,i=X.filter(\".\"+T.selected),o=i.length>0&&k.has.firstLetter(i,t),a=!1;o&&(n=i.nextAll(X).eq(0),k.has.firstLetter(n,t)&&(a=n)),a||X.each(function(){if(k.has.firstLetter(e(this),t))return a=e(this),!1}),a&&(k.verbose(\"Scrolling to next value with letter\",t),k.set.scrollPosition(a),i.removeClass(T.selected),a.addClass(T.selected),S.selectOnKeydown&&k.is.single()&&k.set.selectedItem(a))},direction:function(e){\"auto\"==S.direction?k.is.onScreen(e)?k.remove.upward(e):k.set.upward(e):\"upward\"==S.direction&&k.set.upward(e)},upward:function(e){var t=e||I;t.addClass(T.upward)},value:function(e,t,n){var o=k.escape.value(e),a=U.length>0,r=(!k.has.value(e),k.get.values()),s=e!==i?String(e):e;if(a){if(!S.allowReselection&&s==r&&(k.verbose(\"Skipping value update already same value\",e,r),!k.is.initialLoad()))return;k.is.single()&&k.has.selectInput()&&k.can.extendSelect()&&(k.debug(\"Adding user option\",e),k.add.optionValue(e)),k.debug(\"Updating input value\",o,r),K=!0,U.val(o),S.fireOnInit===!1&&k.is.initialLoad()?k.debug(\"Input native change event ignored on initial load\"):k.trigger.change(),K=!1}else k.verbose(\"Storing value in metadata\",o,U),o!==r&&I.data(P.value,s);S.fireOnInit===!1&&k.is.initialLoad()?k.verbose(\"No callback on initial load\",S.onChange):S.onChange.call(Z,e,t,n)},active:function(){I.addClass(T.active)},multiple:function(){I.addClass(T.multiple)},visible:function(){I.addClass(T.visible)},exactly:function(e,t){k.debug(\"Setting selected to exact values\"),k.clear(),k.set.selected(e,t)},selected:function(t,n){var i=k.is.multiple();n=S.allowAdditions?n||k.get.itemWithAdditions(t):n||k.get.item(t),n&&(k.debug(\"Setting selected menu item to\",n),k.is.multiple()&&k.remove.searchWidth(),k.is.single()?(k.remove.activeItem(),k.remove.selectedItem()):S.useLabels&&k.remove.selectedItem(),n.each(function(){var t=e(this),o=k.get.choiceText(t),a=k.get.choiceValue(t,o),r=t.hasClass(T.filtered),s=t.hasClass(T.active),l=t.hasClass(T.addition),c=i&&1==n.length;i?!s||l?(S.apiSettings&&S.saveRemoteData&&k.save.remoteData(o,a),S.useLabels?(k.add.value(a,o,t),k.add.label(a,o,c),k.set.activeItem(t),k.filterActive(),k.select.nextAvailable(n)):(k.add.value(a,o,t),k.set.text(k.add.variables(A.count)),k.set.activeItem(t))):r||(k.debug(\"Selected active value, removing label\"),k.remove.selected(a)):(S.apiSettings&&S.saveRemoteData&&k.save.remoteData(o,a),k.set.text(o),k.set.value(a,o,t),t.addClass(T.active).addClass(T.selected))}))}},add:{label:function(t,n,i){var o,a=k.is.searchSelection()?V:N,r=k.escape.value(t);return o=e(\"<a />\").addClass(T.label).attr(\"data-value\",r).html(j.label(r,n)),o=S.onLabelCreate.call(o,r,n),k.has.label(t)?void k.debug(\"Label already exists, skipping\",r):(S.label.variation&&o.addClass(S.label.variation),void(i===!0?(k.debug(\"Animating in label\",o),o.addClass(T.hidden).insertBefore(a).transition(S.label.transition,S.label.duration)):(k.debug(\"Adding selection label\",o),o.insertBefore(a))))},message:function(t){var n=Q.children(D.message),i=S.templates.message(k.add.variables(t));n.length>0?n.html(i):n=e(\"<div/>\").html(i).addClass(T.message).appendTo(Q)},optionValue:function(t){var n=k.escape.value(t),i=U.find('option[value=\"'+n+'\"]'),o=i.length>0;o||(k.disconnect.selectObserver(),k.is.single()&&(k.verbose(\"Removing previous user addition\"),U.find(\"option.\"+T.addition).remove()),e(\"<option/>\").prop(\"value\",n).addClass(T.addition).html(t).appendTo(U),k.verbose(\"Adding user addition as an <option>\",t),k.observe.select())},userSuggestion:function(e){var t,n=Q.children(D.addition),i=k.get.item(e),o=i&&i.not(D.addition).length,a=n.length>0;if(!S.useLabels||!k.has.maxSelections()){if(\"\"===e||o)return void n.remove();a?(n.data(P.value,e).data(P.text,e).attr(\"data-\"+P.value,e).attr(\"data-\"+P.text,e).removeClass(T.filtered),S.hideAdditions||(t=S.templates.addition(k.add.variables(A.addResult,e)),n.html(t)),k.verbose(\"Replacing user suggestion with new value\",n)):(n=k.create.userChoice(e),n.prependTo(Q),k.verbose(\"Adding item choice to menu corresponding with user choice addition\",n)),S.hideAdditions&&!k.is.allFiltered()||n.addClass(T.selected).siblings().removeClass(T.selected),k.refreshItems()}},variables:function(e,t){var n,i,o=e.search(\"{count}\")!==-1,a=e.search(\"{maxCount}\")!==-1,r=e.search(\"{term}\")!==-1;return k.verbose(\"Adding templated variables to message\",e),o&&(n=k.get.selectionCount(),e=e.replace(\"{count}\",n)),a&&(n=k.get.selectionCount(),e=e.replace(\"{maxCount}\",S.maxSelections)),r&&(i=t||k.get.query(),e=e.replace(\"{term}\",i)),e},value:function(t,n,i){var o,a=k.get.values();return\"\"===t?void k.debug(\"Cannot select blank values from multiselect\"):(e.isArray(a)?(o=a.concat([t]),o=k.get.uniqueArray(o)):o=[t],k.has.selectInput()?k.can.extendSelect()&&(k.debug(\"Adding value to select\",t,o,U),k.add.optionValue(t)):(o=o.join(S.delimiter),k.debug(\"Setting hidden input to delimited value\",o,U)),S.fireOnInit===!1&&k.is.initialLoad()?k.verbose(\"Skipping onadd callback on initial load\",S.onAdd):S.onAdd.call(Z,t,n,i),k.set.value(o,t,n,i),void k.check.maxSelections())}},remove:{active:function(){I.removeClass(T.active)},activeLabel:function(){I.find(D.label).removeClass(T.active)},empty:function(){I.removeClass(T.empty)},loading:function(){I.removeClass(T.loading)},initialLoad:function(){h=!1},upward:function(e){var t=e||I;t.removeClass(T.upward)},visible:function(){I.removeClass(T.visible)},activeItem:function(){X.removeClass(T.active)},filteredItem:function(){S.useLabels&&k.has.maxSelections()||(S.useLabels&&k.is.multiple()?X.not(\".\"+T.active).removeClass(T.filtered):X.removeClass(T.filtered),k.remove.empty())},optionValue:function(e){var t=k.escape.value(e),n=U.find('option[value=\"'+t+'\"]'),i=n.length>0;i&&n.hasClass(T.addition)&&(C&&(C.disconnect(),k.verbose(\"Temporarily disconnecting mutation observer\")),n.remove(),k.verbose(\"Removing user addition as an <option>\",t),C&&C.observe(U[0],{childList:!0,subtree:!0}))},message:function(){Q.children(D.message).remove()},searchWidth:function(){V.css(\"width\",\"\")},searchTerm:function(){k.verbose(\"Cleared search term\"),V.val(\"\"),k.set.filtered()},userAddition:function(){X.filter(D.addition).remove()},selected:function(t,n){return!!(n=S.allowAdditions?n||k.get.itemWithAdditions(t):n||k.get.item(t))&&void n.each(function(){var t=e(this),n=k.get.choiceText(t),i=k.get.choiceValue(t,n);k.is.multiple()?S.useLabels?(k.remove.value(i,n,t),k.remove.label(i)):(k.remove.value(i,n,t),0===k.get.selectionCount()?k.set.placeholderText():k.set.text(k.add.variables(A.count))):k.remove.value(i,n,t),t.removeClass(T.filtered).removeClass(T.active),S.useLabels&&t.removeClass(T.selected)})},selectedItem:function(){X.removeClass(T.selected)},value:function(e,t,n){var i,o=k.get.values();k.has.selectInput()?(k.verbose(\"Input is <select> removing selected option\",e),i=k.remove.arrayValue(e,o),k.remove.optionValue(e)):(k.verbose(\"Removing from delimited values\",e),i=k.remove.arrayValue(e,o),i=i.join(S.delimiter)),S.fireOnInit===!1&&k.is.initialLoad()?k.verbose(\"No callback on initial load\",S.onRemove):S.onRemove.call(Z,e,t,n),k.set.value(i,t,n),k.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),k.verbose(\"Removed value from delimited string\",t,n),n},label:function(e,t){var n=I.find(D.label),i=n.filter('[data-value=\"'+e+'\"]');k.verbose(\"Removing label\",i),i.remove()},activeLabels:function(e){e=e||I.find(D.label).filter(\".\"+T.active),k.verbose(\"Removing active label selections\",e),k.remove.labels(e)},labels:function(t){t=t||I.find(D.label),k.verbose(\"Removing labels\",t),t.each(function(){var t=e(this),n=t.data(P.value),o=n!==i?String(n):n,a=k.is.userValue(o);return S.onLabelRemove.call(t,n)===!1?void k.debug(\"Label remove callback cancelled removal\"):(k.remove.message(),void(a?(k.remove.value(o),k.remove.label(o)):k.remove.selected(o)))})},tabbable:function(){k.has.search()?(k.debug(\"Searchable dropdown initialized\"),V.removeAttr(\"tabindex\"),Q.removeAttr(\"tabindex\")):(k.debug(\"Simple selection dropdown initialized\"),I.removeAttr(\"tabindex\"),Q.removeAttr(\"tabindex\"))}},has:{menuSearch:function(){return k.has.search()&&V.closest(Q).length>0},search:function(){return V.length>0},sizer:function(){return H.length>0},selectInput:function(){return U.is(\"select\")},minCharacters:function(e){return!S.minCharacters||(e=e!==i?String(e):String(k.get.query()),e.length>=S.minCharacters)},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||\"string\"!=typeof t)&&(n=k.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return U.length>0},items:function(){return X.length>0},menu:function(){return Q.length>0},message:function(){return 0!==Q.children(D.message).length},label:function(e){var t=k.escape.value(e),n=I.find(D.label);return n.filter('[data-value=\"'+t+'\"]').length>0},maxSelections:function(){return S.maxSelections&&k.get.selectionCount()>=S.maxSelections},allResultsFiltered:function(){var e=X.not(D.addition);return e.filter(D.unselectable).length===e.length},userSuggestion:function(){return Q.children(D.addition).length>0},query:function(){return\"\"!==k.get.query()},value:function(t){var n=k.get.values(),i=e.isArray(n)?n&&e.inArray(t,n)!==-1:n==t;return!!i}},is:{active:function(){return I.hasClass(T.active)},bubbledLabelClick:function(t){return e(t.target).is(\"select, input\")&&I.closest(\"label\").length>0},bubbledIconClick:function(t){return e(t.target).closest(W).length>0},alreadySetup:function(){return I.is(\"select\")&&I.parent(D.dropdown).length>0&&0===I.prev().length},animating:function(e){return e?e.transition&&e.transition(\"is animating\"):Q.transition&&Q.transition(\"is animating\")},disabled:function(){return I.hasClass(T.disabled)},focused:function(){return n.activeElement===I[0]},focusedOnSearch:function(){return n.activeElement===V[0]},allFiltered:function(){return(k.is.multiple()||k.has.search())&&!(0==S.hideAdditions&&k.has.userSuggestion())&&!k.has.message()&&k.has.allResultsFiltered()},hidden:function(e){return!k.is.visible(e)},initialLoad:function(){return h},onScreen:function(e){var t,n=e||Q,i=!0,o={};return n.addClass(T.loading),t={context:{scrollTop:L.scrollTop(),height:L.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},o.below?(k.verbose(\"Dropdown can fit in context downward\",o),i=!0):o.below||o.above?(k.verbose(\"Dropdown cannot fit below, opening upward\",o),i=!1):(k.verbose(\"Dropdown cannot fit in either direction, favoring downward\",o),i=!0),n.removeClass(T.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return I.hasClass(T.multiple)},single:function(){return!k.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is(\"select\"))return n=!0,!0}),n},search:function(){return I.hasClass(T.search)},searchSelection:function(){return k.has.search()&&1===V.parent(D.dropdown).length},selection:function(){return I.hasClass(T.selection)},userValue:function(t){return e.inArray(t,k.get.userValues())!==-1},upward:function(e){var t=e||I;return t.hasClass(T.upward)},visible:function(e){return e?e.hasClass(T.visible):Q.hasClass(T.visible)}},can:{activate:function(e){return!!S.useLabels||(!k.has.maxSelections()||!(!k.has.maxSelections()||!e.hasClass(T.active)))},click:function(){return c||\"click\"==S.on},extendSelect:function(){return S.allowAdditions||S.apiSettings},show:function(){return!k.is.disabled()&&(k.has.items()||k.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var o,a=n||Q,r=n?function(){}:function(){k.hideSubMenus(),k.hideOthers(),k.set.active()};t=e.isFunction(t)?t:function(){},k.verbose(\"Doing menu show animation\",a),k.set.direction(n),o=k.get.transition(n),k.is.selection()&&k.set.scrollPosition(k.get.selectedItem(),!0),(k.is.hidden(a)||k.is.animating(a))&&(\"none\"==o?(r(),a.transition(\"show\"),t.call(Z)):e.fn.transition!==i&&I.transition(\"is supported\")?a.transition({animation:o+\" in\",debug:S.debug,verbose:S.verbose,duration:S.duration,queue:!0,onStart:r,onComplete:function(){t.call(Z)}}):k.error(q.noTransition,o))},hide:function(t,n){var o=n||Q,a=(n?.9*S.duration:S.duration,n?function(){}:function(){k.can.click()&&k.unbind.intent(),k.remove.active()}),r=k.get.transition(n);t=e.isFunction(t)?t:function(){},(k.is.visible(o)||k.is.animating(o))&&(k.verbose(\"Doing menu hide animation\",o),\"none\"==r?(a(),o.transition(\"hide\"),t.call(Z)):e.fn.transition!==i&&I.transition(\"is supported\")?o.transition({animation:r+\" out\",duration:S.duration,debug:S.debug,verbose:S.verbose,queue:!0,onStart:a,onComplete:function(){\"auto\"==S.direction&&k.remove.upward(n),t.call(Z)}}):k.error(q.transition))}},hideAndClear:function(){k.remove.searchTerm(),k.has.maxSelections()||(k.has.search()?k.hide(function(){k.remove.filteredItem()}):k.hide())},delay:{show:function(){k.verbose(\"Delaying show event to ensure user intent\"),clearTimeout(k.timer),k.timer=setTimeout(k.show,S.delay.show)},hide:function(){k.verbose(\"Delaying hide event to ensure user intent\"),clearTimeout(k.timer),k.timer=setTimeout(k.hide,S.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i=\"string\"==typeof t,o=!i&&!n,a=i&&t.search(O.quote)!==-1,r=[];return k.has.selectInput()&&!o&&a?(k.debug(\"Encoding quote values for use in select\",t),n?(e.each(t,function(e,t){r.push(t.replace(O.quote,\"&quot;\"))}),r):t.replace(O.quote,\"&quot;\")):t},regExp:function(e){return e=String(e),e.replace(O.escape,\"\\\\$&\")}},setting:function(t,n){if(k.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],n):S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},debug:function(){!S.silent&&S.debug&&(S.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,S.name+\":\"),k.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,S.name+\":\"),k.verbose.apply(console,arguments)))},error:function(){S.silent||(k.error=Function.prototype.bind.call(console.error,console,S.name+\":\"),k.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;S.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:Z,\"Execution Time\":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var t=S.name+\":\",n=0;u=!1,clearTimeout(k.performance.timer),e.each(d,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",l&&(t+=\" '\"+l+\"'\"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var r,s,l,c=J;return n=n||g,o=Z||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(k.error(q.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},m?(J===i&&k.initialize(),k.invoke(f)):(J!==i&&J.invoke(\"destroy\"),\nk.initialize())}),a!==i?a:r},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:\"click\",action:\"activate\",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,saveRemoteData:!0,throttle:200,context:t,direction:\"auto\",keepOnScreen:!0,match:\"both\",fullTextSearch:!1,placeholder:\"auto\",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:\",\",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:\"auto\",duration:200,glyphWidth:1.037,label:{transition:\"scale\",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:\"Dropdown\",namespace:\"dropdown\",message:{addResult:\"Add <b>{term}</b>\",count:\"{count} selected\",maxSelections:\"Max {maxCount} selections\",noResults:\"No results found.\",serverError:\"There was an error contacting the server\"},error:{action:\"You called a dropdown action that was not defined\",alreadySetup:\"Once a select has been initialized behaviors must be called on the created ui dropdown\",labels:\"Allowing user additions currently requires the use of labels.\",missingMultiple:\"<select> requires multiple property to be set to correctly preserve multiple values\",method:\"The method you called is not defined.\",noAPI:\"The API module is required to load resources remotely\",noStorage:\"Saving remote data requires session storage\",noTransition:\"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>\"},regExp:{escape:/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,quote:/\"/g},metadata:{defaultText:\"defaultText\",defaultValue:\"defaultValue\",placeholderText:\"placeholder\",text:\"text\",value:\"value\"},fields:{remoteValues:\"results\",values:\"values\",disabled:\"disabled\",name:\"name\",value:\"value\",text:\"text\"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:\".addition\",dropdown:\".ui.dropdown\",hidden:\".hidden\",icon:\"> .dropdown.icon\",input:'> input[type=\"hidden\"], > select',item:\".item\",label:\"> .label\",remove:\"> .label > .delete.icon\",siblingLabel:\".label\",menu:\".menu\",message:\".message\",menuIcon:\".dropdown.icon\",search:\"input.search, .menu > .search > input, .menu input.search\",sizer:\"> input.sizer\",text:\"> .text:not(.icon)\",unselectable:\".disabled, .filtered\"},className:{active:\"active\",addition:\"addition\",animating:\"animating\",disabled:\"disabled\",empty:\"empty\",dropdown:\"ui dropdown\",filtered:\"filtered\",hidden:\"hidden transition\",item:\"item\",label:\"ui label\",loading:\"loading\",menu:\"menu\",message:\"message\",multiple:\"multiple\",placeholder:\"default\",sizer:\"sizer\",search:\"search\",selected:\"selected\",selection:\"selection\",upward:\"upward\",visible:\"visible\"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},\"\");return i+='<i class=\"dropdown icon\"></i>',i+=t.placeholder?'<div class=\"default text\">'+n+\"</div>\":'<div class=\"text\"></div>',i+='<div class=\"menu\">',e.each(t.values,function(e,t){i+=t.disabled?'<div class=\"disabled item\" data-value=\"'+t.value+'\">'+t.name+\"</div>\":'<div class=\"item\" data-value=\"'+t.value+'\">'+t.name+\"</div>\"}),i+=\"</div>\"},menu:function(t,n){var i=t[n.values]||{},o=\"\";return e.each(i,function(e,t){var i=t[n.text]?'data-text=\"'+t[n.text]+'\"':\"\",a=t[n.disabled]?\"disabled \":\"\";o+='<div class=\"'+a+'item\" data-value=\"'+t[n.value]+'\"'+i+\">\",o+=t[n.name],o+=\"</div>\"}),o},label:function(e,t){return t+'<i class=\"delete icon\"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.embed=function(n){var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var f,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),g=m.selector,p=m.className,h=m.sources,v=m.error,b=m.metadata,y=m.namespace,x=m.templates,C=\".\"+y,w=\"module-\"+y,k=(e(t),e(this)),S=k.find(g.placeholder),T=k.find(g.icon),A=k.find(g.embed),R=this,E=k.data(w);f={initialize:function(){f.debug(\"Initializing embed\"),f.determine.autoplay(),f.create(),f.bind.events(),f.instantiate()},instantiate:function(){f.verbose(\"Storing instance of module\",f),E=f,k.data(w,f)},destroy:function(){f.verbose(\"Destroying previous instance of embed\"),f.reset(),k.removeData(w).off(C)},refresh:function(){f.verbose(\"Refreshing selector cache\"),S=k.find(g.placeholder),T=k.find(g.icon),A=k.find(g.embed)},bind:{events:function(){f.has.placeholder()&&(f.debug(\"Adding placeholder events\"),k.on(\"click\"+C,g.placeholder,f.createAndShow).on(\"click\"+C,g.icon,f.createAndShow))}},create:function(){var e=f.get.placeholder();e?f.createPlaceholder():f.createAndShow()},createPlaceholder:function(e){var t=f.get.icon(),n=f.get.url();f.generate.embed(n);e=e||f.get.placeholder(),k.html(x.placeholder(e,t)),f.debug(\"Creating placeholder for embed\",e,t)},createEmbed:function(t){f.refresh(),t=t||f.get.url(),A=e(\"<div/>\").addClass(p.embed).html(f.generate.embed(t)).appendTo(k),m.onCreate.call(R,t),f.debug(\"Creating embed object\",A)},changeEmbed:function(e){A.html(f.generate.embed(e))},createAndShow:function(){f.createEmbed(),f.show()},change:function(e,t,n){f.debug(\"Changing video to \",e,t,n),k.data(b.source,e).data(b.id,t),n?k.data(b.url,n):k.removeData(b.url),f.has.embed()?f.changeEmbed():f.create()},reset:function(){f.debug(\"Clearing embed and showing placeholder\"),f.remove.active(),f.remove.embed(),f.showPlaceholder(),m.onReset.call(R)},show:function(){f.debug(\"Showing embed\"),f.set.active(),m.onDisplay.call(R)},hide:function(){f.debug(\"Hiding embed\"),f.showPlaceholder()},showPlaceholder:function(){f.debug(\"Showing placeholder image\"),f.remove.active(),m.onPlaceholderDisplay.call(R)},get:{id:function(){return m.id||k.data(b.id)},placeholder:function(){return m.placeholder||k.data(b.placeholder)},icon:function(){return m.icon?m.icon:k.data(b.icon)!==i?k.data(b.icon):f.determine.icon()},source:function(e){return m.source?m.source:k.data(b.source)!==i?k.data(b.source):f.determine.source()},type:function(){var e=f.get.source();return h[e]!==i&&h[e].type},url:function(){return m.url?m.url:k.data(b.url)!==i?k.data(b.url):f.determine.url()}},determine:{autoplay:function(){f.should.autoplay()&&(m.autoplay=!0)},source:function(t){var n=!1;return t=t||f.get.url(),t&&e.each(h,function(e,i){if(t.search(i.domain)!==-1)return n=e,!1}),n},icon:function(){var e=f.get.source();return h[e]!==i&&h[e].icon},url:function(){var e,t=m.id||k.data(b.id),n=m.source||k.data(b.source);return e=h[n]!==i&&h[n].url.replace(\"{id}\",t),e&&k.data(b.url,e),e}},set:{active:function(){k.addClass(p.active)}},remove:{active:function(){k.removeClass(p.active)},embed:function(){A.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(e[t]));return n.join(\"&amp;\")}},generate:{embed:function(e){f.debug(\"Generating embed html\");var t,n,i=f.get.source();return e=f.get.url(e),e?(n=f.generate.parameters(i),t=x.iframe(e,n)):f.error(v.noURL,k),t},parameters:function(t,n){var o=h[t]&&h[t].parameters!==i?h[t].parameters(m):{};return n=n||m.parameters,n&&(o=e.extend({},o,n)),o=m.onEmbed(o),f.encode.parameters(o)}},has:{embed:function(){return A.length>0},placeholder:function(){return m.placeholder||k.data(b.placeholder)}},should:{autoplay:function(){return\"auto\"===m.autoplay?m.placeholder||k.data(b.placeholder)!==i:m.autoplay}},is:{video:function(){return\"video\"==f.get.type()}},setting:function(t,n){if(f.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+\":\"),f.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+\":\"),f.verbose.apply(console,arguments)))},error:function(){m.silent||(f.error=Function.prototype.bind.call(console.error,console,m.name+\":\"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:R,\"Execution Time\":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+\":\",n=0;s=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),a.length>1&&(t+=\" (\"+a.length+\")\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=E;return n=n||d,a=R||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(f.error(v.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(E===i&&f.initialize(),f.invoke(c)):(E!==i&&E.invoke(\"destroy\"),f.initialize())}),o!==i?o:this},e.fn.embed.settings={name:\"Embed\",namespace:\"embed\",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:\"auto\",color:\"#444444\",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:\"id\",icon:\"icon\",placeholder:\"placeholder\",source:\"source\",url:\"url\"},error:{noURL:\"No URL specified\",method:\"The method you called is not defined\"},className:{active:\"active\",embed:\"embed\"},selector:{embed:\".embed\",placeholder:\".placeholder\",icon:\".icon\"},sources:{youtube:{name:\"youtube\",type:\"video\",icon:\"video play\",domain:\"youtube.com\",url:\"//www.youtube.com/embed/{id}\",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||i,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:\"vimeo\",type:\"video\",icon:\"video play\",domain:\"vimeo.com\",url:\"//player.vimeo.com/video/{id}\",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||i,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){var n=e;return t&&(n+=\"?\"+t),'<iframe src=\"'+n+'\" width=\"100%\" height=\"100%\" frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n=\"\";return t&&(n+='<i class=\"'+t+' icon\"></i>'),e&&(n+='<img class=\"placeholder\" src=\"'+e+'\">'),n}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.modal=function(o){var a,r=e(this),s=e(t),l=e(n),c=e(\"body\"),u=r.selector||\"\",d=(new Date).getTime(),f=[],m=arguments[0],g=\"string\"==typeof m,p=[].slice.call(arguments,1),h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,v,b,y,x,C,w,k,S,T=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),A=T.selector,R=T.className,E=T.namespace,P=T.error,F=\".\"+E,O=\"module-\"+E,D=e(this),q=e(T.context),j=D.find(A.close),z=this,M=D.data(O);S={initialize:function(){S.verbose(\"Initializing dimmer\",q),S.create.id(),S.create.dimmer(),S.refreshModals(),S.bind.events(),T.observeChanges&&S.observeChanges(),S.instantiate()},instantiate:function(){S.verbose(\"Storing instance of modal\"),M=S,D.data(O,M)},create:{dimmer:function(){var t={debug:T.debug,dimmerName:\"modals\",duration:{show:T.duration,hide:T.duration}},n=e.extend(!0,t,T.dimmerSettings);return T.inverted&&(n.variation=n.variation!==i?n.variation+\" inverted\":\"inverted\"),e.fn.dimmer===i?void S.error(P.dimmer):(S.debug(\"Creating dimmer with settings\",n),y=q.dimmer(n),T.detachable?(S.verbose(\"Modal is detachable, moving content into dimmer\"),y.dimmer(\"add content\",D)):S.set.undetached(),T.blurring&&y.addClass(R.blurring),void(x=y.dimmer(\"get dimmer\")))},id:function(){w=(Math.random().toString(16)+\"000000000\").substr(2,8),C=\".\"+w,S.verbose(\"Creating unique id for element\",w)}},destroy:function(){S.verbose(\"Destroying previous modal\"),D.removeData(O).off(F),s.off(C),x.off(C),j.off(F),q.dimmer(\"destroy\")},observeChanges:function(){\"MutationObserver\"in t&&(k=new MutationObserver(function(e){S.debug(\"DOM tree modified, refreshing\"),S.refresh()}),k.observe(z,{childList:!0,subtree:!0}),S.debug(\"Setting up mutation observer\",k))},refresh:function(){S.remove.scrolling(),S.cacheSizes(),S.set.screenHeight(),S.set.type(),S.set.position()},refreshModals:function(){v=D.siblings(A.modal),r=v.add(D)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(S[n])?S[n]:S.toggle,i.length>0?(S.debug(\"Attaching modal events to element\",t,n),i.off(F).on(\"click\"+F,n)):S.error(P.notFound,t)},bind:{events:function(){S.verbose(\"Attaching events\"),D.on(\"click\"+F,A.close,S.event.close).on(\"click\"+F,A.approve,S.event.approve).on(\"click\"+F,A.deny,S.event.deny),s.on(\"resize\"+C,S.event.resize)}},get:{id:function(){return(Math.random().toString(16)+\"000000000\").substr(2,8)}},event:{approve:function(){return T.onApprove.call(z,e(this))===!1?void S.verbose(\"Approve callback returned false cancelling hide\"):void S.hide()},deny:function(){return T.onDeny.call(z,e(this))===!1?void S.verbose(\"Deny callback returned false cancelling hide\"):void S.hide()},close:function(){S.hide()},click:function(t){var i=e(t.target),o=i.closest(A.modal).length>0,a=e.contains(n.documentElement,t.target);!o&&a&&(S.debug(\"Dimmer clicked, hiding all modals\"),S.is.active()&&(S.remove.clickaway(),T.allowMultiple?S.hide():S.hideAll()))},debounce:function(e,t){clearTimeout(S.timer),S.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(T.closable?(S.debug(\"Escape key pressed hiding modal\"),S.hide()):S.debug(\"Escape key pressed, but closable is set to false\"),e.preventDefault())},resize:function(){y.dimmer(\"is active\")&&h(S.refresh)}},toggle:function(){S.is.active()||S.is.animating()?S.hide():S.show()},show:function(t){t=e.isFunction(t)?t:function(){},S.refreshModals(),S.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},S.refreshModals(),S.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},S.is.animating()||!S.is.active()?(S.showDimmer(),S.cacheSizes(),S.set.position(),S.set.screenHeight(),S.set.type(),S.set.clickaway(),!T.allowMultiple&&S.others.active()?S.hideOthers(S.showModal):(T.onShow.call(z),T.transition&&e.fn.transition!==i&&D.transition(\"is supported\")?(S.debug(\"Showing modal with css animations\"),D.transition({debug:T.debug,animation:T.transition+\" in\",queue:T.queue,duration:T.duration,useFailSafe:!0,onComplete:function(){T.onVisible.apply(z),T.keyboardShortcuts&&S.add.keyboardShortcuts(),S.save.focus(),S.set.active(),T.autofocus&&S.set.autofocus(),t()}})):S.error(P.noTransition))):S.debug(\"Modal is already visible\")},hideModal:function(t,n){return t=e.isFunction(t)?t:function(){},S.debug(\"Hiding modal\"),T.onHide.call(z,e(this))===!1?void S.verbose(\"Hide callback returned false cancelling hide\"):void((S.is.animating()||S.is.active())&&(T.transition&&e.fn.transition!==i&&D.transition(\"is supported\")?(S.remove.active(),D.transition({debug:T.debug,animation:T.transition+\" out\",queue:T.queue,duration:T.duration,useFailSafe:!0,onStart:function(){S.others.active()||n||S.hideDimmer(),T.keyboardShortcuts&&S.remove.keyboardShortcuts()},onComplete:function(){T.onHidden.call(z),S.restore.focus(),t()}})):S.error(P.noTransition)))},showDimmer:function(){y.dimmer(\"is animating\")||!y.dimmer(\"is active\")?(S.debug(\"Showing dimmer\"),y.dimmer(\"show\")):S.debug(\"Dimmer already visible\")},hideDimmer:function(){return y.dimmer(\"is animating\")||y.dimmer(\"is active\")?void y.dimmer(\"hide\",function(){S.remove.clickaway(),S.remove.screenHeight()}):void S.debug(\"Dimmer is not visible cannot hide\")},hideAll:function(t){var n=r.filter(\".\"+R.active+\", .\"+R.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(S.debug(\"Hiding all visible modals\"),S.hideDimmer(),n.modal(\"hide modal\",t))},hideOthers:function(t){var n=v.filter(\".\"+R.active+\", .\"+R.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(S.debug(\"Hiding other modals\",v),n.modal(\"hide modal\",t,!0))},others:{active:function(){return v.filter(\".\"+R.active).length>0},animating:function(){return v.filter(\".\"+R.animating).length>0}},add:{keyboardShortcuts:function(){S.verbose(\"Adding keyboard shortcuts\"),l.on(\"keyup\"+F,S.event.keyboard)}},save:{focus:function(){b=e(n.activeElement).blur()}},restore:{focus:function(){b&&b.length>0&&b.focus()}},remove:{active:function(){D.removeClass(R.active)},clickaway:function(){T.closable&&x.off(\"click\"+C)},bodyStyle:function(){\"\"===c.attr(\"style\")&&(S.verbose(\"Removing style attribute\"),c.removeAttr(\"style\"))},screenHeight:function(){S.debug(\"Removing page height\"),c.css(\"height\",\"\")},keyboardShortcuts:function(){S.verbose(\"Removing keyboard shortcuts\"),l.off(\"keyup\"+F)},scrolling:function(){y.removeClass(R.scrolling),D.removeClass(R.scrolling)}},cacheSizes:function(){var o=D.outerHeight();S.cache!==i&&0===o||(S.cache={pageHeight:e(n).outerHeight(),height:o+T.offset,contextHeight:\"body\"==T.context?e(t).height():y.height()}),S.debug(\"Caching modal and container sizes\",S.cache)},can:{fit:function(){return S.cache.height+2*T.padding<S.cache.contextHeight}},is:{active:function(){return D.hasClass(R.active)},animating:function(){return D.transition(\"is supported\")?D.transition(\"is animating\"):D.is(\":visible\")},scrolling:function(){return y.hasClass(R.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||\"ActiveXObject\"in t)}},set:{autofocus:function(){var e=D.find(\"[tabindex], :input\").filter(\":visible\"),t=e.filter(\"[autofocus]\"),n=t.length>0?t.first():e.first();n.length>0&&n.focus()},clickaway:function(){T.closable&&x.on(\"click\"+C,S.event.click)},screenHeight:function(){S.can.fit()?c.css(\"height\",\"\"):(S.debug(\"Modal is taller than page content, resizing page height\"),c.css(\"height\",S.cache.height+2*T.padding))},active:function(){D.addClass(R.active)},scrolling:function(){y.addClass(R.scrolling),D.addClass(R.scrolling)},type:function(){S.can.fit()?(S.verbose(\"Modal fits on screen\"),S.others.active()||S.others.animating()||S.remove.scrolling()):(S.verbose(\"Modal cannot fit on screen setting to scrolling\"),S.set.scrolling())},position:function(){S.verbose(\"Centering modal on page\",S.cache),S.can.fit()?D.css({top:\"\",marginTop:-(S.cache.height/2)}):D.css({marginTop:\"\",top:l.scrollTop()})},undetached:function(){y.addClass(R.undetached)}},setting:function(t,n){if(S.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];e.isPlainObject(T[t])?e.extend(!0,T[t],n):T[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];S[t]=n}},debug:function(){!T.silent&&T.debug&&(T.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,T.name+\":\"),S.debug.apply(console,arguments)))},verbose:function(){!T.silent&&T.verbose&&T.debug&&(T.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,T.name+\":\"),S.verbose.apply(console,arguments)))},error:function(){T.silent||(S.error=Function.prototype.bind.call(console.error,console,T.name+\":\"),S.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;T.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:z,\"Execution Time\":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var t=T.name+\":\",n=0;d=!1,clearTimeout(S.performance.timer),e.each(f,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",u&&(t+=\" '\"+u+\"'\"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),f=[]}},invoke:function(t,n,o){var r,s,l,c=M;return n=n||p,o=z||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},g?(M===i&&S.initialize(),S.invoke(m)):(M!==i&&M.invoke(\"destroy\"),S.initialize())}),a!==i?a:this},e.fn.modal.settings={name:\"Modal\",namespace:\"modal\",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:\"body\",queue:!1,duration:500,offset:0,transition:\"scale\",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:\"> .close\",approve:\".actions .positive, .actions .approve, .actions .ok\",deny:\".actions .negative, .actions .deny, .actions .cancel\",modal:\".ui.modal\"},error:{dimmer:\"UI Dimmer, a required component is not included in this page\",method:\"The method you called is not defined.\",notFound:\"The element you specified could not be found\"},className:{active:\"active\",animating:\"animating\",blurring:\"blurring\",scrolling:\"scrolling\",undetached:\"undetached\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.nag=function(n){var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),m=(f.className,f.selector),g=f.error,p=f.namespace,h=\".\"+p,v=p+\"-module\",b=e(this),y=(b.find(m.close),e(f.context?f.context:\"body\")),x=this,C=b.data(v);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};a={initialize:function(){a.verbose(\"Initializing element\"),b.on(\"click\"+h,m.close,a.dismiss).data(v,a),f.detachable&&b.parent()[0]!==y[0]&&b.detach().prependTo(y),f.displayTime>0&&setTimeout(a.hide,f.displayTime),a.show()},destroy:function(){a.verbose(\"Destroying instance\"),b.removeData(v).off(h)},show:function(){a.should.show()&&!b.is(\":visible\")&&(a.debug(\"Showing nag\",f.animation.show),\"fade\"==f.animation.show?b.fadeIn(f.duration,f.easing):b.slideDown(f.duration,f.easing))},hide:function(){a.debug(\"Showing nag\",f.animation.hide),\"fade\"==f.animation.show?b.fadeIn(f.duration,f.easing):b.slideUp(f.duration,f.easing)},onHide:function(){a.debug(\"Removing nag\",f.animation.hide),b.remove(),f.onHide&&f.onHide()},dismiss:function(e){f.storageMethod&&a.storage.set(f.key,f.value),a.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return f.persist?(a.debug(\"Persistent nag is set, can show nag\"),!0):a.storage.get(f.key)!=f.value.toString()?(a.debug(\"Stored value is not set, can show nag\",a.storage.get(f.key)),!0):(a.debug(\"Stored value is set, cannot show nag\",a.storage.get(f.key)),!1)}},get:{storageOptions:function(){var e={};return f.expires&&(e.expires=f.expires),f.domain&&(e.domain=f.domain),f.path&&(e.path=f.path),e}},clear:function(){a.storage.remove(f.key)},storage:{set:function(n,o){var r=a.get.storageOptions();if(\"localstorage\"==f.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,o),a.debug(\"Value stored using local storage\",n,o);else if(\"sessionstorage\"==f.storageMethod&&t.sessionStorage!==i)t.sessionStorage.setItem(n,o),a.debug(\"Value stored using session storage\",n,o);else{if(e.cookie===i)return void a.error(g.noCookieStorage);e.cookie(n,o,r),a.debug(\"Value stored using cookie\",n,o,r)}},get:function(n,o){var r;return\"localstorage\"==f.storageMethod&&t.localStorage!==i?r=t.localStorage.getItem(n):\"sessionstorage\"==f.storageMethod&&t.sessionStorage!==i?r=t.sessionStorage.getItem(n):e.cookie!==i?r=e.cookie(n):a.error(g.noCookieStorage),\"undefined\"!=r&&\"null\"!=r&&r!==i&&null!==r||(r=i),r},remove:function(n){var o=a.get.storageOptions();\"localstorage\"==f.storageMethod&&t.localStorage!==i?t.localStorage.removeItem(n):\"sessionstorage\"==f.storageMethod&&t.sessionStorage!==i?t.sessionStorage.removeItem(n):e.cookie!==i?e.removeCookie(n,o):a.error(g.noStorage)}},setting:function(t,n){if(a.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+\":\"),a.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+\":\"),a.verbose.apply(console,arguments)))},error:function(){f.silent||(a.error=Function.prototype.bind.call(console.error,console,f.name+\":\"),a.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:x,\"Execution Time\":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var t=f.name+\":\",n=0;s=!1,clearTimeout(a.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var s,l,c,u=C;return n=n||d,r=x||r,\"string\"==typeof t&&u!==i&&(t=t.split(/[\\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return l=u[r],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(l=u[o],!1):(a.error(g.method,t),!1);u=u[o]}})),e.isFunction(l)?c=l.apply(r,n):l!==i&&(c=l),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),l}},u?(C===i&&a.initialize(),a.invoke(c)):(C!==i&&C.invoke(\"destroy\"),a.initialize())}),o!==i?o:this},e.fn.nag.settings={name:\"Nag\",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:\"Nag\",persist:!1,displayTime:0,animation:{show:\"slide\",hide:\"slide\"},context:!1,detachable:!1,expires:30,domain:!1,path:\"/\",storageMethod:\"cookie\",key:\"nag\",value:\"dismiss\",error:{noCookieStorage:\"$.cookie is not included. A storage solution is required.\",noStorage:\"Neither $.cookie or store is defined. A storage solution is required for storing state\",method:\"The method you called is not defined.\"},className:{bottom:\"bottom\",fixed:\"fixed\"},selector:{close:\".close.icon\"},speed:500,easing:\"easeOutQuad\",onHide:function(){}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.popup=function(o){var a,r=e(this),s=e(n),l=e(t),c=e(\"body\"),u=r.selector||\"\",d=!0,f=(new Date).getTime(),m=[],g=arguments[0],p=\"string\"==typeof g,h=[].slice.call(arguments,1);return r.each(function(){var r,v,b,y,x,C,w=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),k=w.selector,S=w.className,T=w.error,A=w.metadata,R=w.namespace,E=\".\"+w.namespace,P=\"module-\"+R,F=e(this),O=e(w.context),D=e(w.scrollContext),q=e(w.boundary),j=w.target?e(w.target):F,z=0,M=!1,I=!1,L=this,N=F.data(P);C={initialize:function(){C.debug(\"Initializing\",F),C.createID(),C.bind.events(),!C.exists()&&w.preserve&&C.create(),w.observeChanges&&C.observeChanges(),C.instantiate()},instantiate:function(){C.verbose(\"Storing instance\",C),N=C,F.data(P,N)},observeChanges:function(){\"MutationObserver\"in t&&(b=new MutationObserver(C.event.documentChanged),b.observe(n,{childList:!0,subtree:!0}),C.debug(\"Setting up mutation observer\",b))},refresh:function(){w.popup?r=e(w.popup).eq(0):w.inline&&(r=j.nextAll(k.popup).eq(0),w.popup=r),w.popup?(r.addClass(S.loading),v=C.get.offsetParent(),r.removeClass(S.loading),w.movePopup&&C.has.popup()&&C.get.offsetParent(r)[0]!==v[0]&&(C.debug(\"Moving popup to the same offset parent as activating element\"),r.detach().appendTo(v))):v=w.inline?C.get.offsetParent(j):C.has.popup()?C.get.offsetParent(r):c,v.is(\"html\")&&v[0]!==c[0]&&(C.debug(\"Setting page as offset parent\"),v=c),C.get.variation()&&C.set.variation()},reposition:function(){C.refresh(),C.set.position()},destroy:function(){C.debug(\"Destroying previous module\"),b&&b.disconnect(),r&&!w.preserve&&C.removePopup(),clearTimeout(C.hideTimer),clearTimeout(C.showTimer),C.unbind.close(),C.unbind.events(),F.removeData(P)},event:{start:function(t){var n=e.isPlainObject(w.delay)?w.delay.show:w.delay;clearTimeout(C.hideTimer),I||(C.showTimer=setTimeout(C.show,n))},end:function(){var t=e.isPlainObject(w.delay)?w.delay.hide:w.delay;clearTimeout(C.showTimer),C.hideTimer=setTimeout(C.hide,t)},touchstart:function(e){I=!0,C.show()},resize:function(){C.is.visible()&&C.set.position()},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==L||e(t).find(L).length>0)&&(C.debug(\"Element removed from DOM, tearing down events\"),C.destroy())})})},hideGracefully:function(t){var i=e(t.target),o=e.contains(n.documentElement,t.target),a=i.closest(k.popup).length>0;t&&!a&&o?(C.debug(\"Click occurred outside popup hiding popup\"),C.hide()):C.debug(\"Click was inside popup, keeping popup open\")}},create:function(){var t=C.get.html(),n=C.get.title(),i=C.get.content();t||i||n?(C.debug(\"Creating pop-up html\"),t||(t=w.templates.popup({title:n,content:i})),r=e(\"<div/>\").addClass(S.popup).data(A.activator,F).html(t),w.inline?(C.verbose(\"Inserting popup element inline\",r),r.insertAfter(F)):(C.verbose(\"Appending popup element to body\",r),r.appendTo(O)),C.refresh(),C.set.variation(),w.hoverable&&C.bind.popup(),w.onCreate.call(r,L)):0!==j.next(k.popup).length?(C.verbose(\"Pre-existing popup found\"),w.inline=!0,w.popup=j.next(k.popup).data(A.activator,F),C.refresh(),w.hoverable&&C.bind.popup()):w.popup?(e(w.popup).data(A.activator,F),C.verbose(\"Used popup specified in settings\"),C.refresh(),w.hoverable&&C.bind.popup()):C.debug(\"No content specified skipping display\",L)},createID:function(){x=(Math.random().toString(16)+\"000000000\").substr(2,8),y=\".\"+x,C.verbose(\"Creating unique id for element\",x)},toggle:function(){C.debug(\"Toggling pop-up\"),C.is.hidden()?(C.debug(\"Popup is hidden, showing pop-up\"),C.unbind.close(),C.show()):(C.debug(\"Popup is visible, hiding pop-up\"),\nC.hide())},show:function(e){if(e=e||function(){},C.debug(\"Showing pop-up\",w.transition),C.is.hidden()&&(!C.is.active()||!C.is.dropdown())){if(C.exists()||C.create(),w.onShow.call(r,L)===!1)return void C.debug(\"onShow callback returned false, cancelling popup animation\");w.preserve||w.popup||C.refresh(),r&&C.set.position()&&(C.save.conditions(),w.exclusive&&C.hideAll(),C.animate.show(e))}},hide:function(e){if(e=e||function(){},C.is.visible()||C.is.animating()){if(w.onHide.call(r,L)===!1)return void C.debug(\"onHide callback returned false, cancelling popup animation\");C.remove.visible(),C.unbind.close(),C.restore.conditions(),C.animate.hide(e)}},hideAll:function(){e(k.popup).filter(\".\"+S.visible).each(function(){e(this).data(A.activator).popup(\"hide\")})},exists:function(){return!!r&&(w.inline||w.popup?C.has.popup():r.closest(O).length>=1)},removePopup:function(){C.has.popup()&&!w.popup&&(C.debug(\"Removing popup\",r),r.remove(),r=i,w.onRemove.call(r,L))},save:{conditions:function(){C.cache={title:F.attr(\"title\")},C.cache.title&&F.removeAttr(\"title\"),C.verbose(\"Saving original attributes\",C.cache.title)}},restore:{conditions:function(){return C.cache&&C.cache.title&&(F.attr(\"title\",C.cache.title),C.verbose(\"Restoring original attributes\",C.cache.title)),!0}},supports:{svg:function(){return typeof SVGGraphicsElement===i}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},w.transition&&e.fn.transition!==i&&F.transition(\"is supported\")?(C.set.visible(),r.transition({animation:w.transition+\" in\",queue:!1,debug:w.debug,verbose:w.verbose,duration:w.duration,onComplete:function(){C.bind.close(),t.call(r,L),w.onVisible.call(r,L)}})):C.error(T.noTransition)},hide:function(t){return t=e.isFunction(t)?t:function(){},C.debug(\"Hiding pop-up\"),w.onHide.call(r,L)===!1?void C.debug(\"onHide callback returned false, cancelling popup animation\"):void(w.transition&&e.fn.transition!==i&&F.transition(\"is supported\")?r.transition({animation:w.transition+\" out\",queue:!1,duration:w.duration,debug:w.debug,verbose:w.verbose,onComplete:function(){C.reset(),t.call(r,L),w.onHidden.call(r,L)}}):C.error(T.noTransition))}},change:{content:function(e){r.html(e)}},get:{html:function(){return F.removeData(A.html),F.data(A.html)||w.html},title:function(){return F.removeData(A.title),F.data(A.title)||w.title},content:function(){return F.removeData(A.content),F.data(A.content)||F.attr(\"title\")||w.content},variation:function(){return F.removeData(A.variation),F.data(A.variation)||w.variation},popup:function(){return r},popupOffset:function(){return r.offset()},calculations:function(){var e,n=j[0],i=q[0]==t,o=w.inline||w.popup&&w.movePopup?j.position():j.offset(),a=i?{top:0,left:0}:q.offset(),s={},c=i?{top:l.scrollTop(),left:l.scrollLeft()}:{top:0,left:0};return s={target:{element:j[0],width:j.outerWidth(),height:j.outerHeight(),top:o.top,left:o.left,margin:{}},popup:{width:r.outerWidth(),height:r.outerHeight()},parent:{width:v.outerWidth(),height:v.outerHeight()},screen:{top:a.top,left:a.left,scroll:{top:c.top,left:c.left},width:q.width(),height:q.height()}},w.setFluidWidth&&C.is.fluid()&&(s.container={width:r.parent().outerWidth()},s.popup.width=s.container.width),s.target.margin.top=w.inline?parseInt(t.getComputedStyle(n).getPropertyValue(\"margin-top\"),10):0,s.target.margin.left=w.inline?C.is.rtl()?parseInt(t.getComputedStyle(n).getPropertyValue(\"margin-right\"),10):parseInt(t.getComputedStyle(n).getPropertyValue(\"margin-left\"),10):0,e=s.screen,s.boundary={top:e.top+e.scroll.top,bottom:e.top+e.scroll.top+e.height,left:e.left+e.scroll.left,right:e.left+e.scroll.left+e.width},s},id:function(){return x},startEvent:function(){return\"hover\"==w.on?\"mouseenter\":\"focus\"==w.on&&\"focus\"},scrollEvent:function(){return\"scroll\"},endEvent:function(){return\"hover\"==w.on?\"mouseleave\":\"focus\"==w.on&&\"blur\"},distanceFromBoundary:function(e,t){var n,i,o={};return t=t||C.get.calculations(),n=t.popup,i=t.boundary,e&&(o={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},C.verbose(\"Distance from boundaries determined\",e,o)),o},offsetParent:function(t){var n=t!==i?t[0]:F[0],o=n.parentNode,a=e(o);if(o)for(var r=\"none\"===a.css(\"transform\"),s=\"static\"===a.css(\"position\"),l=a.is(\"html\");o&&!l&&s&&r;)o=o.parentNode,a=e(o),r=\"none\"===a.css(\"transform\"),s=\"static\"===a.css(\"position\"),l=a.is(\"html\");return a&&a.length>0?a:e()},positions:function(){return{\"top left\":!1,\"top center\":!1,\"top right\":!1,\"bottom left\":!1,\"bottom center\":!1,\"bottom right\":!1,\"left center\":!1,\"right center\":!1}},nextPosition:function(e){var t=e.split(\" \"),n=t[0],i=t[1],o={top:\"bottom\",bottom:\"top\",left:\"right\",right:\"left\"},a={left:\"center\",center:\"right\",right:\"left\"},r={\"top left\":\"top center\",\"top center\":\"top right\",\"top right\":\"right center\",\"right center\":\"bottom right\",\"bottom right\":\"bottom center\",\"bottom center\":\"bottom left\",\"bottom left\":\"left center\",\"left center\":\"top left\"},s=\"top\"==n||\"bottom\"==n,l=!1,c=!1,u=!1;return M||(C.verbose(\"All available positions available\"),M=C.get.positions()),C.debug(\"Recording last position tried\",e),M[e]=!0,\"opposite\"===w.prefer&&(u=[o[n],i],u=u.join(\" \"),l=M[u]===!0,C.debug(\"Trying opposite strategy\",u)),\"adjacent\"===w.prefer&&s&&(u=[n,a[i]],u=u.join(\" \"),c=M[u]===!0,C.debug(\"Trying adjacent strategy\",u)),(c||l)&&(C.debug(\"Using backup position\",u),u=r[e]),u}},set:{position:function(e,t){if(0===j.length||0===r.length)return void C.error(T.notFound);var n,o,a,s,l,c,u,d;if(t=t||C.get.calculations(),e=e||F.data(A.position)||w.position,n=F.data(A.offset)||w.offset,o=w.distanceAway,a=t.target,s=t.popup,l=t.parent,0===a.width&&0===a.height&&!C.is.svg(a.element))return C.debug(\"Popup target is hidden, no action taken\"),!1;switch(w.inline&&(C.debug(\"Adding margin to calculation\",a.margin),\"left center\"==e||\"right center\"==e?(n+=a.margin.top,o+=-a.margin.left):\"top left\"==e||\"top center\"==e||\"top right\"==e?(n+=a.margin.left,o-=a.margin.top):(n+=a.margin.left,o+=a.margin.top)),C.debug(\"Determining popup position from calculations\",e,t),C.is.rtl()&&(e=e.replace(/left|right/g,function(e){return\"left\"==e?\"right\":\"left\"}),C.debug(\"RTL: Popup position updated\",e)),z==w.maxSearchDepth&&\"string\"==typeof w.lastResort&&(e=w.lastResort),e){case\"top left\":c={top:\"auto\",bottom:l.height-a.top+o,left:a.left+n,right:\"auto\"};break;case\"top center\":c={bottom:l.height-a.top+o,left:a.left+a.width/2-s.width/2+n,top:\"auto\",right:\"auto\"};break;case\"top right\":c={bottom:l.height-a.top+o,right:l.width-a.left-a.width-n,top:\"auto\",left:\"auto\"};break;case\"left center\":c={top:a.top+a.height/2-s.height/2+n,right:l.width-a.left+o,left:\"auto\",bottom:\"auto\"};break;case\"right center\":c={top:a.top+a.height/2-s.height/2+n,left:a.left+a.width+o,bottom:\"auto\",right:\"auto\"};break;case\"bottom left\":c={top:a.top+a.height+o,left:a.left+n,bottom:\"auto\",right:\"auto\"};break;case\"bottom center\":c={top:a.top+a.height+o,left:a.left+a.width/2-s.width/2+n,bottom:\"auto\",right:\"auto\"};break;case\"bottom right\":c={top:a.top+a.height+o,right:l.width-a.left-a.width-n,left:\"auto\",bottom:\"auto\"}}if(c===i&&C.error(T.invalidPosition,e),C.debug(\"Calculated popup positioning values\",c),r.css(c).removeClass(S.position).addClass(e).addClass(S.loading),u=C.get.popupOffset(),d=C.get.distanceFromBoundary(u,t),C.is.offstage(d,e)){if(C.debug(\"Position is outside viewport\",e),z<w.maxSearchDepth)return z++,e=C.get.nextPosition(e),C.debug(\"Trying new position\",e),!!r&&C.set.position(e,t);if(!w.lastResort)return C.debug(\"Popup could not find a position to display\",r),C.error(T.cannotPlace,L),C.remove.attempts(),C.remove.loading(),C.reset(),w.onUnplaceable.call(r,L),!1;C.debug(\"No position found, showing with last position\")}return C.debug(\"Position is on stage\",e),C.remove.attempts(),C.remove.loading(),w.setFluidWidth&&C.is.fluid()&&C.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||C.get.calculations(),C.debug(\"Automatically setting element width to parent width\",e.parent.width),r.css(\"width\",e.container.width)},variation:function(e){e=e||C.get.variation(),e&&C.has.popup()&&(C.verbose(\"Adding variation to popup\",e),r.addClass(e))},visible:function(){F.addClass(S.visible)}},remove:{loading:function(){r.removeClass(S.loading)},variation:function(e){e=e||C.get.variation(),e&&(C.verbose(\"Removing variation\",e),r.removeClass(e))},visible:function(){F.removeClass(S.visible)},attempts:function(){C.verbose(\"Resetting all searched positions\"),z=0,M=!1}},bind:{events:function(){C.debug(\"Binding popup events to module\"),\"click\"==w.on&&F.on(\"click\"+E,C.toggle),\"hover\"==w.on&&d&&F.on(\"touchstart\"+E,C.event.touchstart),C.get.startEvent()&&F.on(C.get.startEvent()+E,C.event.start).on(C.get.endEvent()+E,C.event.end),w.target&&C.debug(\"Target set to element\",j),l.on(\"resize\"+y,C.event.resize)},popup:function(){C.verbose(\"Allowing hover events on popup to prevent closing\"),r&&C.has.popup()&&r.on(\"mouseenter\"+E,C.event.start).on(\"mouseleave\"+E,C.event.end)},close:function(){(w.hideOnScroll===!0||\"auto\"==w.hideOnScroll&&\"click\"!=w.on)&&D.one(C.get.scrollEvent()+y,C.event.hideGracefully),\"hover\"==w.on&&I&&(C.verbose(\"Binding popup close event to document\"),s.on(\"touchstart\"+y,function(e){C.verbose(\"Touched away from popup\"),C.event.hideGracefully.call(L,e)})),\"click\"==w.on&&w.closable&&(C.verbose(\"Binding popup close event to document\"),s.on(\"click\"+y,function(e){C.verbose(\"Clicked away from popup\"),C.event.hideGracefully.call(L,e)}))}},unbind:{events:function(){l.off(y),F.off(E)},close:function(){s.off(y),D.off(y)}},has:{popup:function(){return r&&r.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-w.jitter&&(C.debug(\"Position exceeds allowable distance from edge\",e,t,n),i.push(e))}),i.length>0},svg:function(e){return C.supports.svg()&&e instanceof SVGGraphicsElement},active:function(){return F.hasClass(S.active)},animating:function(){return r!==i&&r.hasClass(S.animating)},fluid:function(){return r!==i&&r.hasClass(S.fluid)},visible:function(){return r!==i&&r.hasClass(S.visible)},dropdown:function(){return F.hasClass(S.dropdown)},hidden:function(){return!C.is.visible()},rtl:function(){return\"rtl\"==F.css(\"direction\")}},reset:function(){C.remove.visible(),w.preserve?e.fn.transition!==i&&r.transition(\"remove transition\"):C.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){!w.silent&&w.debug&&(w.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,w.name+\":\"),C.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,w.name+\":\"),C.verbose.apply(console,arguments)))},error:function(){w.silent||(C.error=Function.prototype.bind.call(console.error,console,w.name+\":\"),C.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;w.performance&&(t=(new Date).getTime(),i=f||t,n=t-i,f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:L,\"Execution Time\":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=w.name+\":\",n=0;f=!1,clearTimeout(C.performance.timer),e.each(m,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",u&&(t+=\" '\"+u+\"'\"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var r,s,l,c=N;return n=n||h,o=L||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},p?(N===i&&C.initialize(),C.invoke(g)):(N!==i&&N.invoke(\"destroy\"),C.initialize())}),a!==i?a:this},e.fn.popup.settings={name:\"Popup\",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:\"popup\",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:\"hover\",boundary:t,addTouchEvents:!0,position:\"top left\",variation:\"\",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:\"auto\",exclusive:!1,context:\"body\",scrollContext:t,prefer:\"opposite\",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:\"scale\",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:\"The position you specified is not a valid position\",cannotPlace:\"Popup does not fit within the boundaries of the viewport\",method:\"The method you called is not defined.\",noTransition:\"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>\",notFound:\"The target or popup you specified does not exist on the page\"},metadata:{activator:\"activator\",content:\"content\",html:\"html\",offset:\"offset\",position:\"position\",title:\"title\",variation:\"variation\"},className:{active:\"active\",animating:\"animating\",dropdown:\"dropdown\",fluid:\"fluid\",loading:\"loading\",popup:\"ui popup\",position:\"top left center bottom right\",visible:\"visible\"},selector:{popup:\".ui.popup\"},templates:{escape:function(e){var t=/[&<>\"'`]/g,n=/[&<>\"'`]/,i={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},popup:function(t){var n=\"\",o=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=o(t.title),n+='<div class=\"header\">'+t.title+\"</div>\"),typeof t.content!==i&&t.content&&(t.content=o(t.content),n+='<div class=\"content\">'+t.content+\"</div>\")),n}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();e.fn.progress=function(t){var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,f,m=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),g=m.className,p=m.metadata,h=m.namespace,v=m.selector,b=m.error,y=\".\"+h,x=\"module-\"+h,C=e(this),w=e(this).find(v.bar),k=e(this).find(v.progress),S=e(this).find(v.label),T=this,A=C.data(x),R=!1;f={initialize:function(){f.debug(\"Initializing progress bar\",m),f.set.duration(),f.set.transitionEvent(),f.read.metadata(),f.read.settings(),f.instantiate()},instantiate:function(){f.verbose(\"Storing instance of progress\",f),A=f,C.data(x,f)},destroy:function(){f.verbose(\"Destroying previous progress for\",C),clearInterval(A.interval),f.remove.state(),C.removeData(x),A=i},reset:function(){f.remove.nextValue(),f.update.progress(0)},complete:function(){(f.percent===i||f.percent<100)&&(f.remove.progressPoll(),f.set.percent(100))},read:{metadata:function(){var e={percent:C.data(p.percent),total:C.data(p.total),value:C.data(p.value)};e.percent&&(f.debug(\"Current percent value set from metadata\",e.percent),f.set.percent(e.percent)),e.total&&(f.debug(\"Total value set from metadata\",e.total),f.set.total(e.total)),e.value&&(f.debug(\"Current value set from metadata\",e.value),f.set.value(e.value),f.set.progress(e.value))},settings:function(){m.total!==!1&&(f.debug(\"Current total set in settings\",m.total),f.set.total(m.total)),m.value!==!1&&(f.debug(\"Current value set in settings\",m.value),f.set.value(m.value),f.set.progress(f.value)),m.percent!==!1&&(f.debug(\"Current percent set in settings\",m.percent),f.set.percent(m.percent))}},bind:{transitionEnd:function(e){var t=f.get.transitionEnd();w.one(t+y,function(t){clearTimeout(f.failSafeTimer),e.call(this,t)}),f.failSafeTimer=setTimeout(function(){w.triggerHandler(t)},m.duration+m.failSafeDelay),f.verbose(\"Adding fail safe timer\",f.timer)}},increment:function(e){var t,n,i;f.has.total()?(n=f.get.value(),e=e||1,i=n+e):(n=f.get.percent(),e=e||f.get.randomValue(),i=n+e,t=100,f.debug(\"Incrementing percentage by\",n,i)),i=f.get.normalizedValue(i),f.set.progress(i)},decrement:function(e){var t,n,i=f.get.total();i?(t=f.get.value(),e=e||1,n=t-e,f.debug(\"Decrementing value by\",e,t)):(t=f.get.percent(),e=e||f.get.randomValue(),n=t-e,f.debug(\"Decrementing percentage by\",e,t)),n=f.get.normalizedValue(n),f.set.progress(n)},has:{progressPoll:function(){return f.progressPoll},total:function(){return f.get.total()!==!1}},get:{text:function(e){var t=f.value||0,n=f.total||0,i=R?f.get.displayPercent():f.percent||0,o=f.total>0?n-t:100-i;return e=e||\"\",e=e.replace(\"{value}\",t).replace(\"{total}\",n).replace(\"{left}\",o).replace(\"{percent}\",i),f.verbose(\"Adding variables to progress bar text\",e),e},normalizedValue:function(e){if(e<0)return f.debug(\"Value cannot decrement below 0\"),0;if(f.has.total()){if(e>f.total)return f.debug(\"Value cannot increment above total\",f.total),f.total}else if(e>100)return f.debug(\"Value cannot increment above 100 percent\"),100;return e},updateInterval:function(){return\"auto\"==m.updateInterval?m.duration:m.updateInterval},randomValue:function(){return f.debug(\"Generating random increment percentage\"),Math.floor(Math.random()*m.random.max+m.random.min)},numericValue:function(e){return\"string\"==typeof e?\"\"!==e.replace(/[^\\d.]/g,\"\")&&+e.replace(/[^\\d.]/g,\"\"):e},transitionEnd:function(){var e,t=n.createElement(\"element\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in o)if(t.style[e]!==i)return o[e]},displayPercent:function(){var e=w.width(),t=C.width(),n=parseInt(w.css(\"min-width\"),10),i=e>n?e/t*100:f.percent;return m.precision>0?Math.round(i*(10*m.precision))/(10*m.precision):Math.round(i)},percent:function(){return f.percent||0},value:function(){return f.nextValue||f.value||0},total:function(){return f.total||!1}},create:{progressPoll:function(){f.progressPoll=setTimeout(function(){f.update.toNextValue(),f.remove.progressPoll()},f.get.updateInterval())}},is:{complete:function(){return f.is.success()||f.is.warning()||f.is.error()},success:function(){return C.hasClass(g.success)},warning:function(){return C.hasClass(g.warning)},error:function(){return C.hasClass(g.error)},active:function(){return C.hasClass(g.active)},visible:function(){return C.is(\":visible\")}},remove:{progressPoll:function(){f.verbose(\"Removing progress poll timer\"),f.progressPoll&&(clearTimeout(f.progressPoll),delete f.progressPoll)},nextValue:function(){f.verbose(\"Removing progress value stored for next update\"),delete f.nextValue},state:function(){f.verbose(\"Removing stored state\"),delete f.total,delete f.percent,delete f.value},active:function(){f.verbose(\"Removing active state\"),C.removeClass(g.active)},success:function(){f.verbose(\"Removing success state\"),C.removeClass(g.success)},warning:function(){f.verbose(\"Removing warning state\"),C.removeClass(g.warning)},error:function(){f.verbose(\"Removing error state\"),C.removeClass(g.error)}},set:{barWidth:function(e){e>100?f.error(b.tooHigh,e):e<0?f.error(b.tooLow,e):(w.css(\"width\",e+\"%\"),C.attr(\"data-percent\",parseInt(e,10)))},duration:function(e){e=e||m.duration,e=\"number\"==typeof e?e+\"ms\":e,f.verbose(\"Setting progress bar transition duration\",e),w.css({\"transition-duration\":e})},percent:function(e){e=\"string\"==typeof e?+e.replace(\"%\",\"\"):e,e=m.precision>0?Math.round(e*(10*m.precision))/(10*m.precision):Math.round(e),f.percent=e,f.has.total()||(f.value=m.precision>0?Math.round(e/100*f.total*(10*m.precision))/(10*m.precision):Math.round(e/100*f.total*10)/10,m.limitValues&&(f.value=f.value>100?100:f.value<0?0:f.value)),f.set.barWidth(e),f.set.labelInterval(),f.set.labels(),m.onChange.call(T,e,f.value,f.total)},labelInterval:function(){var t=function(){f.verbose(\"Bar finished animating, removing continuous label updates\"),clearInterval(f.interval),R=!1,f.set.labels()};clearInterval(f.interval),f.bind.transitionEnd(t),R=!0,f.interval=setInterval(function(){var t=e.contains(n.documentElement,T);t||(clearInterval(f.interval),R=!1),f.set.labels()},m.framerate)},labels:function(){f.verbose(\"Setting both bar progress and outer label text\"),f.set.barLabel(),f.set.state()},label:function(e){e=e||\"\",e&&(e=f.get.text(e),f.verbose(\"Setting label to text\",e),S.text(e))},state:function(e){e=e!==i?e:f.percent,100===e?m.autoSuccess&&!(f.is.warning()||f.is.error()||f.is.success())?(f.set.success(),f.debug(\"Automatically triggering success at 100%\")):(f.verbose(\"Reached 100% removing active state\"),f.remove.active(),f.remove.progressPoll()):e>0?(f.verbose(\"Adjusting active progress bar label\",e),f.set.active()):(f.remove.active(),f.set.label(m.text.active))},barLabel:function(e){e!==i?k.text(f.get.text(e)):\"ratio\"==m.label&&f.total?(f.verbose(\"Adding ratio to bar label\"),k.text(f.get.text(m.text.ratio))):\"percent\"==m.label&&(f.verbose(\"Adding percentage to bar label\"),k.text(f.get.text(m.text.percent)))},active:function(e){e=e||m.text.active,f.debug(\"Setting active state\"),m.showActivity&&!f.is.active()&&C.addClass(g.active),f.remove.warning(),f.remove.error(),f.remove.success(),e=m.onLabelUpdate(\"active\",e,f.value,f.total),e&&f.set.label(e),f.bind.transitionEnd(function(){m.onActive.call(T,f.value,f.total)})},success:function(e){e=e||m.text.success||m.text.active,f.debug(\"Setting success state\"),C.addClass(g.success),f.remove.active(),f.remove.warning(),f.remove.error(),f.complete(),m.text.success?(e=m.onLabelUpdate(\"success\",e,f.value,f.total),f.set.label(e)):(e=m.onLabelUpdate(\"active\",e,f.value,f.total),f.set.label(e)),f.bind.transitionEnd(function(){m.onSuccess.call(T,f.total)})},warning:function(e){e=e||m.text.warning,f.debug(\"Setting warning state\"),C.addClass(g.warning),f.remove.active(),f.remove.success(),f.remove.error(),f.complete(),e=m.onLabelUpdate(\"warning\",e,f.value,f.total),e&&f.set.label(e),f.bind.transitionEnd(function(){m.onWarning.call(T,f.value,f.total)})},error:function(e){e=e||m.text.error,f.debug(\"Setting error state\"),C.addClass(g.error),f.remove.active(),f.remove.success(),f.remove.warning(),f.complete(),e=m.onLabelUpdate(\"error\",e,f.value,f.total),e&&f.set.label(e),f.bind.transitionEnd(function(){m.onError.call(T,f.value,f.total)})},transitionEvent:function(){a=f.get.transitionEnd()},total:function(e){f.total=e},value:function(e){f.value=e},progress:function(e){f.has.progressPoll()?(f.debug(\"Updated within interval, setting next update to use new value\",e),f.set.nextValue(e)):(f.debug(\"First update in progress update interval, immediately updating\",e),f.update.progress(e),f.create.progressPoll())},nextValue:function(e){f.nextValue=e}},update:{toNextValue:function(){var e=f.nextValue;e&&(f.debug(\"Update interval complete using last updated value\",e),f.update.progress(e),f.remove.nextValue())},progress:function(e){var t;e=f.get.numericValue(e),e===!1&&f.error(b.nonNumeric,e),e=f.get.normalizedValue(e),f.has.total()?(f.set.value(e),t=e/f.total*100,f.debug(\"Calculating percent complete from total\",t),f.set.percent(t)):(t=e,f.debug(\"Setting value to exact percentage value\",t),f.set.percent(t))}},setting:function(t,n){if(f.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+\":\"),f.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+\":\"),f.verbose.apply(console,arguments)))},error:function(){m.silent||(f.error=Function.prototype.bind.call(console.error,console,m.name+\":\"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:T,\"Execution Time\":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+\":\",n=0;s=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=A;return n=n||d,a=T||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(f.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(A===i&&f.initialize(),f.invoke(c)):(A!==i&&A.invoke(\"destroy\"),f.initialize())}),o!==i?o:this},e.fn.progress.settings={name:\"Progress\",namespace:\"progress\",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:\"auto\",autoSuccess:!0,showActivity:!0,limitValues:!0,label:\"percent\",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(e,t,n,i){return t},onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:\"The method you called is not defined.\",nonNumeric:\"Progress value is non numeric\",tooHigh:\"Value specified is above 100%\",tooLow:\"Value specified is below 0%\"},regExp:{variable:/\\{\\$*[A-z0-9]+\\}/g},metadata:{percent:\"percent\",total:\"total\",value:\"value\"},selector:{bar:\"> .bar\",label:\"> .label\",progress:\".bar > .progress\"},text:{active:!1,error:!1,success:!1,warning:!1,percent:\"{percent}%\",ratio:\"{value} of {total}\"},className:{active:\"active\",error:\"error\",success:\"success\",warning:\"warning\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.rating=function(t){var n,o=e(this),a=o.selector||\"\",r=(new Date).getTime(),s=[],l=arguments[0],c=\"string\"==typeof l,u=[].slice.call(arguments,1);return o.each(function(){var d,f,m=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),g=m.namespace,p=m.className,h=m.metadata,v=m.selector,b=(m.error,\".\"+g),y=\"module-\"+g,x=this,C=e(this).data(y),w=e(this),k=w.find(v.icon);f={initialize:function(){f.verbose(\"Initializing rating module\",m),0===k.length&&f.setup.layout(),m.interactive?f.enable():f.disable(),f.set.initialLoad(),f.set.rating(f.get.initialRating()),f.remove.initialLoad(),f.instantiate()},instantiate:function(){f.verbose(\"Instantiating module\",m),C=f,w.data(y,f)},destroy:function(){f.verbose(\"Destroying previous instance\",C),f.remove.events(),w.removeData(y)},refresh:function(){k=w.find(v.icon)},setup:{layout:function(){var t=f.get.maxRating(),n=e.fn.rating.settings.templates.icon(t);f.debug(\"Generating icon html dynamically\"),w.html(n),f.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(p.selected),w.addClass(p.selected),t.addClass(p.selected).prevAll().addClass(p.selected)},mouseleave:function(){w.removeClass(p.selected),k.removeClass(p.selected)},click:function(){var t=e(this),n=f.get.rating(),i=k.index(t)+1,o=\"auto\"==m.clearable?1===k.length:m.clearable;o&&n==i?f.clearRating():f.set.rating(i)}},clearRating:function(){f.debug(\"Clearing current rating\"),f.set.rating(0)},bind:{events:function(){f.verbose(\"Binding events\"),w.on(\"mouseenter\"+b,v.icon,f.event.mouseenter).on(\"mouseleave\"+b,v.icon,f.event.mouseleave).on(\"click\"+b,v.icon,f.event.click)}},remove:{events:function(){f.verbose(\"Removing events\"),w.off(b)},initialLoad:function(){d=!1}},enable:function(){f.debug(\"Setting rating to interactive mode\"),f.bind.events(),w.removeClass(p.disabled)},disable:function(){f.debug(\"Setting rating to read-only mode\"),f.remove.events(),w.addClass(p.disabled)},is:{initialLoad:function(){return d}},get:{initialRating:function(){return w.data(h.rating)!==i?(w.removeData(h.rating),w.data(h.rating)):m.initialRating},maxRating:function(){return w.data(h.maxRating)!==i?(w.removeData(h.maxRating),w.data(h.maxRating)):m.maxRating},rating:function(){var e=k.filter(\".\"+p.active).length;return f.verbose(\"Current rating retrieved\",e),e}},set:{rating:function(e){var t=e-1>=0?e-1:0,n=k.eq(t);w.removeClass(p.selected),k.removeClass(p.selected).removeClass(p.active),e>0&&(f.verbose(\"Setting current rating to\",e),n.prevAll().addBack().addClass(p.active)),f.is.initialLoad()||m.onRate.call(x,e)},initialLoad:function(){d=!0}},setting:function(t,n){if(f.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+\":\"),f.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+\":\"),f.verbose.apply(console,arguments)))},error:function(){m.silent||(f.error=Function.prototype.bind.call(console.error,console,m.name+\":\"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:x,\"Execution Time\":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+\":\",n=0;r=!1,clearTimeout(f.performance.timer),e.each(s,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",a&&(t+=\" '\"+a+\"'\"),o.length>1&&(t+=\" (\"+o.length+\")\"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),s=[]}},invoke:function(t,o,a){var r,s,l,c=C;return o=o||u,a=x||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,o):s!==i&&(l=s),e.isArray(n)?n.push(l):n!==i?n=[n,l]:l!==i&&(n=l),s}},c?(C===i&&f.initialize(),f.invoke(l)):(C!==i&&C.invoke(\"destroy\"),f.initialize())}),n!==i?n:this},e.fn.rating.settings={name:\"Rating\",namespace:\"rating\",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:\"auto\",fireOnInit:!1,onRate:function(e){},error:{method:\"The method you called is not defined\",noMaximum:\"No maximum rating specified. Cannot generate HTML automatically\"},metadata:{rating:\"rating\",maxRating:\"maxRating\"},className:{active:\"active\",disabled:\"disabled\",selected:\"selected\",loading:\"loading\"},selector:{icon:\".icon\"},templates:{icon:function(e){for(var t=1,n=\"\";t<=e;)n+='<i class=\"icon\"></i>',t++;return n}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),\ne.fn.search=function(o){var a,r=e(this),s=r.selector||\"\",l=(new Date).getTime(),c=[],u=arguments[0],d=\"string\"==typeof u,f=[].slice.call(arguments,1);return e(this).each(function(){var m,g=e.isPlainObject(o)?e.extend(!0,{},e.fn.search.settings,o):e.extend({},e.fn.search.settings),p=g.className,h=g.metadata,v=g.regExp,b=g.fields,y=g.selector,x=g.error,C=g.namespace,w=\".\"+C,k=C+\"-module\",S=e(this),T=S.find(y.prompt),A=S.find(y.searchButton),R=S.find(y.results),E=S.find(y.result),P=S.find(y.category),F=this,O=S.data(k),D=!1;m={initialize:function(){m.verbose(\"Initializing module\"),m.determine.searchFields(),m.bind.events(),m.set.type(),m.create.results(),m.instantiate()},instantiate:function(){m.verbose(\"Storing instance of module\",m),O=m,S.data(k,m)},destroy:function(){m.verbose(\"Destroying instance\"),S.off(w).removeData(k)},refresh:function(){m.debug(\"Refreshing selector cache\"),T=S.find(y.prompt),A=S.find(y.searchButton),P=S.find(y.category),R=S.find(y.results),E=S.find(y.result)},refreshResults:function(){R=S.find(y.results),E=S.find(y.result)},bind:{events:function(){m.verbose(\"Binding events to search\"),g.automatic&&(S.on(m.get.inputEvent()+w,y.prompt,m.event.input),T.attr(\"autocomplete\",\"off\")),S.on(\"focus\"+w,y.prompt,m.event.focus).on(\"blur\"+w,y.prompt,m.event.blur).on(\"keydown\"+w,y.prompt,m.handleKeyboard).on(\"click\"+w,y.searchButton,m.query).on(\"mousedown\"+w,y.results,m.event.result.mousedown).on(\"mouseup\"+w,y.results,m.event.result.mouseup).on(\"click\"+w,y.result,m.event.result.click)}},determine:{searchFields:function(){o&&o.searchFields!==i&&(g.searchFields=o.searchFields)}},event:{input:function(){clearTimeout(m.timer),m.timer=setTimeout(m.query,g.searchDelay)},focus:function(){m.set.focus(),m.has.minimumCharacters()&&(m.query(),m.can.show()&&m.showResults())},blur:function(e){var t=n.activeElement===this,i=function(){m.cancel.query(),m.remove.focus(),m.timer=setTimeout(m.hideResults,g.hideDelay)};t||(m.resultsClicked?(m.debug(\"Determining if user action caused search to close\"),S.one(\"click.close\"+w,y.results,function(e){return m.is.inMessage(e)||D?void T.focus():(D=!1,void(m.is.animating()||m.is.hidden()||i()))})):(m.debug(\"Input blurred without user action, closing results\"),i()))},result:{mousedown:function(){m.resultsClicked=!0},mouseup:function(){m.resultsClicked=!1},click:function(n){m.debug(\"Search result selected\");var i=e(this),o=i.find(y.title).eq(0),a=i.is(\"a[href]\")?i:i.find(\"a[href]\").eq(0),r=a.attr(\"href\")||!1,s=a.attr(\"target\")||!1,l=(o.html(),o.length>0&&o.text()),c=m.get.results(),u=i.data(h.result)||m.get.result(l,c);return e.isFunction(g.onSelect)&&g.onSelect.call(F,u,c)===!1?(m.debug(\"Custom onSelect callback cancelled default select action\"),void(D=!0)):(m.hideResults(),l&&m.set.value(l),void(r&&(m.verbose(\"Opening search link found in result\",a),\"_blank\"==s||n.ctrlKey?t.open(r):t.location.href=r)))}}},handleKeyboard:function(e){var t,n=S.find(y.result),i=S.find(y.category),o=n.filter(\".\"+p.active),a=n.index(o),r=n.length,s=o.length>0,l=e.which,c={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(l==c.escape&&(m.verbose(\"Escape key pressed, blurring search field\"),m.trigger.blur()),m.is.visible())if(l==c.enter){if(m.verbose(\"Enter key pressed, selecting active result\"),n.filter(\".\"+p.active).length>0)return m.event.result.click.call(n.filter(\".\"+p.active),e),e.preventDefault(),!1}else l==c.upArrow&&s?(m.verbose(\"Up key pressed, changing active result\"),t=a-1<0?a:a-1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault()):l==c.downArrow&&(m.verbose(\"Down key pressed, changing active result\"),t=a+1>=r?a:a+1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault());else l==c.enter&&(m.verbose(\"Enter key pressed, executing query\"),m.query(),m.set.buttonPressed(),T.one(\"keyup\",m.remove.buttonFocus))},setup:{api:function(t){var n={debug:g.debug,on:!1,cache:!0,action:\"search\",urlData:{query:t},onSuccess:function(e){m.parse.response.call(F,e,t)},onAbort:function(e){},onFailure:function(){m.displayMessage(x.serverError)},onError:m.error};e.extend(!0,n,g.apiSettings),m.verbose(\"Setting up API request\",n),S.api(n)}},can:{useAPI:function(){return e.fn.api!==i},show:function(){return m.is.focused()&&!m.is.visible()&&!m.is.empty()},transition:function(){return g.transition&&e.fn.transition!==i&&S.transition(\"is supported\")}},is:{animating:function(){return R.hasClass(p.animating)},hidden:function(){return R.hasClass(p.hidden)},inMessage:function(t){if(t.target){var i=e(t.target),o=e.contains(n.documentElement,t.target);return o&&i.closest(y.message).length>0}},empty:function(){return\"\"===R.html()},visible:function(){return R.filter(\":visible\").length>0},focused:function(){return T.filter(\":focus\").length>0}},trigger:{blur:function(){var e=n.createEvent(\"HTMLEvents\"),t=T[0];t&&(m.verbose(\"Triggering native blur event\"),e.initEvent(\"blur\",!1,!1),t.dispatchEvent(e))}},get:{inputEvent:function(){var e=T[0],t=e!==i&&e.oninput!==i?\"input\":e!==i&&e.onpropertychange!==i?\"propertychange\":\"keyup\";return t},value:function(){return T.val()},results:function(){var e=S.data(h.results);return e},result:function(t,n){var o=[\"title\",\"id\"],a=!1;return t=t!==i?t:m.get.value(),n=n!==i?n:m.get.results(),\"category\"===g.type?(m.debug(\"Finding result that matches\",t),e.each(n,function(n,i){if(e.isArray(i.results)&&(a=m.search.object(t,i.results,o)[0]))return!1})):(m.debug(\"Finding result in results object\",t),a=m.search.object(t,n,o)[0]),a||!1}},select:{firstResult:function(){m.verbose(\"Selecting first result\"),E.first().addClass(p.active)}},set:{focus:function(){S.addClass(p.focus)},loading:function(){S.addClass(p.loading)},value:function(e){m.verbose(\"Setting search input value\",e),T.val(e)},type:function(e){e=e||g.type,\"category\"==g.type&&S.addClass(g.type)},buttonPressed:function(){A.addClass(p.pressed)}},remove:{loading:function(){S.removeClass(p.loading)},focus:function(){S.removeClass(p.focus)},buttonPressed:function(){A.removeClass(p.pressed)}},query:function(){var t=m.get.value(),n=m.read.cache(t);m.has.minimumCharacters()?(n?(m.debug(\"Reading result from cache\",t),m.save.results(n.results),m.addResults(n.html),m.inject.id(n.results)):(m.debug(\"Querying for\",t),e.isPlainObject(g.source)||e.isArray(g.source)?m.search.local(t):m.can.useAPI()?m.search.remote(t):m.error(x.source)),g.onSearchQuery.call(F,t)):m.hideResults()},search:{local:function(e){var t,n=m.search.object(e,g.content);m.set.loading(),m.save.results(n),m.debug(\"Returned local search results\",n),t=m.generateResults({results:n}),m.remove.loading(),m.addResults(t),m.inject.id(n),m.write.cache(e,{html:t,results:n})},remote:function(e){S.api(\"is loading\")&&S.api(\"abort\"),m.setup.api(e),S.api(\"query\")},object:function(t,n,o){var a=[],r=[],s=t.toString().replace(v.escape,\"\\\\$&\"),l=new RegExp(v.beginsWith+s,\"i\"),c=function(t,n){var i=e.inArray(n,a)==-1,o=e.inArray(n,r)==-1;i&&o&&t.push(n)};return n=n||g.source,o=o!==i?o:g.searchFields,e.isArray(o)||(o=[o]),n===i||n===!1?(m.error(x.source),[]):(e.each(o,function(i,o){e.each(n,function(e,n){var i=\"string\"==typeof n[o];i&&(n[o].search(l)!==-1?c(a,n):g.searchFullText&&m.fuzzySearch(t,n[o])&&c(r,n))})}),e.merge(a,r))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(\"string\"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;o<i;o++){for(var r=e.charCodeAt(o);a<n;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},parse:{response:function(e,t){var n=m.generateResults(e);m.verbose(\"Parsing server response\",e),e!==i&&t!==i&&e[b.results]!==i&&(m.addResults(n),m.inject.id(e[b.results]),m.write.cache(t,{html:n,results:e[b.results]}),m.save.results(e[b.results]))}},cancel:{query:function(){m.can.useAPI()&&S.api(\"abort\")}},has:{minimumCharacters:function(){var e=m.get.value(),t=e.length;return t>=g.minCharacters}},clear:{cache:function(e){var t=S.data(h.cache);e?e&&t&&t[e]&&(m.debug(\"Removing value from cache\",e),delete t[e],S.data(h.cache,t)):(m.debug(\"Clearing cache\",e),S.removeData(h.cache))}},read:{cache:function(e){var t=S.data(h.cache);return!!g.cache&&(m.verbose(\"Checking cache for generated html for query\",e),\"object\"==typeof t&&t[e]!==i&&t[e])}},create:{id:function(e,t){var n,o,a=e+1;return t!==i?(n=String.fromCharCode(97+t),o=n+a,m.verbose(\"Creating category result id\",o)):(o=a,m.verbose(\"Creating result id\",o)),o},results:function(){0===R.length&&(R=e(\"<div />\").addClass(p.results).appendTo(S))}},inject:{result:function(e,t,n){m.verbose(\"Injecting result into results\");var o=n!==i?R.children().eq(n).children(y.result).eq(t):R.children(y.result).eq(t);m.verbose(\"Injecting results metadata\",o),o.data(h.result,e)},id:function(t){m.debug(\"Injecting unique ids into results\");var n=0,o=0;return\"category\"===g.type?e.each(t,function(t,a){o=0,e.each(a.results,function(e,t){var r=a.results[e];r.id===i&&(r.id=m.create.id(o,n)),m.inject.result(r,o,n),o++}),n++}):e.each(t,function(e,n){var a=t[e];a.id===i&&(a.id=m.create.id(o)),m.inject.result(a,o),o++}),t}},save:{results:function(e){m.verbose(\"Saving current search results to metadata\",e),S.data(h.results,e)}},write:{cache:function(e,t){var n=S.data(h.cache)!==i?S.data(h.cache):{};g.cache&&(m.verbose(\"Writing generated html to cache\",e,t),n[e]=t,S.data(h.cache,n))}},addResults:function(t){return e.isFunction(g.onResultsAdd)&&g.onResultsAdd.call(R,t)===!1?(m.debug(\"onResultsAdd callback cancelled default action\"),!1):void(t?(R.html(t),m.refreshResults(),g.selectFirstResult&&m.select.firstResult(),m.showResults()):m.hideResults())},showResults:function(){m.is.visible()||(m.can.transition()?(m.debug(\"Showing results with css animations\"),R.transition({animation:g.transition+\" in\",debug:g.debug,verbose:g.verbose,duration:g.duration,queue:!0})):(m.debug(\"Showing results with javascript\"),R.stop().fadeIn(g.duration,g.easing)),g.onResultsOpen.call(R))},hideResults:function(){m.is.visible()&&(m.can.transition()?(m.debug(\"Hiding results with css animations\"),R.transition({animation:g.transition+\" out\",debug:g.debug,verbose:g.verbose,duration:g.duration,queue:!0})):(m.debug(\"Hiding results with javascript\"),R.stop().fadeOut(g.duration,g.easing)),g.onResultsClose.call(R))},generateResults:function(t){m.debug(\"Generating html from response\",t);var n=g.templates[g.type],i=e.isPlainObject(t[b.results])&&!e.isEmptyObject(t[b.results]),o=e.isArray(t[b.results])&&t[b.results].length>0,a=\"\";return i||o?(g.maxResults>0&&(i?\"standard\"==g.type&&m.error(x.maxResults):t[b.results]=t[b.results].slice(0,g.maxResults)),e.isFunction(n)?a=n(t,b):m.error(x.noTemplate,!1)):g.showNoResults&&(a=m.displayMessage(x.noResults,\"empty\")),g.onResults.call(F,t),a},displayMessage:function(e,t){return t=t||\"standard\",m.debug(\"Displaying message\",e,t),m.addResults(g.templates.message(e,t)),g.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.verbose.apply(console,arguments)))},error:function(){g.silent||(m.error=Function.prototype.bind.call(console.error,console,g.name+\":\"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:F,\"Execution Time\":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+\":\",n=0;l=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",s&&(t+=\" '\"+s+\"'\"),r.length>1&&(t+=\" (\"+r.length+\")\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=O;return n=n||f,o=F||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(O===i&&m.initialize(),m.invoke(u)):(O!==i&&O.invoke(\"destroy\"),m.initialize())}),a!==i?a:this},e.fn.search.settings={name:\"Search\",namespace:\"search\",silent:!1,debug:!1,verbose:!1,performance:!0,type:\"standard\",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchFields:[\"title\",\"description\"],displayField:\"\",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:\"scale\",duration:200,easing:\"easeOutExpo\",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:\"animating\",active:\"active\",empty:\"empty\",focus:\"focus\",hidden:\"hidden\",loading:\"loading\",results:\"results\",pressed:\"down\"},error:{source:\"Cannot search. No source used, and Semantic API module was not included\",noResults:\"Your search returned no results\",logging:\"Error in debug logging, exiting.\",noEndpoint:\"No search endpoint was specified\",noTemplate:\"A valid template name was not specified.\",serverError:\"There was an issue querying the server.\",maxResults:\"Results must be an array to use maxResults setting\",method:\"The method you called is not defined.\"},metadata:{cache:\"cache\",results:\"results\",result:\"result\"},regExp:{escape:/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,beginsWith:\"(?:s|^)\"},fields:{categories:\"results\",categoryName:\"name\",categoryResults:\"results\",description:\"description\",image:\"image\",price:\"price\",results:\"results\",title:\"title\",url:\"url\",action:\"action\",actionText:\"text\",actionURL:\"url\"},selector:{prompt:\".prompt\",searchButton:\".search.button\",results:\".results\",message:\".results > .message\",category:\".category\",result:\".result\",title:\".title, .name\"},templates:{escape:function(e){var t=/[&<>\"'`]/g,n=/[&<>\"'`]/,i={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},message:function(e,t){var n=\"\";return e!==i&&t!==i&&(n+='<div class=\"message '+t+'\">',n+=\"empty\"==t?'<div class=\"header\">No Results</div class=\"header\"><div class=\"description\">'+e+'</div class=\"description\">':' <div class=\"description\">'+e+\"</div>\",n+=\"</div>\"),n},category:function(t,n){var o=\"\";e.fn.search.settings.templates.escape;return t[n.categoryResults]!==i&&(e.each(t[n.categoryResults],function(t,a){a[n.results]!==i&&a.results.length>0&&(o+='<div class=\"category\">',a[n.categoryName]!==i&&(o+='<div class=\"name\">'+a[n.categoryName]+\"</div>\"),e.each(a.results,function(e,t){o+=t[n.url]?'<a class=\"result\" href=\"'+t[n.url]+'\">':'<a class=\"result\">',t[n.image]!==i&&(o+='<div class=\"image\"> <img src=\"'+t[n.image]+'\"></div>'),o+='<div class=\"content\">',t[n.price]!==i&&(o+='<div class=\"price\">'+t[n.price]+\"</div>\"),t[n.title]!==i&&(o+='<div class=\"title\">'+t[n.title]+\"</div>\"),t[n.description]!==i&&(o+='<div class=\"description\">'+t[n.description]+\"</div>\"),o+=\"</div>\",o+=\"</a>\"}),o+=\"</div>\")}),t[n.action]&&(o+='<a href=\"'+t[n.action][n.actionURL]+'\" class=\"action\">'+t[n.action][n.actionText]+\"</a>\"),o)},standard:function(t,n){var o=\"\";return t[n.results]!==i&&(e.each(t[n.results],function(e,t){o+=t[n.url]?'<a class=\"result\" href=\"'+t[n.url]+'\">':'<a class=\"result\">',t[n.image]!==i&&(o+='<div class=\"image\"> <img src=\"'+t[n.image]+'\"></div>'),o+='<div class=\"content\">',t[n.price]!==i&&(o+='<div class=\"price\">'+t[n.price]+\"</div>\"),t[n.title]!==i&&(o+='<div class=\"title\">'+t[n.title]+\"</div>\"),t[n.description]!==i&&(o+='<div class=\"description\">'+t[n.description]+\"</div>\"),o+=\"</div>\",o+=\"</a>\"}),t[n.action]&&(o+='<a href=\"'+t[n.action][n.actionURL]+'\" class=\"action\">'+t[n.action][n.actionText]+\"</a>\"),o)}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.shape=function(o){var a,r=e(this),s=(e(\"body\"),(new Date).getTime()),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1),f=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var t,m,g,p=r.selector||\"\",h=e.isPlainObject(o)?e.extend(!0,{},e.fn.shape.settings,o):e.extend({},e.fn.shape.settings),v=h.namespace,b=h.selector,y=h.error,x=h.className,C=\".\"+v,w=\"module-\"+v,k=e(this),S=k.find(b.sides),T=k.find(b.side),A=!1,R=this,E=k.data(w);g={initialize:function(){g.verbose(\"Initializing module for\",R),g.set.defaultSide(),g.instantiate()},instantiate:function(){g.verbose(\"Storing instance of module\",g),E=g,k.data(w,E)},destroy:function(){g.verbose(\"Destroying previous module for\",R),k.removeData(w).off(C)},refresh:function(){g.verbose(\"Refreshing selector cache for\",R),k=e(R),S=e(this).find(b.shape),T=e(this).find(b.side)},repaint:function(){g.verbose(\"Forcing repaint event\");var e=S[0]||n.createElement(\"div\");e.offsetWidth},animate:function(e,n){g.verbose(\"Animating box with properties\",e),n=n||function(e){g.verbose(\"Executing animation callback\"),e!==i&&e.stopPropagation(),g.reset(),g.set.active()},h.beforeChange.call(m[0]),g.get.transitionEvent()?(g.verbose(\"Starting CSS animation\"),k.addClass(x.animating),S.css(e).one(g.get.transitionEvent(),n),g.set.duration(h.duration),f(function(){k.addClass(x.animating),t.addClass(x.hidden)})):n()},queue:function(e){g.debug(\"Queueing animation of\",e),S.one(g.get.transitionEvent(),function(){g.debug(\"Executing queued animation\"),setTimeout(function(){k.shape(e)},0)})},reset:function(){g.verbose(\"Animating states reset\"),k.removeClass(x.animating).attr(\"style\",\"\").removeAttr(\"style\"),S.attr(\"style\",\"\").removeAttr(\"style\"),T.attr(\"style\",\"\").removeAttr(\"style\").removeClass(x.hidden),m.removeClass(x.animating).attr(\"style\",\"\").removeAttr(\"style\")},is:{complete:function(){return T.filter(\".\"+x.active)[0]==m[0]},animating:function(){return k.hasClass(x.animating)}},set:{defaultSide:function(){t=k.find(\".\"+h.className.active),m=t.next(b.side).length>0?t.next(b.side):k.find(b.side).first(),A=!1,g.verbose(\"Active side set to\",t),g.verbose(\"Next side set to\",m)},duration:function(e){e=e||h.duration,e=\"number\"==typeof e?e+\"ms\":e,g.verbose(\"Setting animation duration\",e),(h.duration||0===h.duration)&&S.add(T).css({\"-webkit-transition-duration\":e,\"-moz-transition-duration\":e,\"-ms-transition-duration\":e,\"-o-transition-duration\":e,\"transition-duration\":e})},currentStageSize:function(){var e=k.find(\".\"+h.className.active),t=e.outerWidth(!0),n=e.outerHeight(!0);k.css({width:t,height:n})},stageSize:function(){var e=k.clone().addClass(x.loading),t=e.find(\".\"+h.className.active),n=A?e.find(b.side).eq(A):t.next(b.side).length>0?t.next(b.side):e.find(b.side).first(),i=\"next\"==h.width?n.outerWidth(!0):\"initial\"==h.width?k.width():h.width,o=\"next\"==h.height?n.outerHeight(!0):\"initial\"==h.height?k.height():h.height;t.removeClass(x.active),n.addClass(x.active),e.insertAfter(k),e.remove(),\"auto\"!=h.width&&(k.css(\"width\",i+h.jitter),g.verbose(\"Specifying width during animation\",i)),\"auto\"!=h.height&&(k.css(\"height\",o+h.jitter),g.verbose(\"Specifying height during animation\",o))},nextSide:function(e){A=e,m=T.filter(e),A=T.index(m),0===m.length&&(g.set.defaultSide(),g.error(y.side)),g.verbose(\"Next side manually set to\",m)},active:function(){g.verbose(\"Setting new side to active\",m),T.removeClass(x.active),m.addClass(x.active),h.onChange.call(m[0]),g.set.defaultSide()}},flip:{up:function(){if(g.is.complete()&&!g.is.animating()&&!h.allowRepeats)return void g.debug(\"Side already visible\",m);if(g.is.animating())g.queue(\"flip up\");else{g.debug(\"Flipping up\",m);var e=g.get.transform.up();g.set.stageSize(),g.stage.above(),g.animate(e)}},down:function(){if(g.is.complete()&&!g.is.animating()&&!h.allowRepeats)return void g.debug(\"Side already visible\",m);if(g.is.animating())g.queue(\"flip down\");else{g.debug(\"Flipping down\",m);var e=g.get.transform.down();g.set.stageSize(),g.stage.below(),g.animate(e)}},left:function(){if(g.is.complete()&&!g.is.animating()&&!h.allowRepeats)return void g.debug(\"Side already visible\",m);if(g.is.animating())g.queue(\"flip left\");else{g.debug(\"Flipping left\",m);var e=g.get.transform.left();g.set.stageSize(),g.stage.left(),g.animate(e)}},right:function(){if(g.is.complete()&&!g.is.animating()&&!h.allowRepeats)return void g.debug(\"Side already visible\",m);if(g.is.animating())g.queue(\"flip right\");else{g.debug(\"Flipping right\",m);var e=g.get.transform.right();g.set.stageSize(),g.stage.right(),g.animate(e)}},over:function(){return!g.is.complete()||g.is.animating()||h.allowRepeats?void(g.is.animating()?g.queue(\"flip over\"):(g.debug(\"Flipping over\",m),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.over()))):void g.debug(\"Side already visible\",m)},back:function(){return!g.is.complete()||g.is.animating()||h.allowRepeats?void(g.is.animating()?g.queue(\"flip back\"):(g.debug(\"Flipping back\",m),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.back()))):void g.debug(\"Side already visible\",m)}},get:{transform:{up:function(){var e={y:-((t.outerHeight(!0)-m.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:\"translateY(\"+e.y+\"px) translateZ(\"+e.z+\"px) rotateX(-90deg)\"}},down:function(){var e={y:-((t.outerHeight(!0)-m.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:\"translateY(\"+e.y+\"px) translateZ(\"+e.z+\"px) rotateX(90deg)\"}},left:function(){var e={x:-((t.outerWidth(!0)-m.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:\"translateX(\"+e.x+\"px) translateZ(\"+e.z+\"px) rotateY(90deg)\"}},right:function(){var e={x:-((t.outerWidth(!0)-m.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:\"translateX(\"+e.x+\"px) translateZ(\"+e.z+\"px) rotateY(-90deg)\"}},over:function(){var e={x:-((t.outerWidth(!0)-m.outerWidth(!0))/2)};return{transform:\"translateX(\"+e.x+\"px) rotateY(180deg)\"}},back:function(){var e={x:-((t.outerWidth(!0)-m.outerWidth(!0))/2)};return{transform:\"translateX(\"+e.x+\"px) rotateY(-180deg)\"}}},transitionEvent:function(){var e,t=n.createElement(\"element\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in o)if(t.style[e]!==i)return o[e]},nextSide:function(){return t.next(b.side).length>0?t.next(b.side):k.find(b.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-m.outerHeight(!0))/2,depth:{active:m.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};g.verbose(\"Setting the initial animation position as above\",m,e),S.css({transform:\"translateZ(-\"+e.depth.active+\"px)\"}),t.css({transform:\"rotateY(0deg) translateZ(\"+e.depth.active+\"px)\"}),m.addClass(x.animating).css({top:e.origin+\"px\",transform:\"rotateX(90deg) translateZ(\"+e.depth.next+\"px)\"})},below:function(){var e={origin:(t.outerHeight(!0)-m.outerHeight(!0))/2,depth:{active:m.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};g.verbose(\"Setting the initial animation position as below\",m,e),S.css({transform:\"translateZ(-\"+e.depth.active+\"px)\"}),t.css({transform:\"rotateY(0deg) translateZ(\"+e.depth.active+\"px)\"}),m.addClass(x.animating).css({top:e.origin+\"px\",transform:\"rotateX(-90deg) translateZ(\"+e.depth.next+\"px)\"})},left:function(){var e={active:t.outerWidth(!0),next:m.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose(\"Setting the initial animation position as left\",m,n),S.css({transform:\"translateZ(-\"+n.depth.active+\"px)\"}),t.css({transform:\"rotateY(0deg) translateZ(\"+n.depth.active+\"px)\"}),m.addClass(x.animating).css({left:n.origin+\"px\",transform:\"rotateY(-90deg) translateZ(\"+n.depth.next+\"px)\"})},right:function(){var e={active:t.outerWidth(!0),next:m.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose(\"Setting the initial animation position as left\",m,n),S.css({transform:\"translateZ(-\"+n.depth.active+\"px)\"}),t.css({transform:\"rotateY(0deg) translateZ(\"+n.depth.active+\"px)\"}),m.addClass(x.animating).css({left:n.origin+\"px\",transform:\"rotateY(90deg) translateZ(\"+n.depth.next+\"px)\"})},behind:function(){var e={active:t.outerWidth(!0),next:m.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose(\"Setting the initial animation position as behind\",m,n),t.css({transform:\"rotateY(0deg)\"}),m.addClass(x.animating).css({left:n.origin+\"px\",transform:\"rotateY(-180deg)\"})}},setting:function(t,n){if(g.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,h.name+\":\"),g.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,h.name+\":\"),g.verbose.apply(console,arguments)))},error:function(){h.silent||(g.error=Function.prototype.bind.call(console.error,console,h.name+\":\"),g.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:R,\"Execution Time\":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var t=h.name+\":\",n=0;s=!1,clearTimeout(g.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",p&&(t+=\" '\"+p+\"'\"),r.length>1&&(t+=\" (\"+r.length+\")\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,l,c=E;return n=n||d,o=R||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},u?(E===i&&g.initialize(),g.invoke(c)):(E!==i&&E.invoke(\"destroy\"),g.initialize())}),a!==i?a:this},e.fn.shape.settings={name:\"Shape\",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:\"shape\",width:\"initial\",height:\"initial\",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:\"You tried to switch to a side that does not exist.\",method:\"The method you called is not defined\"},className:{animating:\"animating\",hidden:\"hidden\",loading:\"loading\",active:\"active\"},selector:{sides:\".sides\",side:\".side\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.sidebar=function(o){var a,r=e(this),s=e(t),l=e(n),c=e(\"html\"),u=e(\"head\"),d=r.selector||\"\",f=(new Date).getTime(),m=[],g=arguments[0],p=\"string\"==typeof g,h=[].slice.call(arguments,1),v=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,b,y,x,C,w,k=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),S=k.selector,T=k.className,A=k.namespace,R=k.regExp,E=k.error,P=\".\"+A,F=\"module-\"+A,O=e(this),D=e(k.context),q=O.children(S.sidebar),j=D.children(S.fixed),z=D.children(S.pusher),M=this,I=O.data(F);w={initialize:function(){w.debug(\"Initializing sidebar\",o),w.create.id(),C=w.get.transitionEvent(),w.is.ios()&&w.set.ios(),k.delaySetup?v(w.setup.layout):w.setup.layout(),v(function(){w.setup.cache()}),w.instantiate()},instantiate:function(){w.verbose(\"Storing instance of module\",w),I=w,O.data(F,w)},create:{id:function(){y=(Math.random().toString(16)+\"000000000\").substr(2,8),b=\".\"+y,w.verbose(\"Creating unique id for element\",y)}},destroy:function(){w.verbose(\"Destroying previous module for\",O),O.off(P).removeData(F),w.is.ios()&&w.remove.ios(),D.off(b),s.off(b),l.off(b)},event:{clickaway:function(e){var t=z.find(e.target).length>0||z.is(e.target),n=D.is(e.target);t&&(w.verbose(\"User clicked on dimmed page\"),w.hide()),n&&(w.verbose(\"User clicked on dimmable context (scaled out page)\"),w.hide())},touch:function(e){},containScroll:function(e){M.scrollTop<=0&&(M.scrollTop=1),M.scrollTop+M.offsetHeight>=M.scrollHeight&&(M.scrollTop=M.scrollHeight-M.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(S.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){w.verbose(\"Adding clickaway events to context\",D),k.closable&&D.on(\"click\"+b,w.event.clickaway).on(\"touchend\"+b,w.event.clickaway)},scrollLock:function(){k.scrollLock&&(w.debug(\"Disabling page scroll\"),s.on(\"DOMMouseScroll\"+b,w.event.scroll)),w.verbose(\"Adding events to contain sidebar scroll\"),l.on(\"touchmove\"+b,w.event.touch),O.on(\"scroll\"+P,w.event.containScroll)}},unbind:{clickaway:function(){w.verbose(\"Removing clickaway events from context\",D),D.off(b)},scrollLock:function(){w.verbose(\"Removing scroll lock from page\"),l.off(b),s.off(b),O.off(\"scroll\"+P)}},add:{inlineCSS:function(){var t,n=w.cache.width||O.outerWidth(),i=w.cache.height||O.outerHeight(),o=w.is.rtl(),a=w.get.direction(),s={left:n,right:-n,top:i,bottom:-i};o&&(w.verbose(\"RTL detected, flipping widths\"),s.left=-n,s.right=n),t=\"<style>\",\"left\"===a||\"right\"===a?(w.debug(\"Adding CSS rules for animation distance\",n),t+=\" .ui.visible.\"+a+\".sidebar ~ .fixed, .ui.visible.\"+a+\".sidebar ~ .pusher {   -webkit-transform: translate3d(\"+s[a]+\"px, 0, 0);           transform: translate3d(\"+s[a]+\"px, 0, 0); }\"):\"top\"!==a&&\"bottom\"!=a||(t+=\" .ui.visible.\"+a+\".sidebar ~ .fixed, .ui.visible.\"+a+\".sidebar ~ .pusher {   -webkit-transform: translate3d(0, \"+s[a]+\"px, 0);           transform: translate3d(0, \"+s[a]+\"px, 0); }\"),w.is.ie()&&(\"left\"===a||\"right\"===a?(w.debug(\"Adding CSS rules for animation distance\",n),t+=\" body.pushable > .ui.visible.\"+a+\".sidebar ~ .pusher:after {   -webkit-transform: translate3d(\"+s[a]+\"px, 0, 0);           transform: translate3d(\"+s[a]+\"px, 0, 0); }\"):\"top\"!==a&&\"bottom\"!=a||(t+=\" body.pushable > .ui.visible.\"+a+\".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, \"+s[a]+\"px, 0);           transform: translate3d(0, \"+s[a]+\"px, 0); }\"),t+=\" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }\"),t+=\"</style>\",r=e(t).appendTo(u),w.debug(\"Adding sizing css to head\",r)}},refresh:function(){w.verbose(\"Refreshing selector cache\"),D=e(k.context),q=D.children(S.sidebar),z=D.children(S.pusher),j=D.children(S.fixed),w.clear.cache()},refreshSidebars:function(){w.verbose(\"Refreshing other sidebars\"),q=D.children(S.sidebar)},repaint:function(){w.verbose(\"Forcing repaint event\"),M.style.display=\"none\";M.offsetHeight;M.scrollTop=M.scrollTop,M.style.display=\"\"},setup:{cache:function(){\nw.cache={width:O.outerWidth(),height:O.outerHeight(),rtl:\"rtl\"==O.css(\"direction\")}},layout:function(){0===D.children(S.pusher).length&&(w.debug(\"Adding wrapper element for sidebar\"),w.error(E.pusher),z=e('<div class=\"pusher\" />'),D.children().not(S.omitted).not(q).wrapAll(z),w.refresh()),0!==O.nextAll(S.pusher).length&&O.nextAll(S.pusher)[0]===z[0]||(w.debug(\"Moved sidebar to correct parent element\"),w.error(E.movedSidebar,M),O.detach().prependTo(D),w.refresh()),w.clear.cache(),w.set.pushable(),w.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(w[n])?w[n]:w.toggle,i.length>0?(w.debug(\"Attaching sidebar events to element\",t,n),i.on(\"click\"+P,n)):w.error(E.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},w.is.hidden()){if(w.refreshSidebars(),k.overlay&&(w.error(E.overlay),k.transition=\"overlay\"),w.refresh(),w.othersActive())if(w.debug(\"Other sidebars currently visible\"),k.exclusive){if(\"overlay\"!=k.transition)return void w.hideOthers(w.show);w.hideOthers()}else k.transition=\"overlay\";w.pushPage(function(){t.call(M),k.onShow.call(M)}),k.onChange.call(M),k.onVisible.call(M)}else w.debug(\"Sidebar is already visible\")},hide:function(t){t=e.isFunction(t)?t:function(){},(w.is.visible()||w.is.animating())&&(w.debug(\"Hiding sidebar\",t),w.refreshSidebars(),w.pullPage(function(){t.call(M),k.onHidden.call(M)}),k.onChange.call(M),k.onHide.call(M))},othersAnimating:function(){return q.not(O).filter(\".\"+T.animating).length>0},othersVisible:function(){return q.not(O).filter(\".\"+T.visible).length>0},othersActive:function(){return w.othersVisible()||w.othersAnimating()},hideOthers:function(e){var t=q.not(O).filter(\".\"+T.visible),n=t.length,i=0;e=e||function(){},t.sidebar(\"hide\",function(){i++,i==n&&e()})},toggle:function(){w.verbose(\"Determining toggled direction\"),w.is.hidden()?w.show():w.hide()},pushPage:function(t){var n,i,o,a=w.get.transition(),r=\"overlay\"===a||w.othersActive()?O:z;t=e.isFunction(t)?t:function(){},\"scale down\"==k.transition&&w.scrollToTop(),w.set.transition(a),w.repaint(),n=function(){w.bind.clickaway(),w.add.inlineCSS(),w.set.animating(),w.set.visible()},i=function(){w.set.dimmed()},o=function(e){e.target==r[0]&&(r.off(C+b,o),w.remove.animating(),w.bind.scrollLock(),t.call(M))},r.off(C+b),r.on(C+b,o),v(n),k.dimPage&&!w.othersVisible()&&v(i)},pullPage:function(t){var n,i,o=w.get.transition(),a=\"overlay\"==o||w.othersActive()?O:z;t=e.isFunction(t)?t:function(){},w.verbose(\"Removing context push state\",w.get.direction()),w.unbind.clickaway(),w.unbind.scrollLock(),n=function(){w.set.transition(o),w.set.animating(),w.remove.visible(),k.dimPage&&!w.othersVisible()&&z.removeClass(T.dimmed)},i=function(e){e.target==a[0]&&(a.off(C+b,i),w.remove.animating(),w.remove.transition(),w.remove.inlineCSS(),(\"scale down\"==o||k.returnScroll&&w.is.mobile())&&w.scrollBack(),t.call(M))},a.off(C+b),a.on(C+b,i),v(n)},scrollToTop:function(){w.verbose(\"Scrolling to top of page to avoid animation issues\"),x=e(t).scrollTop(),O.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){w.verbose(\"Scrolling back to original page position\"),t.scrollTo(0,x)},clear:{cache:function(){w.verbose(\"Clearing cached dimensions\"),w.cache={}}},set:{ios:function(){c.addClass(T.ios)},pushed:function(){D.addClass(T.pushed)},pushable:function(){D.addClass(T.pushable)},dimmed:function(){z.addClass(T.dimmed)},active:function(){O.addClass(T.active)},animating:function(){O.addClass(T.animating)},transition:function(e){e=e||w.get.transition(),O.addClass(e)},direction:function(e){e=e||w.get.direction(),O.addClass(T[e])},visible:function(){O.addClass(T.visible)},overlay:function(){O.addClass(T.overlay)}},remove:{inlineCSS:function(){w.debug(\"Removing inline css styles\",r),r&&r.length>0&&r.remove()},ios:function(){c.removeClass(T.ios)},pushed:function(){D.removeClass(T.pushed)},pushable:function(){D.removeClass(T.pushable)},active:function(){O.removeClass(T.active)},animating:function(){O.removeClass(T.animating)},transition:function(e){e=e||w.get.transition(),O.removeClass(e)},direction:function(e){e=e||w.get.direction(),O.removeClass(T[e])},visible:function(){O.removeClass(T.visible)},overlay:function(){O.removeClass(T.overlay)}},get:{direction:function(){return O.hasClass(T.top)?T.top:O.hasClass(T.right)?T.right:O.hasClass(T.bottom)?T.bottom:T.left},transition:function(){var e,t=w.get.direction();return e=w.is.mobile()?\"auto\"==k.mobileTransition?k.defaultTransition.mobile[t]:k.mobileTransition:\"auto\"==k.transition?k.defaultTransition.computer[t]:k.transition,w.verbose(\"Determined transition\",e),e},transitionEvent:function(){var e,t=n.createElement(\"element\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in o)if(t.style[e]!==i)return o[e]}},is:{ie:function(){var e=!t.ActiveXObject&&\"ActiveXObject\"in t,n=\"ActiveXObject\"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(R.ios),n=e.match(R.mobileChrome);return!(!t||n)&&(w.verbose(\"Browser was found to be iOS\",e),!0)},mobile:function(){var e=navigator.userAgent,t=e.match(R.mobile);return t?(w.verbose(\"Browser was found to be mobile\",e),!0):(w.verbose(\"Browser is not mobile, using regular transition\",e),!1)},hidden:function(){return!w.is.visible()},visible:function(){return O.hasClass(T.visible)},open:function(){return w.is.visible()},closed:function(){return w.is.hidden()},vertical:function(){return O.hasClass(T.top)},animating:function(){return D.hasClass(T.animating)},rtl:function(){return w.cache.rtl===i&&(w.cache.rtl=\"rtl\"==O.css(\"direction\")),w.cache.rtl}},setting:function(t,n){if(w.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];e.isPlainObject(k[t])?e.extend(!0,k[t],n):k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},debug:function(){!k.silent&&k.debug&&(k.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,k.name+\":\"),w.debug.apply(console,arguments)))},verbose:function(){!k.silent&&k.verbose&&k.debug&&(k.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,k.name+\":\"),w.verbose.apply(console,arguments)))},error:function(){k.silent||(w.error=Function.prototype.bind.call(console.error,console,k.name+\":\"),w.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=f||t,n=t-i,f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:M,\"Execution Time\":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=k.name+\":\",n=0;f=!1,clearTimeout(w.performance.timer),e.each(m,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",d&&(t+=\" '\"+d+\"'\"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var r,s,l,c=I;return n=n||h,o=M||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(w.error(E.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},p?(I===i&&w.initialize(),w.invoke(g)):(I!==i&&w.invoke(\"destroy\"),w.initialize())}),a!==i?a:this},e.fn.sidebar.settings={name:\"Sidebar\",namespace:\"sidebar\",silent:!1,debug:!1,verbose:!1,performance:!0,transition:\"auto\",mobileTransition:\"auto\",defaultTransition:{computer:{left:\"uncover\",right:\"uncover\",top:\"overlay\",bottom:\"overlay\"},mobile:{left:\"uncover\",right:\"uncover\",top:\"overlay\",bottom:\"overlay\"}},context:\"body\",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:\"active\",animating:\"animating\",dimmed:\"dimmed\",ios:\"ios\",pushable:\"pushable\",pushed:\"pushed\",right:\"right\",top:\"top\",left:\"left\",bottom:\"bottom\",visible:\"visible\"},selector:{fixed:\".fixed\",omitted:\"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed\",pusher:\".pusher\",sidebar:\".ui.sidebar\"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:\"The method you called is not defined.\",pusher:\"Had to add pusher element. For optimal performance make sure body content is inside a pusher element\",movedSidebar:\"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag\",overlay:\"The overlay setting is no longer supported, use animation: overlay\",notFound:\"There were no elements that matched the specified selector\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.sticky=function(o){var a,r=e(this),s=r.selector||\"\",l=(new Date).getTime(),c=[],u=arguments[0],d=\"string\"==typeof u,f=[].slice.call(arguments,1);return r.each(function(){var r,m,g,p,h,v=e.isPlainObject(o)?e.extend(!0,{},e.fn.sticky.settings,o):e.extend({},e.fn.sticky.settings),b=v.className,y=v.namespace,x=v.error,C=\".\"+y,w=\"module-\"+y,k=e(this),S=e(t),T=e(v.scrollContext),A=(k.selector||\"\",k.data(w)),R=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},E=this;h={initialize:function(){h.determineContainer(),h.determineContext(),h.verbose(\"Initializing sticky\",v,r),h.save.positions(),h.checkErrors(),h.bind.events(),v.observeChanges&&h.observeChanges(),h.instantiate()},instantiate:function(){h.verbose(\"Storing instance of module\",h),A=h,k.data(w,h)},destroy:function(){h.verbose(\"Destroying previous instance\"),h.reset(),g&&g.disconnect(),p&&p.disconnect(),S.off(\"load\"+C,h.event.load).off(\"resize\"+C,h.event.resize),T.off(\"scrollchange\"+C,h.event.scrollchange),k.removeData(w)},observeChanges:function(){\"MutationObserver\"in t&&(g=new MutationObserver(h.event.documentChanged),p=new MutationObserver(h.event.changed),g.observe(n,{childList:!0,subtree:!0}),p.observe(E,{childList:!0,subtree:!0}),p.observe(m[0],{childList:!0,subtree:!0}),h.debug(\"Setting up mutation observer\",p))},determineContainer:function(){r=v.container?e(v.container):k.offsetParent()},determineContext:function(){if(m=v.context?e(v.context):r,0===m.length)return void h.error(x.invalidContext,v.context,k)},checkErrors:function(){if(h.is.hidden()&&h.error(x.visible,k),h.cache.element.height>h.cache.context.height)return h.reset(),void h.error(x.elementSize,k)},bind:{events:function(){S.on(\"load\"+C,h.event.load).on(\"resize\"+C,h.event.resize),T.off(\"scroll\"+C).on(\"scroll\"+C,h.event.scroll).on(\"scrollchange\"+C,h.event.scrollchange)}},event:{changed:function(e){clearTimeout(h.timer),h.timer=setTimeout(function(){h.verbose(\"DOM tree modified, updating sticky menu\",e),h.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==E||e(t).find(E).length>0)&&(h.debug(\"Element removed from DOM, tearing down events\"),h.destroy())})})},load:function(){h.verbose(\"Page contents finished loading\"),R(h.refresh)},resize:function(){h.verbose(\"Window resized\"),R(h.refresh)},scroll:function(){R(function(){T.triggerHandler(\"scrollchange\"+C,T.scrollTop())})},scrollchange:function(e,t){h.stick(t),v.onScroll.call(E)}},refresh:function(e){h.reset(),v.context||h.determineContext(),e&&h.determineContainer(),h.save.positions(),h.stick(),v.onReposition.call(E)},supports:{sticky:function(){var t=e(\"<div/>\");t[0];return t.addClass(b.supported),t.css(\"position\").match(\"sticky\")}},save:{lastScroll:function(e){h.lastScroll=e},elementScroll:function(e){h.elementScroll=e},positions:function(){var e={height:T.height()},t={margin:{top:parseInt(k.css(\"margin-top\"),10),bottom:parseInt(k.css(\"margin-bottom\"),10)},offset:k.offset(),width:k.outerWidth(),height:k.outerHeight()},n={offset:m.offset(),height:m.outerHeight()};({height:r.outerHeight()});h.is.standardScroll()||(h.debug(\"Non-standard scroll. Removing scroll offset from element offset\"),e.top=T.scrollTop(),e.left=T.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),h.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},h.set.containerSize(),h.set.size(),h.stick(),h.debug(\"Caching element positions\",h.cache)}},get:{direction:function(e){var t=\"down\";return e=e||T.scrollTop(),h.lastScroll!==i&&(h.lastScroll<e?t=\"down\":h.lastScroll>e&&(t=\"up\")),t},scrollChange:function(e){return e=e||T.scrollTop(),h.lastScroll?e-h.lastScroll:0},currentElementScroll:function(){return h.elementScroll?h.elementScroll:h.is.top()?Math.abs(parseInt(k.css(\"top\"),10))||0:Math.abs(parseInt(k.css(\"bottom\"),10))||0},elementScroll:function(e){e=e||T.scrollTop();var t=h.cache.element,n=h.cache.scrollContext,i=h.get.scrollChange(e),o=t.height-n.height+v.offset,a=h.get.currentElementScroll(),r=a+i;return a=h.cache.fits||r<0?0:r>o?o:r}},remove:{lastScroll:function(){delete h.lastScroll},elementScroll:function(e){delete h.elementScroll},offset:function(){k.css(\"margin-top\",\"\")}},set:{offset:function(){h.verbose(\"Setting offset on element\",v.offset),k.css(\"margin-top\",v.offset)},containerSize:function(){var e=r.get(0).tagName;\"HTML\"===e||\"body\"==e?h.determineContainer():Math.abs(r.outerHeight()-h.cache.context.height)>v.jitter&&(h.debug(\"Context has padding, specifying exact height for container\",h.cache.context.height),r.css({height:h.cache.context.height}))},minimumSize:function(){var e=h.cache.element;r.css(\"min-height\",e.height)},scroll:function(e){h.debug(\"Setting scroll on element\",e),h.elementScroll!=e&&(h.is.top()&&k.css(\"bottom\",\"\").css(\"top\",-e),h.is.bottom()&&k.css(\"top\",\"\").css(\"bottom\",e))},size:function(){0!==h.cache.element.height&&0!==h.cache.element.width&&(E.style.setProperty(\"width\",h.cache.element.width+\"px\",\"important\"),E.style.setProperty(\"height\",h.cache.element.height+\"px\",\"important\"))}},is:{standardScroll:function(){return T[0]==t},top:function(){return k.hasClass(b.top)},bottom:function(){return k.hasClass(b.bottom)},initialPosition:function(){return!h.is.fixed()&&!h.is.bound()},hidden:function(){return!k.is(\":visible\")},bound:function(){return k.hasClass(b.bound)},fixed:function(){return k.hasClass(b.fixed)}},stick:function(e){var t=e||T.scrollTop(),n=h.cache,i=n.fits,o=n.element,a=n.scrollContext,r=n.context,s=h.is.bottom()&&v.pushing?v.bottomOffset:v.offset,e={top:t+s,bottom:t+s+a.height},l=(h.get.direction(e.top),i?0:h.get.elementScroll(e.top)),c=!i,u=0!==o.height;u&&(h.is.initialPosition()?e.top>=r.bottom?(h.debug(\"Initial element position is bottom of container\"),h.bindBottom()):e.top>o.top&&(o.height+e.top-l>=r.bottom?(h.debug(\"Initial element position is bottom of container\"),h.bindBottom()):(h.debug(\"Initial element position is fixed\"),h.fixTop())):h.is.fixed()?h.is.top()?e.top<=o.top?(h.debug(\"Fixed element reached top of container\"),h.setInitialPosition()):o.height+e.top-l>=r.bottom?(h.debug(\"Fixed element reached bottom of container\"),h.bindBottom()):c&&(h.set.scroll(l),h.save.lastScroll(e.top),h.save.elementScroll(l)):h.is.bottom()&&(e.bottom-o.height<=o.top?(h.debug(\"Bottom fixed rail has reached top of container\"),h.setInitialPosition()):e.bottom>=r.bottom?(h.debug(\"Bottom fixed rail has reached bottom of container\"),h.bindBottom()):c&&(h.set.scroll(l),h.save.lastScroll(e.top),h.save.elementScroll(l))):h.is.bottom()&&(e.top<=o.top?(h.debug(\"Jumped from bottom fixed to top fixed, most likely used home/end button\"),h.setInitialPosition()):v.pushing?h.is.bound()&&e.bottom<=r.bottom&&(h.debug(\"Fixing bottom attached element to bottom of browser.\"),h.fixBottom()):h.is.bound()&&e.top<=r.bottom-o.height&&(h.debug(\"Fixing bottom attached element to top of browser.\"),h.fixTop())))},bindTop:function(){h.debug(\"Binding element to top of parent container\"),h.remove.offset(),k.css({left:\"\",top:\"\",marginBottom:\"\"}).removeClass(b.fixed).removeClass(b.bottom).addClass(b.bound).addClass(b.top),v.onTop.call(E),v.onUnstick.call(E)},bindBottom:function(){h.debug(\"Binding element to bottom of parent container\"),h.remove.offset(),k.css({left:\"\",top:\"\"}).removeClass(b.fixed).removeClass(b.top).addClass(b.bound).addClass(b.bottom),v.onBottom.call(E),v.onUnstick.call(E)},setInitialPosition:function(){h.debug(\"Returning to initial position\"),h.unfix(),h.unbind()},fixTop:function(){h.debug(\"Fixing element to top of page\"),h.set.minimumSize(),h.set.offset(),k.css({left:h.cache.element.left,bottom:\"\",marginBottom:\"\"}).removeClass(b.bound).removeClass(b.bottom).addClass(b.fixed).addClass(b.top),v.onStick.call(E)},fixBottom:function(){h.debug(\"Sticking element to bottom of page\"),h.set.minimumSize(),h.set.offset(),k.css({left:h.cache.element.left,bottom:\"\",marginBottom:\"\"}).removeClass(b.bound).removeClass(b.top).addClass(b.fixed).addClass(b.bottom),v.onStick.call(E)},unbind:function(){h.is.bound()&&(h.debug(\"Removing container bound position on element\"),h.remove.offset(),k.removeClass(b.bound).removeClass(b.top).removeClass(b.bottom))},unfix:function(){h.is.fixed()&&(h.debug(\"Removing fixed position on element\"),h.remove.offset(),k.removeClass(b.fixed).removeClass(b.top).removeClass(b.bottom),v.onUnstick.call(E))},reset:function(){h.debug(\"Resetting elements position\"),h.unbind(),h.unfix(),h.resetCSS(),h.remove.offset(),h.remove.lastScroll()},resetCSS:function(){k.css({width:\"\",height:\"\"}),r.css({height:\"\"})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},debug:function(){!v.silent&&v.debug&&(v.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,v.name+\":\"),h.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,v.name+\":\"),h.verbose.apply(console,arguments)))},error:function(){v.silent||(h.error=Function.prototype.bind.call(console.error,console,v.name+\":\"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;v.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:E,\"Execution Time\":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,0)},display:function(){var t=v.name+\":\",n=0;l=!1,clearTimeout(h.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",s&&(t+=\" '\"+s+\"'\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=A;return n=n||f,o=E||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(A===i&&h.initialize(),h.invoke(u)):(A!==i&&A.invoke(\"destroy\"),h.initialize())}),a!==i?a:this},e.fn.sticky.settings={name:\"Sticky\",namespace:\"sticky\",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:\"Sticky element must be inside a relative container\",visible:\"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.\",method:\"The method you called is not defined.\",invalidContext:\"Context specified does not exist\",elementSize:\"Sticky element is larger than its container, cannot create sticky.\"},className:{bound:\"bound\",fixed:\"fixed\",supported:\"native\",top:\"top\",bottom:\"bottom\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.tab=function(o){var a,r=e(e.isFunction(this)?t:this),s=r.selector||\"\",l=(new Date).getTime(),c=[],u=arguments[0],d=\"string\"==typeof u,f=[].slice.call(arguments,1),m=!1;return r.each(function(){var g,p,h,v,b,y,x=e.isPlainObject(o)?e.extend(!0,{},e.fn.tab.settings,o):e.extend({},e.fn.tab.settings),C=x.className,w=x.metadata,k=x.selector,S=x.error,T=\".\"+x.namespace,A=\"module-\"+x.namespace,R=e(this),E={},P=!0,F=0,O=this,D=R.data(A);b={initialize:function(){b.debug(\"Initializing tab menu item\",R),b.fix.callbacks(),b.determineTabs(),b.debug(\"Determining tabs\",x.context,p),x.auto&&b.set.auto(),b.bind.events(),x.history&&!m&&(b.initializeHistory(),m=!0),b.instantiate()},instantiate:function(){b.verbose(\"Storing instance of module\",b),D=b,R.data(A,b)},destroy:function(){b.debug(\"Destroying tabs\",R),R.removeData(A).off(T)},bind:{events:function(){e.isWindow(O)||(b.debug(\"Attaching tab activation events to element\",R),R.on(\"click\"+T,b.event.click))}},determineTabs:function(){var t;\"parent\"===x.context?(R.closest(k.ui).length>0?(t=R.closest(k.ui),b.verbose(\"Using closest UI element as parent\",t)):t=R,g=t.parent(),b.verbose(\"Determined parent element for creating context\",g)):x.context?(g=e(x.context),b.verbose(\"Using selector for tab context\",x.context,g)):g=e(\"body\"),x.childrenOnly?(p=g.children(k.tabs),b.debug(\"Searching tab context children for tabs\",g,p)):(p=g.find(k.tabs),b.debug(\"Searching tab context for tabs\",g,p))},fix:{callbacks:function(){e.isPlainObject(o)&&(o.onTabLoad||o.onTabInit)&&(o.onTabLoad&&(o.onLoad=o.onTabLoad,delete o.onTabLoad,b.error(S.legacyLoad,o.onLoad)),o.onTabInit&&(o.onFirstLoad=o.onTabInit,delete o.onTabInit,b.error(S.legacyInit,o.onFirstLoad)),x=e.extend(!0,{},e.fn.tab.settings,o))}},initializeHistory:function(){if(b.debug(\"Initializing page state\"),e.address===i)return b.error(S.state),!1;if(\"state\"==x.historyType){if(b.debug(\"Using HTML5 to manage state\"),x.path===!1)return b.error(S.path),!1;e.address.history(!0).state(x.path)}e.address.bind(\"change\",b.event.history.change)},event:{click:function(t){var n=e(this).data(w.tab);n!==i?(x.history?(b.verbose(\"Updating page state\",t),e.address.value(n)):(b.verbose(\"Changing tab\",t),b.changeTab(n)),t.preventDefault()):b.debug(\"No tab specified\")},history:{change:function(t){var n=t.pathNames.join(\"/\")||b.get.initialPath(),o=x.templates.determineTitle(n)||!1;b.performance.display(),b.debug(\"History change event\",n,t),y=t,n!==i&&b.changeTab(n),o&&e.address.title(o)}}},refresh:function(){h&&(b.debug(\"Refreshing tab\",h),b.changeTab(h))},cache:{read:function(e){return e!==i&&E[e]},add:function(e,t){e=e||h,b.debug(\"Adding cached content for\",e),E[e]=t},remove:function(e){e=e||h,b.debug(\"Removing cached content for\",e),delete E[e]}},set:{auto:function(){var t=\"string\"==typeof x.path?x.path.replace(/\\/$/,\"\")+\"/{$tab}\":\"/{$tab}\";b.verbose(\"Setting up automatic tab retrieval from server\",t),e.isPlainObject(x.apiSettings)?x.apiSettings.url=t:x.apiSettings={url:t}},loading:function(e){var t=b.get.tabElement(e),n=t.hasClass(C.loading);n||(b.verbose(\"Setting loading state for\",t),t.addClass(C.loading).siblings(p).removeClass(C.active+\" \"+C.loading),t.length>0&&x.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,o=i&&x.ignoreFirstLoad&&P,a=x.auto||e.isPlainObject(x.apiSettings),r=a&&!o?b.utilities.pathToArray(n):b.get.defaultPathArray(n);n=b.utilities.arrayToPath(r),e.each(r,function(t,i){var s,l,c,u,d=r.slice(0,t+1),f=b.utilities.arrayToPath(d),m=b.is.tab(f),p=t+1==r.length,k=b.get.tabElement(f);if(b.verbose(\"Looking for tab\",i),m){if(b.verbose(\"Tab was found\",i),h=f,v=b.utilities.filterArray(r,d),p?u=!0:(l=r.slice(0,t+2),c=b.utilities.arrayToPath(l),u=!b.is.tab(c),u&&b.verbose(\"Tab parameters found\",l)),u&&a)return o?(b.debug(\"Ignoring remote content on first tab load\",f),P=!1,b.cache.add(n,k.html()),b.activate.all(f),x.onFirstLoad.call(k[0],f,v,y),x.onLoad.call(k[0],f,v,y)):(b.activate.navigation(f),b.fetch.content(f,n)),!1;b.debug(\"Opened local tab\",f),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug(\"First time tab loaded calling tab init\"),x.onFirstLoad.call(k[0],f,v,y)),x.onLoad.call(k[0],f,v,y)}else{if(n.search(\"/\")!=-1||\"\"===n)return b.error(S.missingTab,R,g,f),!1;if(s=e(\"#\"+n+', a[name=\"'+n+'\"]'),f=s.closest(\"[data-tab]\").data(w.tab),k=b.get.tabElement(f),s&&s.length>0&&f)return b.debug(\"Anchor link used, opening parent tab\",k,s),k.hasClass(C.active)||setTimeout(function(){b.scrollTo(s)},0),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug(\"First time tab loaded calling tab init\"),x.onFirstLoad.call(k[0],f,v,y)),x.onLoad.call(k[0],f,v,y),!1}})},scrollTo:function(t){var i=!!(t&&t.length>0)&&t.offset().top;i!==!1&&(b.debug(\"Forcing scroll to an in-page link in a hidden tab\",i,t),e(n).scrollTop(i))},update:{content:function(t,n,o){var a=b.get.tabElement(t),r=a[0];o=o!==i?o:x.evaluateScripts,\"string\"==typeof x.cacheType&&\"dom\"==x.cacheType.toLowerCase()&&\"string\"!=typeof n?a.empty().append(e(n).clone(!0)):o?(b.debug(\"Updating HTML and evaluating inline scripts\",t,n),a.html(n)):(b.debug(\"Updating HTML\",t,n),r.innerHTML=n)}},fetch:{content:function(t,n){var o,a,r=b.get.tabElement(t),s={dataType:\"html\",encodeParameters:!1,on:\"now\",cache:x.alwaysRefresh,headers:{\"X-Remote\":!0},onSuccess:function(e){\"response\"==x.cacheType&&b.cache.add(n,e),b.update.content(t,e),t==h?(b.debug(\"Content loaded\",t),b.activate.tab(t)):b.debug(\"Content loaded in background\",t),x.onFirstLoad.call(r[0],t,v,y),x.onLoad.call(r[0],t,v,y),\"string\"==typeof x.cacheType&&\"dom\"==x.cacheType.toLowerCase()&&r.children().length>0?setTimeout(function(){var e=r.children().clone(!0);e=e.not(\"script\"),b.cache.add(n,e)},0):b.cache.add(n,r.html())},urlData:{tab:n}},l=r.api(\"get request\")||!1,c=l&&\"pending\"===l.state();n=n||t,a=b.cache.read(n),x.cache&&a?(b.activate.tab(t),b.debug(\"Adding cached content\",n),\"once\"==x.evaluateScripts?b.update.content(t,a,!1):b.update.content(t,a),x.onLoad.call(r[0],t,v,y)):c?(b.set.loading(t),b.debug(\"Content is already loading\",n)):e.api!==i?(o=e.extend(!0,{},x.apiSettings,s),b.debug(\"Retrieving remote content\",n,o),b.set.loading(t),r.api(o)):b.error(S.api)}},activate:{all:function(e){b.activate.tab(e),b.activate.navigation(e)},tab:function(e){var t=b.get.tabElement(e),n=\"siblings\"==x.deactivate?t.siblings(p):p.not(t),i=t.hasClass(C.active);b.verbose(\"Showing tab content for\",t),i||(t.addClass(C.active),n.removeClass(C.active+\" \"+C.loading),t.length>0&&x.onVisible.call(t[0],e))},navigation:function(e){var t=b.get.navElement(e),n=\"siblings\"==x.deactivate?t.siblings(r):r.not(t),i=t.hasClass(C.active);b.verbose(\"Activating tab navigation for\",t,e),i||(t.addClass(C.active),n.removeClass(C.active+\" \"+C.loading))}},deactivate:{all:function(){b.deactivate.navigation(),b.deactivate.tabs()},navigation:function(){r.removeClass(C.active)},tabs:function(){p.removeClass(C.active+\" \"+C.loading)}},is:{tab:function(e){return e!==i&&b.get.tabElement(e).length>0}},get:{initialPath:function(){return r.eq(0).data(w.tab)||p.eq(0).data(w.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return b.utilities.pathToArray(b.get.defaultPath(e))},defaultPath:function(e){var t=r.filter(\"[data-\"+w.tab+'^=\"'+e+'/\"]').eq(0),n=t.data(w.tab)||!1;if(n){if(b.debug(\"Found default tab\",n),F<x.maxDepth)return F++,b.get.defaultPath(n);b.error(S.recursion)}else b.debug(\"No default tabs found for\",e,p);return F=0,e},navElement:function(e){return e=e||h,r.filter(\"[data-\"+w.tab+'=\"'+e+'\"]')},tabElement:function(e){var t,n,i,o;return e=e||h,i=b.utilities.pathToArray(e),o=b.utilities.last(i),t=p.filter(\"[data-\"+w.tab+'=\"'+e+'\"]'),n=p.filter(\"[data-\"+w.tab+'=\"'+o+'\"]'),t.length>0?t:n},tab:function(){return h}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return e.inArray(t,n)==-1})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return e===i&&(e=h),\"string\"==typeof e?e.split(\"/\"):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join(\"/\")}},setting:function(t,n){if(b.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];e.isPlainObject(x[t])?e.extend(!0,x[t],n):x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,x.name+\":\"),b.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,x.name+\":\"),b.verbose.apply(console,arguments)))},error:function(){x.silent||(b.error=Function.prototype.bind.call(console.error,console,x.name+\":\"),b.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:O,\"Execution Time\":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=x.name+\":\",n=0;l=!1,clearTimeout(b.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",s&&(t+=\" '\"+s+\"'\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=D;return n=n||f,o=O||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(b.error(S.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(D===i&&b.initialize(),b.invoke(u)):(D!==i&&D.invoke(\"destroy\"),b.initialize())}),a!==i?a:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:\"Tab\",namespace:\"tab\",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:\"hash\",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:\"siblings\",alwaysRefresh:!1,cache:!0,cacheType:\"response\",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:\"once\",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:\"You attempted to load content without API module\",method:\"The method you called is not defined\",missingTab:\"Activated tab cannot be found. Tabs are case-sensitive.\",noContent:\"The tab you specified is missing a content url.\",path:\"History enabled, but no path was specified\",recursion:\"Max recursive depth reached\",legacyInit:\"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.\",\nlegacyLoad:\"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code\",state:\"History requires Asual's Address library <https://github.com/asual/jquery-address>\"},metadata:{tab:\"tab\",loaded:\"loaded\",promise:\"promise\"},className:{loading:\"loading\",active:\"active\"},selector:{tabs:\".ui.tab\",ui:\".ui\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.transition=function(){var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),l=[],c=arguments,u=c[0],d=[].slice.call(arguments,1),f=\"string\"==typeof u;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(t){var m,g,p,h,v,b,y,x,C,w=e(this),k=this;C={initialize:function(){m=C.get.settings.apply(k,c),h=m.className,p=m.error,v=m.metadata,x=\".\"+m.namespace,y=\"module-\"+m.namespace,g=w.data(y)||C,b=C.get.animationEndEvent(),f&&(f=C.invoke(u)),f===!1&&(C.verbose(\"Converted arguments into settings object\",m),m.interval?C.delay(m.animate):C.animate(),C.instantiate())},instantiate:function(){C.verbose(\"Storing instance of module\",C),g=C,w.data(y,g)},destroy:function(){C.verbose(\"Destroying previous module for\",k),w.removeData(y)},refresh:function(){C.verbose(\"Refreshing display type on next animation\"),delete C.displayType},forceRepaint:function(){C.verbose(\"Forcing element repaint\");var e=w.parent(),t=w.next();0===t.length?w.detach().appendTo(e):w.detach().insertBefore(t)},repaint:function(){C.verbose(\"Repainting element\");k.offsetWidth},delay:function(e){var n,o,r=C.get.animationDirection();r||(r=C.can.transition()?C.get.direction():\"static\"),e=e!==i?e:m.interval,n=\"auto\"==m.reverse&&r==h.outward,o=n||1==m.reverse?(a.length-t)*m.interval:t*m.interval,C.debug(\"Delaying animation by\",o),setTimeout(C.animate,o)},animate:function(e){if(m=e||m,!C.is.supported())return C.error(p.support),!1;if(C.debug(\"Preparing animation\",m.animation),C.is.animating()){if(m.queue)return!m.allowRepeats&&C.has.direction()&&C.is.occurring()&&C.queuing!==!0?C.debug(\"Animation is currently occurring, preventing queueing same animation\",m.animation):C.queue(m.animation),!1;if(!m.allowRepeats&&C.is.occurring())return C.debug(\"Animation is already occurring, will not execute repeated animation\",m.animation),!1;C.debug(\"New animation started, completing previous early\",m.animation),g.complete()}C.can.animate()?C.set.animating(m.animation):C.error(p.noAnimation,m.animation,k)},reset:function(){C.debug(\"Resetting animation to beginning conditions\"),C.remove.animationCallbacks(),C.restore.conditions(),C.remove.animating()},queue:function(e){C.debug(\"Queueing animation of\",e),C.queuing=!0,w.one(b+\".queue\"+x,function(){C.queuing=!1,C.repaint(),C.animate.apply(this,m)})},complete:function(e){C.debug(\"Animation complete\",m.animation),C.remove.completeCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose(\"Animation is outward, hiding element\"),C.restore.conditions(),C.hide()):C.is.inward()?(C.verbose(\"Animation is outward, showing element\"),C.restore.conditions(),C.show()):(C.verbose(\"Static animation completed\"),C.restore.conditions(),m.onComplete.call(k)))},force:{visible:function(){var e=w.attr(\"style\"),t=C.get.userStyle(),n=C.get.displayType(),o=t+\"display: \"+n+\" !important;\",a=w.css(\"display\"),r=e===i||\"\"===e;a!==n?(C.verbose(\"Overriding default display to show element\",n),w.attr(\"style\",o)):r&&w.removeAttr(\"style\")},hidden:function(){var e=w.attr(\"style\"),t=w.css(\"display\"),n=e===i||\"\"===e;\"none\"===t||C.is.hidden()?n&&w.removeAttr(\"style\"):(C.verbose(\"Overriding default display to hide element\"),w.css(\"display\",\"none\"))}},has:{direction:function(t){var n=!1;return t=t||m.animation,\"string\"==typeof t&&(t=t.split(\" \"),e.each(t,function(e,t){t!==h.inward&&t!==h.outward||(n=!0)})),n},inlineDisplay:function(){var t=w.attr(\"style\")||\"\";return e.isArray(t.match(/display.*?;/,\"\"))}},set:{animating:function(e){var t;C.remove.completeCallback(),e=e||m.animation,t=C.get.animationClass(e),C.save.animation(t),C.force.visible(),C.remove.hidden(),C.remove.direction(),C.start.animation(t)},duration:function(e,t){t=t||m.duration,t=\"number\"==typeof t?t+\"ms\":t,(t||0===t)&&(C.verbose(\"Setting animation duration\",t),w.css({\"animation-duration\":t}))},direction:function(e){e=e||C.get.direction(),e==h.inward?C.set.inward():C.set.outward()},looping:function(){C.debug(\"Transition set to loop\"),w.addClass(h.looping)},hidden:function(){w.addClass(h.transition).addClass(h.hidden)},inward:function(){C.debug(\"Setting direction to inward\"),w.removeClass(h.outward).addClass(h.inward)},outward:function(){C.debug(\"Setting direction to outward\"),w.removeClass(h.inward).addClass(h.outward)},visible:function(){w.addClass(h.transition).addClass(h.visible)}},start:{animation:function(e){e=e||C.get.animationClass(),C.debug(\"Starting tween\",e),w.addClass(e).one(b+\".complete\"+x,C.complete),m.useFailSafe&&C.add.failSafe(),C.set.duration(m.duration),m.onStart.call(k)}},save:{animation:function(e){C.cache||(C.cache={}),C.cache.animation=e},displayType:function(e){\"none\"!==e&&w.data(v.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,C.verbose(\"Saving existence of transition\",t,n)}},restore:{conditions:function(){var e=C.get.currentAnimation();e&&(w.removeClass(e),C.verbose(\"Removing animation class\",C.cache)),C.remove.duration()}},add:{failSafe:function(){var e=C.get.duration();C.timer=setTimeout(function(){w.triggerHandler(b)},e+m.failSafeDelay),C.verbose(\"Adding fail safe timer\",C.timer)}},remove:{animating:function(){w.removeClass(h.animating)},animationCallbacks:function(){C.remove.queueCallback(),C.remove.completeCallback()},queueCallback:function(){w.off(\".queue\"+x)},completeCallback:function(){w.off(\".complete\"+x)},display:function(){w.css(\"display\",\"\")},direction:function(){w.removeClass(h.inward).removeClass(h.outward)},duration:function(){w.css(\"animation-duration\",\"\")},failSafe:function(){C.verbose(\"Removing fail safe timer\",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){w.removeClass(h.hidden)},visible:function(){w.removeClass(h.visible)},looping:function(){C.debug(\"Transitions are no longer looping\"),C.is.looping()&&(C.reset(),w.removeClass(h.looping))},transition:function(){w.removeClass(h.visible).removeClass(h.hidden)}},get:{settings:function(t,n,i){return\"object\"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):\"function\"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):\"string\"==typeof n||\"number\"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):\"object\"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):\"function\"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||m.animation,n=C.can.transition()&&!C.has.direction()?C.get.direction()+\" \":\"\";return h.animating+\" \"+h.transition+\" \"+n+t},currentAnimation:function(){return!(!C.cache||C.cache.animation===i)&&C.cache.animation},currentDirection:function(){return C.is.inward()?h.inward:h.outward},direction:function(){return C.is.hidden()||!C.is.visible()?h.inward:h.outward},animationDirection:function(t){var n;return t=t||m.animation,\"string\"==typeof t&&(t=t.split(\" \"),e.each(t,function(e,t){t===h.inward?n=h.inward:t===h.outward&&(n=h.outward)})),!!n&&n},duration:function(e){return e=e||m.duration,e===!1&&(e=w.css(\"animation-duration\")||0),\"string\"==typeof e?e.indexOf(\"ms\")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=e===i||e,m.displayType?m.displayType:(e&&w.data(v.displayType)===i&&C.can.transition(!0),w.data(v.displayType))},userStyle:function(e){return e=e||w.attr(\"style\")||\"\",e.replace(/display.*?;/,\"\")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement(\"div\"),o={animation:\"animationstart\",OAnimation:\"oAnimationStart\",MozAnimation:\"mozAnimationStart\",WebkitAnimation:\"webkitAnimationStart\"};for(e in o)if(t.style[e]!==i)return o[e];return!1},animationEndEvent:function(){var e,t=n.createElement(\"div\"),o={animation:\"animationend\",OAnimation:\"oAnimationEnd\",MozAnimation:\"mozAnimationEnd\",WebkitAnimation:\"webkitAnimationEnd\"};for(e in o)if(t.style[e]!==i)return o[e];return!1}},can:{transition:function(t){var n,o,a,r,s,l,c=m.animation,u=C.get.transitionExists(c),d=C.get.displayType(!1);if(u===i||t){if(C.verbose(\"Determining whether animation exists\"),n=w.attr(\"class\"),o=w.prop(\"tagName\"),a=e(\"<\"+o+\" />\").addClass(n).insertAfter(w),r=a.addClass(c).removeClass(h.inward).removeClass(h.outward).addClass(h.animating).addClass(h.transition).css(\"animationName\"),s=a.addClass(h.inward).css(\"animationName\"),d||(d=a.attr(\"class\",n).removeAttr(\"style\").removeClass(h.hidden).removeClass(h.visible).show().css(\"display\"),C.verbose(\"Determining final display state\",d),C.save.displayType(d)),a.remove(),r!=s)C.debug(\"Direction exists for animation\",c),l=!0;else{if(\"none\"==r||!r)return void C.debug(\"No animation defined in css\",c);C.debug(\"Static animation found\",c,d),l=!1}C.save.transitionExists(c,l)}return u!==i?u:l},animate:function(){return C.can.transition()!==i}},is:{animating:function(){return w.hasClass(h.animating)},inward:function(){return w.hasClass(h.inward)},outward:function(){return w.hasClass(h.outward)},looping:function(){return w.hasClass(h.looping)},occurring:function(e){return e=e||m.animation,e=\".\"+e.replace(\" \",\".\"),w.filter(e).length>0},visible:function(){return w.is(\":visible\")},hidden:function(){return\"hidden\"===w.css(\"visibility\")},supported:function(){return b!==!1}},hide:function(){C.verbose(\"Hiding element\"),C.is.animating()&&C.reset(),k.blur(),C.remove.display(),C.remove.visible(),C.set.hidden(),C.force.hidden(),m.onHide.call(k),m.onComplete.call(k)},show:function(e){C.verbose(\"Showing element\",e),C.remove.hidden(),C.set.visible(),C.force.visible(),m.onShow.call(k),m.onComplete.call(k)},toggle:function(){C.is.visible()?C.hide():C.show()},stop:function(){C.debug(\"Stopping current animation\"),w.triggerHandler(b)},stopAll:function(){C.debug(\"Stopping all animation\"),C.remove.queueCallback(),w.triggerHandler(b)},clear:{queue:function(){C.debug(\"Clearing animation queue\"),C.remove.queueCallback()}},enable:function(){C.verbose(\"Starting animation\"),w.removeClass(h.disabled)},disable:function(){C.debug(\"Stopping animation\"),w.addClass(h.disabled)},setting:function(t,n){if(C.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,m.name+\":\"),C.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,m.name+\":\"),C.verbose.apply(console,arguments)))},error:function(){m.silent||(C.error=Function.prototype.bind.call(console.error,console,m.name+\":\"),C.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:k,\"Execution Time\":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=m.name+\":\",n=0;s=!1,clearTimeout(C.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),a.length>1&&(t+=\" (\"+a.length+\")\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=g;return n=n||d,a=k||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s!==i&&s}},C.initialize()}),o!==i?o:this},e.fn.transition.exists={},e.fn.transition.settings={name:\"Transition\",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:\"transition\",interval:0,reverse:\"auto\",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:\"fade\",duration:!1,queue:!0,metadata:{displayType:\"display\"},className:{animating:\"animating\",disabled:\"disabled\",hidden:\"hidden\",inward:\"in\",loading:\"loading\",looping:\"looping\",outward:\"out\",transition:\"transition\",visible:\"visible\"},error:{noAnimation:\"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.\",repeated:\"That animation is already occurring, cancelling repeated animation\",method:\"The method you called is not defined\",support:\"This browser does not support CSS animations\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";var t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();e.api=e.fn.api=function(n){var o,a=e(e.isFunction(this)?t:this),r=a.selector||\"\",s=(new Date).getTime(),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,f,m,g,p,h,v=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),b=v.namespace,y=v.metadata,x=v.selector,C=v.error,w=v.className,k=\".\"+b,S=\"module-\"+b,T=e(this),A=T.closest(x.form),R=v.stateContext?e(v.stateContext):T,E=this,P=R[0],F=T.data(S);h={initialize:function(){u||h.bind.events(),h.instantiate()},instantiate:function(){h.verbose(\"Storing instance of module\",h),F=h,T.data(S,F)},destroy:function(){h.verbose(\"Destroying previous module for\",E),T.removeData(S).off(k)},bind:{events:function(){var e=h.get.event();e?(h.verbose(\"Attaching API events to element\",e),T.on(e+k,h.event.trigger)):\"now\"==v.on&&(h.debug(\"Querying API endpoint immediately\"),h.query())}},decode:{json:function(e){if(e!==i&&\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var n;return t.Storage===i?void h.error(C.noStorage):(n=sessionStorage.getItem(e),h.debug(\"Using cached response\",e,n),n=h.decode.json(n))}},write:{cachedResponse:function(n,o){return o&&\"\"===o?void h.debug(\"Response empty, not caching\",o):t.Storage===i?void h.error(C.noStorage):(e.isPlainObject(o)&&(o=JSON.stringify(o)),sessionStorage.setItem(n,o),void h.verbose(\"Storing cached response for url\",n,o))}},query:function(){if(h.is.disabled())return void h.debug(\"Element is disabled API request aborted\");if(h.is.loading()){if(!v.interruptRequests)return void h.debug(\"Cancelling request, previous request is still pending\");h.debug(\"Interrupting previous request\"),h.abort()}return v.defaultData&&e.extend(!0,v.urlData,h.get.defaultData()),v.serializeForm&&(v.data=h.add.formData(v.data)),f=h.get.settings(),f===!1?(h.cancelled=!0,void h.error(C.beforeSend)):(h.cancelled=!1,m=h.get.templatedURL(),m||h.is.mocked()?(m=h.add.urlData(m),m||h.is.mocked()?(f.url=v.base+m,a=e.extend(!0,{},v,{type:v.method||v.type,data:g,url:v.base+m,beforeSend:v.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),h.debug(\"Querying URL\",a.url),h.verbose(\"Using AJAX settings\",a),\"local\"===v.cache&&h.read.cachedResponse(m)?(h.debug(\"Response returned from local cache\"),h.request=h.create.request(),void h.request.resolveWith(P,[h.read.cachedResponse(m)])):void(v.throttle?v.throttleFirstRequest||h.timer?(h.debug(\"Throttling request\",v.throttle),clearTimeout(h.timer),h.timer=setTimeout(function(){h.timer&&delete h.timer,h.debug(\"Sending throttled request\",g,a.method),h.send.request()},v.throttle)):(h.debug(\"Sending request\",g,a.method),h.send.request(),h.timer=setTimeout(function(){},v.throttle)):(h.debug(\"Sending request\",g,a.method),h.send.request()))):void 0):void h.error(C.missingURL))},should:{removeError:function(){return v.hideError===!0||\"auto\"===v.hideError&&!h.is.form()}},is:{disabled:function(){return T.filter(x.disabled).length>0},expectingJSON:function(){return\"json\"===v.dataType||\"jsonp\"===v.dataType},form:function(){return T.is(\"form\")||R.is(\"form\")},mocked:function(){return v.mockResponse||v.mockResponseAsync||v.response||v.responseAsync},input:function(){return T.is(\"input\")},loading:function(){return!!h.request&&\"pending\"==h.request.state()},abortedRequest:function(e){return e&&e.readyState!==i&&0===e.readyState?(h.verbose(\"XHR request determined to be aborted\"),!0):(h.verbose(\"XHR request was not aborted\"),!1)},validResponse:function(t){return h.is.expectingJSON()&&e.isFunction(v.successTest)?(h.debug(\"Checking JSON returned success\",v.successTest,t),v.successTest(t)?(h.debug(\"Response passed success test\",t),!0):(h.debug(\"Response failed success test\",t),!1)):(h.verbose(\"Response is not JSON, skipping validation\",v.successTest,t),!0)}},was:{cancelled:function(){return h.cancelled||!1},succesful:function(){return h.request&&\"resolved\"==h.request.state()},failure:function(){return h.request&&\"rejected\"==h.request.state()},complete:function(){return h.request&&(\"resolved\"==h.request.state()||\"rejected\"==h.request.state())}},add:{urlData:function(t,n){var o,a;return t&&(o=t.match(v.regExp.required),a=t.match(v.regExp.optional),n=n||v.urlData,o&&(h.debug(\"Looking for required URL variables\",o),e.each(o,function(o,a){var r=a.indexOf(\"$\")!==-1?a.substr(2,a.length-3):a.substr(1,a.length-2),s=e.isPlainObject(n)&&n[r]!==i?n[r]:T.data(r)!==i?T.data(r):R.data(r)!==i?R.data(r):n[r];return s===i?(h.error(C.requiredParameter,r,t),t=!1,!1):(h.verbose(\"Found required variable\",r,s),s=v.encodeParameters?h.get.urlEncodedValue(s):s,t=t.replace(a,s),void 0)})),a&&(h.debug(\"Looking for optional URL variables\",o),e.each(a,function(o,a){var r=a.indexOf(\"$\")!==-1?a.substr(3,a.length-4):a.substr(2,a.length-3),s=e.isPlainObject(n)&&n[r]!==i?n[r]:T.data(r)!==i?T.data(r):R.data(r)!==i?R.data(r):n[r];s!==i?(h.verbose(\"Optional variable Found\",r,s),t=t.replace(a,s)):(h.verbose(\"Optional variable not found\",r),t=t.indexOf(\"/\"+a)!==-1?t.replace(\"/\"+a,\"\"):t.replace(a,\"\"))}))),t},formData:function(t){var n,o=e.fn.serializeObject!==i,a=o?A.serializeObject():A.serialize();return t=t||v.data,n=e.isPlainObject(t),n?o?(h.debug(\"Extending existing data with form data\",t,a),t=e.extend(!0,{},t,a)):(h.error(C.missingSerialize),h.debug(\"Cant extend data. Replacing data with form data\",t,a),t=a):(h.debug(\"Adding form data\",a),t=a),t}},send:{request:function(){h.set.loading(),h.request=h.create.request(),h.is.mocked()?h.mockedXHR=h.create.mockedXHR():h.xhr=h.create.xhr(),v.onRequest.call(P,h.request,h.xhr)}},event:{trigger:function(e){h.query(),\"submit\"!=e.type&&\"click\"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(t,n,i){var o=this,a=(new Date).getTime()-p,r=v.loadingDuration-a,s=!!e.isFunction(v.onResponse)&&(h.is.expectingJSON()?v.onResponse.call(o,e.extend(!0,{},t)):v.onResponse.call(o,t));r=r>0?r:0,s&&(h.debug(\"Modified API response in onResponse callback\",v.onResponse,s,t),t=s),r>0&&h.debug(\"Response completed early delaying state change by\",r),setTimeout(function(){h.is.validResponse(t)?h.request.resolveWith(o,[t,i]):h.request.rejectWith(o,[i,\"invalid\"])},r)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-p,a=v.loadingDuration-o;a=a>0?a:0,a>0&&h.debug(\"Response completed early delaying state change by\",a),setTimeout(function(){h.is.abortedRequest(e)?h.request.rejectWith(i,[e,\"aborted\",n]):h.request.rejectWith(i,[e,\"error\",t,n])},a)}},request:{done:function(e,t){h.debug(\"Successful API Response\",e),\"local\"===v.cache&&m&&(h.write.cachedResponse(m,e),h.debug(\"Saving server response locally\",h.cache)),v.onSuccess.call(P,e,T,t)},complete:function(e,t){var n,i;h.was.succesful()?(i=e,n=t):(n=e,i=h.get.responseFromXHR(n)),h.remove.loading(),v.onComplete.call(P,i,T,n)},fail:function(e,t,n){var o=h.get.responseFromXHR(e),r=h.get.errorFromRequest(o,t,n);return\"aborted\"==t?(h.debug(\"XHR Aborted (Most likely caused by page navigation or CORS Policy)\",t,n),v.onAbort.call(P,t,T,e),!0):(\"invalid\"==t?h.debug(\"JSON did not pass success test. A server-side error has most likely occurred\",o):\"error\"==t&&e!==i&&(h.debug(\"XHR produced a server error\",t,n),200!=e.status&&n!==i&&\"\"!==n&&h.error(C.statusMessage+n,a.url),v.onError.call(P,r,T,e)),v.errorDuration&&\"aborted\"!==t&&(h.debug(\"Adding error state\"),h.set.error(),h.should.removeError()&&setTimeout(h.remove.error,v.errorDuration)),h.debug(\"API Request failed\",r,e),void v.onFailure.call(P,o,T,e))}}},create:{request:function(){return e.Deferred().always(h.event.request.complete).done(h.event.request.done).fail(h.event.request.fail)},mockedXHR:function(){var t,n,i,o=!1,a=!1,r=!1,s=v.mockResponse||v.response,l=v.mockResponseAsync||v.responseAsync;return i=e.Deferred().always(h.event.xhr.complete).done(h.event.xhr.done).fail(h.event.xhr.fail),s?(e.isFunction(s)?(h.debug(\"Using specified synchronous callback\",s),n=s.call(P,f)):(h.debug(\"Using settings specified response\",s),n=s),i.resolveWith(P,[n,o,{responseText:n}])):e.isFunction(l)&&(t=function(e){h.debug(\"Async callback returned response\",e),e?i.resolveWith(P,[e,o,{responseText:e}]):i.rejectWith(P,[{responseText:e},a,r])},h.debug(\"Using specified async response callback\",l),l.call(P,f,t)),i},xhr:function(){var t;return t=e.ajax(a).always(h.event.xhr.always).done(h.event.xhr.done).fail(h.event.xhr.fail),h.verbose(\"Created server request\",t,a),t}},set:{error:function(){h.verbose(\"Adding error state to element\",R),R.addClass(w.error)},loading:function(){h.verbose(\"Adding loading state to element\",R),R.addClass(w.loading),p=(new Date).getTime()}},remove:{error:function(){h.verbose(\"Removing error state from element\",R),R.removeClass(w.error)},loading:function(){h.verbose(\"Removing loading state from element\",R),R.removeClass(w.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&(h.is.expectingJSON()?h.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,n,o){return e.isPlainObject(t)&&t.error!==i?t.error:v.error[n]!==i?v.error[n]:o},request:function(){return h.request||!1},xhr:function(){return h.xhr||!1},settings:function(){var t;return t=v.beforeSend.call(P,v),t&&(t.success!==i&&(h.debug(\"Legacy success callback detected\",t),h.error(C.legacyParameters,t.success),t.onSuccess=t.success),t.failure!==i&&(h.debug(\"Legacy failure callback detected\",t),h.error(C.legacyParameters,t.failure),t.onFailure=t.failure),t.complete!==i&&(h.debug(\"Legacy complete callback detected\",t),h.error(C.legacyParameters,t.complete),t.onComplete=t.complete)),t===i&&h.error(C.noReturnedValue),t===!1?t:t!==i?e.extend(!0,{},t):e.extend(!0,{},v)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),i=t.encodeURIComponent(e),o=n!==e;return o?(h.debug(\"URL value is already encoded, avoiding double encoding\",e),e):(h.verbose(\"Encoding value using encodeURIComponent\",e,i),i)},defaultData:function(){var t={};return e.isWindow(E)||(h.is.input()?t.value=T.val():h.is.form()||(t.text=T.text())),t},event:function(){return e.isWindow(E)||\"now\"==v.on?(h.debug(\"API called without element, no events attached\"),!1):\"auto\"==v.on?T.is(\"input\")?E.oninput!==i?\"input\":E.onpropertychange!==i?\"propertychange\":\"keyup\":T.is(\"form\")?\"submit\":\"click\":v.on},templatedURL:function(e){if(e=e||T.data(y.action)||v.action||!1,m=T.data(y.url)||v.url||!1)return h.debug(\"Using specified url\",m),m;if(e){if(h.debug(\"Looking up url for action\",e,v.api),v.api[e]===i&&!h.is.mocked())return void h.error(C.missingAction,v.action,v.api);m=v.api[e]}else h.is.form()&&(m=T.attr(\"action\")||R.attr(\"action\")||!1,h.debug(\"No url or action specified, defaulting to form action\",m));return m}},abort:function(){var e=h.get.xhr();e&&\"resolved\"!==e.state()&&(h.debug(\"Cancelling API request\"),e.abort())},reset:function(){h.remove.error(),h.remove.loading()},setting:function(t,n){if(h.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];e.isPlainObject(v[t])?e.extend(!0,v[t],n):v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},debug:function(){!v.silent&&v.debug&&(v.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,v.name+\":\"),h.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,v.name+\":\"),h.verbose.apply(console,arguments)))},error:function(){v.silent||(h.error=Function.prototype.bind.call(console.error,console,v.name+\":\"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;v.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",\"Execution Time\":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=v.name+\":\",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=F;return n=n||d,a=E||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(h.error(C.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(F===i&&h.initialize(),h.invoke(c)):(F!==i&&F.invoke(\"destroy\"),h.initialize())}),o!==i?o:this},e.api.settings={name:\"API\",namespace:\"api\",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:\"auto\",stateContext:!1,loadingDuration:0,hideError:\"auto\",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:\"\",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:\"get\",data:{},dataType:\"json\",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:\"The before send function has aborted the request\",error:\"There was an error with your request\",exitConditions:\"API Request Aborted. Exit conditions met\",JSONParse:\"JSON could not be parsed during error handling\",legacyParameters:\"You are using legacy API success callback names\",method:\"The method you called is not defined\",missingAction:\"API action used but no url was defined\",missingSerialize:\"jquery-serialize-object is required to add form data to an existing data object\",missingURL:\"No URL specified for api event\",noReturnedValue:\"The beforeSend callback must return a settings object, beforeSend ignored.\",noStorage:\"Caching responses locally requires session storage\",parseError:\"There was an error parsing your request\",requiredParameter:\"Missing a required URL parameter: \",statusMessage:\"Server gave an error: \",timeout:\"Your request timed out\"},regExp:{required:/\\{\\$*[A-z0-9]+\\}/g,optional:/\\{\\/\\$*[A-z0-9]+\\}/g},className:{loading:\"loading\",error:\"error\"},selector:{disabled:\".disabled\",form:\"form\"},metadata:{action:\"action\",url:\"url\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.state=function(t){var o,a=e(this),r=a.selector||\"\",s=(\"ontouchstart\"in n.documentElement,(new Date).getTime()),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var n,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),m=f.error,g=f.metadata,p=f.className,h=f.namespace,v=f.states,b=f.text,y=\".\"+h,x=h+\"-module\",C=e(this),w=this,k=C.data(x);n={initialize:function(){n.verbose(\"Initializing module\"),f.automatic&&n.add.defaults(),f.context&&\"\"!==r?e(f.context).on(r,\"mouseenter\"+y,n.change.text).on(r,\"mouseleave\"+y,n.reset.text).on(r,\"click\"+y,n.toggle.state):C.on(\"mouseenter\"+y,n.change.text).on(\"mouseleave\"+y,n.reset.text).on(\"click\"+y,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose(\"Storing instance of module\",n),k=n,C.data(x,n)},destroy:function(){n.verbose(\"Destroying previous module\",k),C.off(y).removeData(x)},refresh:function(){n.verbose(\"Refreshing selector cache\"),C=e(w)},add:{defaults:function(){var o=t&&e.isPlainObject(t.states)?t.states:{};e.each(f.defaults,function(t,a){n.is[t]!==i&&n.is[t]()&&(n.verbose(\"Adding default states\",t,w),e.extend(f.states,a,o))})}},is:{active:function(){return C.hasClass(p.active)},loading:function(){return C.hasClass(p.loading)},inactive:function(){return!C.hasClass(p.active)},state:function(e){return p[e]!==i&&C.hasClass(p[e])},enabled:function(){return!C.is(f.filter.active)},disabled:function(){return C.is(f.filter.active)},textEnabled:function(){return!C.is(f.filter.text)},button:function(){return C.is(\".button:not(a, .submit)\")},input:function(){return C.is(\"input\")},progress:function(){return C.is(\".ui.progress\")}},allow:function(e){n.debug(\"Now allowing state\",e),v[e]=!0},disallow:function(e){n.debug(\"No longer allowing\",e),v[e]=!1},allows:function(e){return v[e]||!1},enable:function(){C.removeClass(p.disabled)},disable:function(){C.addClass(p.disabled)},setState:function(e){n.allows(e)&&C.addClass(p[e])},removeState:function(e){n.allows(e)&&C.removeClass(p[e])},toggle:{state:function(){var t,o;if(n.allows(\"active\")&&n.is.enabled()){if(n.refresh(),e.fn.api!==i)if(t=C.api(\"get request\"),o=C.api(\"was cancelled\"))n.debug(\"API Request cancelled by beforesend\"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug(\"API request detected, waiting for state signal\",t),t&&(b.loading&&n.update.text(b.loading),e.when(t).then(function(){\"resolved\"==t.state()?(n.debug(\"API request succeeded\"),f.activateTest=function(){return!0},f.deactivateTest=function(){return!0}):(n.debug(\"API request failed\"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug(\"Determining state change direction\"),n.is.inactive()?n.activate():n.deactivate(),f.sync&&n.sync(),f.onChange.call(w)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose(\"Changing text to disabled text\",b.hover),n.update.text(b.disabled)):n.is.active()?b.hover?(n.verbose(\"Changing text to hover text\",b.hover),n.update.text(b.hover)):b.deactivate&&(n.verbose(\"Changing text to deactivating text\",b.deactivate),n.update.text(b.deactivate)):b.hover?(n.verbose(\"Changing text to hover text\",b.hover),n.update.text(b.hover)):b.activate&&(n.verbose(\"Changing text to activating text\",b.activate),n.update.text(b.activate)))}},activate:function(){f.activateTest.call(w)&&(n.debug(\"Setting state to active\"),C.addClass(p.active),n.update.text(b.active),f.onActivate.call(w))},deactivate:function(){f.deactivateTest.call(w)&&(n.debug(\"Setting state to inactive\"),C.removeClass(p.active),n.update.text(b.inactive),f.onDeactivate.call(w));\n},sync:function(){n.verbose(\"Syncing other buttons to current state\"),n.is.active()?a.not(C).state(\"activate\"):a.not(C).state(\"deactivate\")},get:{text:function(){return f.selector.text?C.find(f.selector.text).text():C.html()},textFor:function(e){return b[e]||!1}},flash:{text:function(e,t,i){var o=n.get.text();n.debug(\"Flashing text message\",e,t),e=e||f.text.flash,t=t||f.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(o),i.call(w)},t)}},reset:{text:function(){var e=b.active||C.data(g.storedText),t=b.inactive||C.data(g.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose(\"Resetting active text\",e),n.update.text(e)):t&&(n.verbose(\"Resetting inactive text\",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug(\"Updating text\",e),f.selector.text?C.data(g.storedText,e).find(f.selector.text).text(e):C.data(g.storedText,e).html(e)):n.debug(\"Text is already set, ignoring update\",e)}},setting:function(t,o){if(n.debug(\"Changing setting\",t,o),e.isPlainObject(t))e.extend(!0,f,t);else{if(o===i)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],o):f[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){!f.silent&&f.debug&&(f.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,f.name+\":\"),n.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,f.name+\":\"),n.verbose.apply(console,arguments)))},error:function(){f.silent||(n.error=Function.prototype.bind.call(console.error,console,f.name+\":\"),n.error.apply(console,arguments))},performance:{log:function(e){var t,i,o;f.performance&&(t=(new Date).getTime(),o=s||t,i=t-o,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:w,\"Execution Time\":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var t=f.name+\":\",o=0;s=!1,clearTimeout(n.performance.timer),e.each(l,function(e,t){o+=t[\"Execution Time\"]}),t+=\" \"+o+\"ms\",r&&(t+=\" '\"+r+\"'\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,a,r){var s,l,c,u=k;return a=a||d,r=w||r,\"string\"==typeof t&&u!==i&&(t=t.split(/[\\. ]/),s=t.length-1,e.each(t,function(o,a){var r=o!=s?a+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(u[r])&&o!=s)u=u[r];else{if(u[r]!==i)return l=u[r],!1;if(!e.isPlainObject(u[a])||o==s)return u[a]!==i?(l=u[a],!1):(n.error(m.method,t),!1);u=u[a]}})),e.isFunction(l)?c=l.apply(r,a):l!==i&&(c=l),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),l}},u?(k===i&&n.initialize(),n.invoke(c)):(k!==i&&k.invoke(\"destroy\"),n.initialize())}),o!==i?o:this},e.fn.state.settings={name:\"State\",debug:!1,verbose:!1,namespace:\"state\",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:\".loading, .disabled\",active:\".disabled\"},context:!1,error:{beforeSend:\"The before send function has cancelled state change\",method:\"The method you called is not defined.\"},metadata:{promise:\"promise\",storedText:\"stored-text\"},className:{active:\"active\",disabled:\"disabled\",error:\"error\",loading:\"loading\",success:\"success\",warning:\"warning\"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.visibility=function(o){var a,r=e(this),s=r.selector||\"\",l=(new Date).getTime(),c=[],u=arguments[0],d=\"string\"==typeof u,f=[].slice.call(arguments,1),m=r.length,g=0;return r.each(function(){var r,p,h,v,b=e.isPlainObject(o)?e.extend(!0,{},e.fn.visibility.settings,o):e.extend({},e.fn.visibility.settings),y=b.className,x=b.namespace,C=b.error,w=b.metadata,k=\".\"+x,S=\"module-\"+x,T=e(t),A=e(this),R=e(b.context),E=(A.selector||\"\",A.data(S)),P=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},F=this,O=!1;v={initialize:function(){v.debug(\"Initializing\",b),v.setup.cache(),v.should.trackChanges()&&(\"image\"==b.type&&v.setup.image(),\"fixed\"==b.type&&v.setup.fixed(),b.observeChanges&&v.observeChanges(),v.bind.events()),v.save.position(),v.is.visible()||v.error(C.visible,A),b.initialCheck&&v.checkVisibility(),v.instantiate()},instantiate:function(){v.debug(\"Storing instance\",v),A.data(S,v),E=v},destroy:function(){v.verbose(\"Destroying previous module\"),h&&h.disconnect(),p&&p.disconnect(),T.off(\"load\"+k,v.event.load).off(\"resize\"+k,v.event.resize),R.off(\"scroll\"+k,v.event.scroll).off(\"scrollchange\"+k,v.event.scrollchange),\"fixed\"==b.type&&(v.resetFixed(),v.remove.placeholder()),A.off(k).removeData(S)},observeChanges:function(){\"MutationObserver\"in t&&(p=new MutationObserver(v.event.contextChanged),h=new MutationObserver(v.event.changed),p.observe(n,{childList:!0,subtree:!0}),h.observe(F,{childList:!0,subtree:!0}),v.debug(\"Setting up mutation observer\",h))},bind:{events:function(){v.verbose(\"Binding visibility events to scroll and resize\"),b.refreshOnLoad&&T.on(\"load\"+k,v.event.load),T.on(\"resize\"+k,v.event.resize),R.off(\"scroll\"+k).on(\"scroll\"+k,v.event.scroll).on(\"scrollchange\"+k,v.event.scrollchange)}},event:{changed:function(e){v.verbose(\"DOM tree modified, updating visibility calculations\"),v.timer=setTimeout(function(){v.verbose(\"DOM tree modified, updating sticky menu\"),v.refresh()},100)},contextChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==F||e(t).find(F).length>0)&&(v.debug(\"Element removed from DOM, tearing down events\"),v.destroy())})})},resize:function(){v.debug(\"Window resized\"),b.refreshOnResize&&P(v.refresh)},load:function(){v.debug(\"Page finished loading\"),P(v.refresh)},scroll:function(){b.throttle?(clearTimeout(v.timer),v.timer=setTimeout(function(){R.triggerHandler(\"scrollchange\"+k,[R.scrollTop()])},b.throttle)):P(function(){R.triggerHandler(\"scrollchange\"+k,[R.scrollTop()])})},scrollchange:function(e,t){v.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,a=0,r=[],s=n.createElement(\"img\"),l=function(){a++,a>=t.length&&e.isFunction(i)&&i()};o--;)s=n.createElement(\"img\"),s.onload=l,s.onerror=l,s.src=t[o],r.push(s)},enableCallbacks:function(){v.debug(\"Allowing callbacks to occur\"),O=!1},disableCallbacks:function(){v.debug(\"Disabling all callbacks temporarily\"),O=!0},should:{trackChanges:function(){return d?(v.debug(\"One time query, no need to bind events\"),!1):(v.debug(\"Callbacks being attached\"),!0)}},setup:{cache:function(){v.cache={occurred:{},screen:{},element:{}}},image:function(){var e=A.data(w.src);e&&(v.verbose(\"Lazy loading image\",e),b.once=!0,b.observeChanges=!1,b.onOnScreen=function(){v.debug(\"Image on screen\",F),v.precache(e,function(){v.set.image(e,function(){g++,g==m&&b.onAllLoaded.call(this),b.onLoad.call(this)})})})},fixed:function(){v.debug(\"Setting up fixed\"),b.once=!1,b.observeChanges=!1,b.initialCheck=!0,b.refreshOnLoad=!0,o.transition||(b.transition=!1),v.create.placeholder(),v.debug(\"Added placeholder\",r),b.onTopPassed=function(){v.debug(\"Element passed, adding fixed position\",A),v.show.placeholder(),v.set.fixed(),b.transition&&e.fn.transition!==i&&A.transition(b.transition,b.duration)},b.onTopPassedReverse=function(){v.debug(\"Element returned to position, removing fixed\",A),v.hide.placeholder(),v.remove.fixed()}}},create:{placeholder:function(){v.verbose(\"Creating fixed position placeholder\"),r=A.clone(!1).css(\"display\",\"none\").addClass(y.placeholder).insertAfter(A)}},show:{placeholder:function(){v.verbose(\"Showing placeholder\"),r.css(\"display\",\"block\").css(\"visibility\",\"hidden\")}},hide:{placeholder:function(){v.verbose(\"Hiding placeholder\"),r.css(\"display\",\"none\").css(\"visibility\",\"\")}},set:{fixed:function(){v.verbose(\"Setting element to fixed position\"),A.addClass(y.fixed).css({position:\"fixed\",top:b.offset+\"px\",left:\"auto\",zIndex:b.zIndex}),b.onFixed.call(F)},image:function(t,n){A.attr(\"src\",t),b.transition?e.fn.transition!==i?A.transition(b.transition,b.duration,n):A.fadeIn(b.duration,n):A.show()}},is:{onScreen:function(){var e=v.get.elementCalculations();return e.onScreen},offScreen:function(){var e=v.get.elementCalculations();return e.offScreen},visible:function(){return!(!v.cache||!v.cache.element)&&!(0===v.cache.element.width&&0===v.cache.element.offset.top)}},refresh:function(){v.debug(\"Refreshing constants (width/height)\"),\"fixed\"==b.type&&v.resetFixed(),v.reset(),v.save.position(),b.checkOnRefresh&&v.checkVisibility(),b.onRefresh.call(F)},resetFixed:function(){v.remove.fixed(),v.remove.occurred()},reset:function(){v.verbose(\"Resetting all cached values\"),e.isPlainObject(v.cache)&&(v.cache.screen={},v.cache.element={})},checkVisibility:function(e){v.verbose(\"Checking visibility of element\",v.cache.element),!O&&v.is.visible()&&(v.save.scroll(e),v.save.calculations(),v.passed(),v.passingReverse(),v.topVisibleReverse(),v.bottomVisibleReverse(),v.topPassedReverse(),v.bottomPassedReverse(),v.onScreen(),v.offScreen(),v.passing(),v.topVisible(),v.bottomVisible(),v.topPassed(),v.bottomPassed(),b.onUpdate&&b.onUpdate.call(F,v.get.elementCalculations()))},passed:function(t,n){var o=v.get.elementCalculations();if(t&&n)b.onPassed[t]=n;else{if(t!==i)return v.get.pixelsPassed(t)>o.pixelsPassed;o.passing&&e.each(b.onPassed,function(e,t){o.bottomVisible||o.pixelsPassed>v.get.pixelsPassed(e)?v.execute(t,e):b.once||v.remove.occurred(t)})}},onScreen:function(e){var t=v.get.elementCalculations(),n=e||b.onOnScreen,o=\"onScreen\";if(e&&(v.debug(\"Adding callback for onScreen\",e),b.onOnScreen=e),t.onScreen?v.execute(n,o):b.once||v.remove.occurred(o),e!==i)return t.onOnScreen},offScreen:function(e){var t=v.get.elementCalculations(),n=e||b.onOffScreen,o=\"offScreen\";if(e&&(v.debug(\"Adding callback for offScreen\",e),b.onOffScreen=e),t.offScreen?v.execute(n,o):b.once||v.remove.occurred(o),e!==i)return t.onOffScreen},passing:function(e){var t=v.get.elementCalculations(),n=e||b.onPassing,o=\"passing\";if(e&&(v.debug(\"Adding callback for passing\",e),b.onPassing=e),t.passing?v.execute(n,o):b.once||v.remove.occurred(o),e!==i)return t.passing},topVisible:function(e){var t=v.get.elementCalculations(),n=e||b.onTopVisible,o=\"topVisible\";if(e&&(v.debug(\"Adding callback for top visible\",e),b.onTopVisible=e),t.topVisible?v.execute(n,o):b.once||v.remove.occurred(o),e===i)return t.topVisible},bottomVisible:function(e){var t=v.get.elementCalculations(),n=e||b.onBottomVisible,o=\"bottomVisible\";if(e&&(v.debug(\"Adding callback for bottom visible\",e),b.onBottomVisible=e),t.bottomVisible?v.execute(n,o):b.once||v.remove.occurred(o),e===i)return t.bottomVisible},topPassed:function(e){var t=v.get.elementCalculations(),n=e||b.onTopPassed,o=\"topPassed\";if(e&&(v.debug(\"Adding callback for top passed\",e),b.onTopPassed=e),t.topPassed?v.execute(n,o):b.once||v.remove.occurred(o),e===i)return t.topPassed},bottomPassed:function(e){var t=v.get.elementCalculations(),n=e||b.onBottomPassed,o=\"bottomPassed\";if(e&&(v.debug(\"Adding callback for bottom passed\",e),b.onBottomPassed=e),t.bottomPassed?v.execute(n,o):b.once||v.remove.occurred(o),e===i)return t.bottomPassed},passingReverse:function(e){var t=v.get.elementCalculations(),n=e||b.onPassingReverse,o=\"passingReverse\";if(e&&(v.debug(\"Adding callback for passing reverse\",e),b.onPassingReverse=e),t.passing?b.once||v.remove.occurred(o):v.get.occurred(\"passing\")&&v.execute(n,o),e!==i)return!t.passing},topVisibleReverse:function(e){var t=v.get.elementCalculations(),n=e||b.onTopVisibleReverse,o=\"topVisibleReverse\";if(e&&(v.debug(\"Adding callback for top visible reverse\",e),b.onTopVisibleReverse=e),t.topVisible?b.once||v.remove.occurred(o):v.get.occurred(\"topVisible\")&&v.execute(n,o),e===i)return!t.topVisible},bottomVisibleReverse:function(e){var t=v.get.elementCalculations(),n=e||b.onBottomVisibleReverse,o=\"bottomVisibleReverse\";if(e&&(v.debug(\"Adding callback for bottom visible reverse\",e),b.onBottomVisibleReverse=e),t.bottomVisible?b.once||v.remove.occurred(o):v.get.occurred(\"bottomVisible\")&&v.execute(n,o),e===i)return!t.bottomVisible},topPassedReverse:function(e){var t=v.get.elementCalculations(),n=e||b.onTopPassedReverse,o=\"topPassedReverse\";if(e&&(v.debug(\"Adding callback for top passed reverse\",e),b.onTopPassedReverse=e),t.topPassed?b.once||v.remove.occurred(o):v.get.occurred(\"topPassed\")&&v.execute(n,o),e===i)return!t.onTopPassed},bottomPassedReverse:function(e){var t=v.get.elementCalculations(),n=e||b.onBottomPassedReverse,o=\"bottomPassedReverse\";if(e&&(v.debug(\"Adding callback for bottom passed reverse\",e),b.onBottomPassedReverse=e),t.bottomPassed?b.once||v.remove.occurred(o):v.get.occurred(\"bottomPassed\")&&v.execute(n,o),e===i)return!t.bottomPassed},execute:function(e,t){var n=v.get.elementCalculations(),i=v.get.screenCalculations();e=e||!1,e&&(b.continuous?(v.debug(\"Callback being called continuously\",t,n),e.call(F,n,i)):v.get.occurred(t)||(v.debug(\"Conditions met\",t,n),e.call(F,n,i))),v.save.occurred(t)},remove:{fixed:function(){v.debug(\"Removing fixed position\"),A.removeClass(y.fixed).css({position:\"\",top:\"\",left:\"\",zIndex:\"\"}),b.onUnfixed.call(F)},placeholder:function(){v.debug(\"Removing placeholder content\"),r&&r.remove()},occurred:function(e){if(e){var t=v.cache.occurred;t[e]!==i&&t[e]===!0&&(v.debug(\"Callback can now be called again\",e),v.cache.occurred[e]=!1)}else v.cache.occurred={}}},save:{calculations:function(){v.verbose(\"Saving all calculations necessary to determine positioning\"),v.save.direction(),v.save.screenCalculations(),v.save.elementCalculations()},occurred:function(e){e&&(v.cache.occurred[e]!==i&&v.cache.occurred[e]===!0||(v.verbose(\"Saving callback occurred\",e),v.cache.occurred[e]=!0))},scroll:function(e){e=e+b.offset||R.scrollTop()+b.offset,v.cache.scroll=e},direction:function(){var e,t=v.get.scroll(),n=v.get.lastScroll();return e=t>n&&n?\"down\":t<n&&n?\"up\":\"static\",v.cache.direction=e,v.cache.direction},elementPosition:function(){var e=v.cache.element,t=v.get.screenSize();return v.verbose(\"Saving element position\"),e.fits=e.height<t.height,e.offset=A.offset(),e.width=A.outerWidth(),e.height=A.outerHeight(),v.cache.element=e,e},elementCalculations:function(){var e=v.get.screenCalculations(),t=v.get.elementPosition();return b.includeMargin?(t.margin={},t.margin.top=parseInt(A.css(\"margin-top\"),10),t.margin.bottom=parseInt(A.css(\"margin-bottom\"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),v.cache.element=t,v.verbose(\"Updated element calculations\",t),t},screenCalculations:function(){var e=v.get.scroll();return v.save.direction(),v.cache.screen.top=e,v.cache.screen.bottom=e+v.cache.screen.height,v.cache.screen},screenSize:function(){v.verbose(\"Saving window position\"),v.cache.screen={height:R.height()}},position:function(){v.save.screenSize(),v.save.elementPosition()}},get:{pixelsPassed:function(e){var t=v.get.elementCalculations();return e.search(\"%\")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return v.cache.occurred!==i&&(v.cache.occurred[e]||!1)},direction:function(){return v.cache.direction===i&&v.save.direction(),v.cache.direction},elementPosition:function(){return v.cache.element===i&&v.save.elementPosition(),v.cache.element},elementCalculations:function(){return v.cache.element===i&&v.save.elementCalculations(),v.cache.element},screenCalculations:function(){return v.cache.screen===i&&v.save.screenCalculations(),v.cache.screen},screenSize:function(){return v.cache.screen===i&&v.save.screenSize(),v.cache.screen},scroll:function(){return v.cache.scroll===i&&v.save.scroll(),v.cache.scroll},lastScroll:function(){return v.cache.screen===i?(v.debug(\"First scroll event, no last scroll could be found\"),!1):v.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},debug:function(){!b.silent&&b.debug&&(b.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,b.name+\":\"),v.debug.apply(console,arguments)))},verbose:function(){!b.silent&&b.verbose&&b.debug&&(b.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,b.name+\":\"),v.verbose.apply(console,arguments)))},error:function(){b.silent||(v.error=Function.prototype.bind.call(console.error,console,b.name+\":\"),v.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;b.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:F,\"Execution Time\":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var t=b.name+\":\",n=0;l=!1,clearTimeout(v.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",s&&(t+=\" '\"+s+\"'\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=E;return n=n||f,o=F||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(v.error(C.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(E===i&&v.initialize(),E.save.scroll(),E.save.calculations(),v.invoke(u)):(E!==i&&E.invoke(\"destroy\"),v.initialize())}),a!==i?a:this},e.fn.visibility.settings={name:\"Visibility\",namespace:\"visibility\",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,zIndex:\"10\",transition:\"fade in\",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:\"src\"},className:{fixed:\"fixed\",placeholder:\"placeholder\"},error:{method:\"The method you called is not defined.\",visible:\"Element is hidden, you must call refresh after element becomes visible\"}}}(jQuery,window,document);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZW1hbnRpYy9kaXN0L3NlbWFudGljLm1pbi5qcz9lY2VhIl0sInNvdXJjZXNDb250ZW50IjpbIiAvKlxuICogIyBTZW1hbnRpYyBVSSAtIDIuMi43XG4gKiBodHRwczovL2dpdGh1Yi5jb20vU2VtYW50aWMtT3JnL1NlbWFudGljLVVJXG4gKiBodHRwOi8vd3d3LnNlbWFudGljLXVpLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNCBDb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqL1xuIWZ1bmN0aW9uKGUsdCxuLGkpe2Uuc2l0ZT1lLmZuLnNpdGU9ZnVuY3Rpb24obyl7dmFyIGEscixzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGw9W10sYz1hcmd1bWVudHNbMF0sdT1cInN0cmluZ1wiPT10eXBlb2YgYyxkPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGY9ZS5pc1BsYWluT2JqZWN0KG8pP2UuZXh0ZW5kKCEwLHt9LGUuc2l0ZS5zZXR0aW5ncyxvKTplLmV4dGVuZCh7fSxlLnNpdGUuc2V0dGluZ3MpLG09Zi5uYW1lc3BhY2UsZz1mLmVycm9yLHA9XCJtb2R1bGUtXCIrbSxoPWUobiksdj1oLGI9dGhpcyx5PXYuZGF0YShwKTtyZXR1cm4gYT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe2EuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXthLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIHNpdGVcIixhKSx5PWEsdi5kYXRhKHAsYSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2EuZml4LmNvbnNvbGUoKSxhLmZpeC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKX0sZml4Ontjb25zb2xlOmZ1bmN0aW9uKCl7YS5kZWJ1ZyhcIk5vcm1hbGl6aW5nIHdpbmRvdy5jb25zb2xlXCIpLGNvbnNvbGUhPT1pJiZjb25zb2xlLmxvZyE9PWl8fChhLnZlcmJvc2UoXCJDb25zb2xlIG5vdCBhdmFpbGFibGUsIG5vcm1hbGl6aW5nIGV2ZW50c1wiKSxhLmRpc2FibGUuY29uc29sZSgpKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZS5ncm91cCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUuZ3JvdXBFbmQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlLmdyb3VwQ29sbGFwc2VkfHwoYS52ZXJib3NlKFwiQ29uc29sZSBncm91cCBub3QgYXZhaWxhYmxlLCBub3JtYWxpemluZyBldmVudHNcIiksdC5jb25zb2xlLmdyb3VwPWZ1bmN0aW9uKCl7fSx0LmNvbnNvbGUuZ3JvdXBFbmQ9ZnVuY3Rpb24oKXt9LHQuY29uc29sZS5ncm91cENvbGxhcHNlZD1mdW5jdGlvbigpe30pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjb25zb2xlLm1hcmtUaW1lbGluZSYmKGEudmVyYm9zZShcIk1hcmsgdGltZWxpbmUgbm90IGF2YWlsYWJsZSwgbm9ybWFsaXppbmcgZXZlbnRzXCIpLHQuY29uc29sZS5tYXJrVGltZWxpbmU9ZnVuY3Rpb24oKXt9KX0sY29uc29sZUNsZWFyOmZ1bmN0aW9uKCl7YS5kZWJ1ZyhcIkRpc2FibGluZyBwcm9ncmFtbWF0aWMgY29uc29sZSBjbGVhcmluZ1wiKSx0LmNvbnNvbGUuY2xlYXI9ZnVuY3Rpb24oKXt9fSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ZnVuY3Rpb24oKXthLmRlYnVnKFwiTm9ybWFsaXppbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIpLHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lPT09aSYmKGEuZGVidWcoXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbm90IGF2YWlsYWJsZSwgbm9ybWFsaXppbmcgZXZlbnRcIiksdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfSl9fSxtb2R1bGVFeGlzdHM6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZm5bdF0hPT1pJiZlLmZuW3RdLnNldHRpbmdzIT09aX0sZW5hYmxlZDp7bW9kdWxlczpmdW5jdGlvbih0KXt2YXIgbj1bXTtyZXR1cm4gdD10fHxmLm1vZHVsZXMsZS5lYWNoKHQsZnVuY3Rpb24oZSx0KXthLm1vZHVsZUV4aXN0cyh0KSYmbi5wdXNoKHQpfSksbn19LGRpc2FibGVkOnttb2R1bGVzOmZ1bmN0aW9uKHQpe3ZhciBuPVtdO3JldHVybiB0PXR8fGYubW9kdWxlcyxlLmVhY2godCxmdW5jdGlvbihlLHQpe2EubW9kdWxlRXhpc3RzKHQpfHxuLnB1c2godCl9KSxufX0sY2hhbmdlOntzZXR0aW5nOmZ1bmN0aW9uKHQsbixvLHIpe289XCJzdHJpbmdcIj09dHlwZW9mIG8/XCJhbGxcIj09PW8/Zi5tb2R1bGVzOltvXTpvfHxmLm1vZHVsZXMscj1yPT09aXx8cixlLmVhY2gobyxmdW5jdGlvbihpLG8pe3ZhciBzLGw9IWEubW9kdWxlRXhpc3RzKG8pfHwoZS5mbltvXS5zZXR0aW5ncy5uYW1lc3BhY2V8fCExKTthLm1vZHVsZUV4aXN0cyhvKSYmKGEudmVyYm9zZShcIkNoYW5naW5nIGRlZmF1bHQgc2V0dGluZ1wiLHQsbixvKSxlLmZuW29dLnNldHRpbmdzW3RdPW4sciYmbCYmKHM9ZShcIjpkYXRhKG1vZHVsZS1cIitsK1wiKVwiKSxzLmxlbmd0aD4wJiYoYS52ZXJib3NlKFwiTW9kaWZ5aW5nIGV4aXN0aW5nIHNldHRpbmdzXCIscyksc1tvXShcInNldHRpbmdcIix0LG4pKSkpfSl9LHNldHRpbmdzOmZ1bmN0aW9uKHQsbixvKXtuPVwic3RyaW5nXCI9PXR5cGVvZiBuP1tuXTpufHxmLm1vZHVsZXMsbz1vPT09aXx8byxlLmVhY2gobixmdW5jdGlvbihuLGkpe3ZhciByO2EubW9kdWxlRXhpc3RzKGkpJiYoYS52ZXJib3NlKFwiQ2hhbmdpbmcgZGVmYXVsdCBzZXR0aW5nXCIsdCxpKSxlLmV4dGVuZCghMCxlLmZuW2ldLnNldHRpbmdzLHQpLG8mJm0mJihyPWUoXCI6ZGF0YShtb2R1bGUtXCIrbStcIilcIiksci5sZW5ndGg+MCYmKGEudmVyYm9zZShcIk1vZGlmeWluZyBleGlzdGluZyBzZXR0aW5nc1wiLHIpLHJbaV0oXCJzZXR0aW5nXCIsdCkpKSl9KX19LGVuYWJsZTp7Y29uc29sZTpmdW5jdGlvbigpe2EuY29uc29sZSghMCl9LGRlYnVnOmZ1bmN0aW9uKGUsdCl7ZT1lfHxmLm1vZHVsZXMsYS5kZWJ1ZyhcIkVuYWJsaW5nIGRlYnVnIGZvciBtb2R1bGVzXCIsZSksYS5jaGFuZ2Uuc2V0dGluZyhcImRlYnVnXCIsITAsZSx0KX0sdmVyYm9zZTpmdW5jdGlvbihlLHQpe2U9ZXx8Zi5tb2R1bGVzLGEuZGVidWcoXCJFbmFibGluZyB2ZXJib3NlIGRlYnVnIGZvciBtb2R1bGVzXCIsZSksYS5jaGFuZ2Uuc2V0dGluZyhcInZlcmJvc2VcIiwhMCxlLHQpfX0sZGlzYWJsZTp7Y29uc29sZTpmdW5jdGlvbigpe2EuY29uc29sZSghMSl9LGRlYnVnOmZ1bmN0aW9uKGUsdCl7ZT1lfHxmLm1vZHVsZXMsYS5kZWJ1ZyhcIkRpc2FibGluZyBkZWJ1ZyBmb3IgbW9kdWxlc1wiLGUpLGEuY2hhbmdlLnNldHRpbmcoXCJkZWJ1Z1wiLCExLGUsdCl9LHZlcmJvc2U6ZnVuY3Rpb24oZSx0KXtlPWV8fGYubW9kdWxlcyxhLmRlYnVnKFwiRGlzYWJsaW5nIHZlcmJvc2UgZGVidWcgZm9yIG1vZHVsZXNcIixlKSxhLmNoYW5nZS5zZXR0aW5nKFwidmVyYm9zZVwiLCExLGUsdCl9fSxjb25zb2xlOmZ1bmN0aW9uKGUpe2lmKGUpe2lmKHkuY2FjaGUuY29uc29sZT09PWkpcmV0dXJuIHZvaWQgYS5lcnJvcihnLmNvbnNvbGUpO2EuZGVidWcoXCJSZXN0b3JpbmcgY29uc29sZSBmdW5jdGlvblwiKSx0LmNvbnNvbGU9eS5jYWNoZS5jb25zb2xlfWVsc2UgYS5kZWJ1ZyhcIkRpc2FibGluZyBjb25zb2xlIGZ1bmN0aW9uXCIpLHkuY2FjaGUuY29uc29sZT10LmNvbnNvbGUsdC5jb25zb2xlPXtjbGVhcjpmdW5jdGlvbigpe30sZXJyb3I6ZnVuY3Rpb24oKXt9LGdyb3VwOmZ1bmN0aW9uKCl7fSxncm91cENvbGxhcHNlZDpmdW5jdGlvbigpe30sZ3JvdXBFbmQ6ZnVuY3Rpb24oKXt9LGluZm86ZnVuY3Rpb24oKXt9LGxvZzpmdW5jdGlvbigpe30sbWFya1RpbWVsaW5lOmZ1bmN0aW9uKCl7fSx3YXJuOmZ1bmN0aW9uKCl7fX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXthLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIHNpdGUgZm9yXCIsdiksdi5yZW1vdmVEYXRhKHApfSxjYWNoZTp7fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGYsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gZlt0XTtmW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxhLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGFbdF07YVt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXtmLmRlYnVnJiYoZi5wZXJmb3JtYW5jZT9hLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihhLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZi5uYW1lK1wiOlwiKSxhLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7Zi52ZXJib3NlJiZmLmRlYnVnJiYoZi5wZXJmb3JtYW5jZT9hLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihhLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxmLm5hbWUrXCI6XCIpLGEudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXthLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLGYubmFtZStcIjpcIiksYS5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2YucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9c3x8dCxuPXQtaSxzPXQsbC5wdXNoKHtFbGVtZW50OmIsTmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KGEucGVyZm9ybWFuY2UudGltZXIpLGEucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChhLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PWYubmFtZStcIjpcIixuPTA7cz0hMSxjbGVhclRpbWVvdXQoYS5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIiwoY29uc29sZS5ncm91cCE9PWl8fGNvbnNvbGUudGFibGUhPT1pKSYmbC5sZW5ndGg+MCYmKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQodCksY29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKGwpOmUuZWFjaChsLGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2codC5OYW1lK1wiOiBcIit0W1wiRXhlY3V0aW9uIFRpbWVcIl0rXCJtc1wiKX0pLGNvbnNvbGUuZ3JvdXBFbmQoKSksbD1bXX19LGludm9rZTpmdW5jdGlvbih0LG4sbyl7dmFyIHMsbCxjLHU9eTtyZXR1cm4gbj1ufHxkLG89Ynx8byxcInN0cmluZ1wiPT10eXBlb2YgdCYmdSE9PWkmJih0PXQuc3BsaXQoL1tcXC4gXS8pLHM9dC5sZW5ndGgtMSxlLmVhY2godCxmdW5jdGlvbihuLG8pe3ZhciByPW4hPXM/byt0W24rMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdFtuKzFdLnNsaWNlKDEpOnQ7aWYoZS5pc1BsYWluT2JqZWN0KHVbcl0pJiZuIT1zKXU9dVtyXTtlbHNle2lmKHVbcl0hPT1pKXJldHVybiBsPXVbcl0sITE7aWYoIWUuaXNQbGFpbk9iamVjdCh1W29dKXx8bj09cylyZXR1cm4gdVtvXSE9PWk/KGw9dVtvXSwhMSk6KGEuZXJyb3IoZy5tZXRob2QsdCksITEpO3U9dVtvXX19KSksZS5pc0Z1bmN0aW9uKGwpP2M9bC5hcHBseShvLG4pOmwhPT1pJiYoYz1sKSxlLmlzQXJyYXkocik/ci5wdXNoKGMpOnIhPT1pP3I9W3IsY106YyE9PWkmJihyPWMpLGx9fSx1Pyh5PT09aSYmYS5pbml0aWFsaXplKCksYS5pbnZva2UoYykpOih5IT09aSYmYS5kZXN0cm95KCksYS5pbml0aWFsaXplKCkpLHIhPT1pP3I6dGhpc30sZS5zaXRlLnNldHRpbmdzPXtuYW1lOlwiU2l0ZVwiLG5hbWVzcGFjZTpcInNpdGVcIixlcnJvcjp7Y29uc29sZTpcIkNvbnNvbGUgY2Fubm90IGJlIHJlc3RvcmVkLCBtb3N0IGxpa2VseSBpdCB3YXMgb3ZlcndyaXR0ZW4gb3V0c2lkZSBvZiBtb2R1bGVcIixtZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWQuXCJ9LGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsbW9kdWxlczpbXCJhY2NvcmRpb25cIixcImFwaVwiLFwiY2hlY2tib3hcIixcImRpbW1lclwiLFwiZHJvcGRvd25cIixcImVtYmVkXCIsXCJmb3JtXCIsXCJtb2RhbFwiLFwibmFnXCIsXCJwb3B1cFwiLFwicmF0aW5nXCIsXCJzaGFwZVwiLFwic2lkZWJhclwiLFwic3RhdGVcIixcInN0aWNreVwiLFwidGFiXCIsXCJ0cmFuc2l0aW9uXCIsXCJ2aXNpdFwiLFwidmlzaWJpbGl0eVwiXSxzaXRlTmFtZXNwYWNlOlwic2l0ZVwiLG5hbWVzcGFjZVN0dWI6e2NhY2hlOnt9LGNvbmZpZzp7fSxzZWN0aW9uczp7fSxzZWN0aW9uOnt9LHV0aWxpdGllczp7fX19LGUuZXh0ZW5kKGUuZXhwcltcIjpcIl0se2RhdGE6ZS5leHByLmNyZWF0ZVBzZXVkbz9lLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4hIWUuZGF0YShuLHQpfX0pOmZ1bmN0aW9uKHQsbixpKXtyZXR1cm4hIWUuZGF0YSh0LGlbM10pfX0pfShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjt0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGUuZm4uZm9ybT1mdW5jdGlvbih0KXt2YXIgbyxhPWUodGhpcykscj1hLnNlbGVjdG9yfHxcIlwiLHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksbD1bXSxjPWFyZ3VtZW50c1swXSx1PWFyZ3VtZW50c1sxXSxkPVwic3RyaW5nXCI9PXR5cGVvZiBjLGY9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbigpe3ZhciBtLGcscCxoLHYsYix5LHgsQyx3LGssUyxULEEsUixFLFAsRixPPWUodGhpcyksRD10aGlzLHE9W10saj0hMTtGPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Ri5nZXQuc2V0dGluZ3MoKSxkPyhQPT09aSYmRi5pbnN0YW50aWF0ZSgpLEYuaW52b2tlKGMpKTooUCE9PWkmJlAuaW52b2tlKFwiZGVzdHJveVwiKSxGLnZlcmJvc2UoXCJJbml0aWFsaXppbmcgZm9ybSB2YWxpZGF0aW9uXCIsTyx4KSxGLmJpbmRFdmVudHMoKSxGLnNldC5kZWZhdWx0cygpLEYuaW5zdGFudGlhdGUoKSl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7Ri52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixGKSxQPUYsTy5kYXRhKFIsRil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtGLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZVwiLFApLEYucmVtb3ZlRXZlbnRzKCksTy5yZW1vdmVEYXRhKFIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7Ri52ZXJib3NlKFwiUmVmcmVzaGluZyBzZWxlY3RvciBjYWNoZVwiKSxtPU8uZmluZChrLmZpZWxkKSxnPU8uZmluZChrLmdyb3VwKSxwPU8uZmluZChrLm1lc3NhZ2UpLGg9Ty5maW5kKGsucHJvbXB0KSx2PU8uZmluZChrLnN1Ym1pdCksYj1PLmZpbmQoay5jbGVhcikseT1PLmZpbmQoay5yZXNldCl9LHN1Ym1pdDpmdW5jdGlvbigpe0YudmVyYm9zZShcIlN1Ym1pdHRpbmcgZm9ybVwiLE8pLE8uc3VibWl0KCl9LGF0dGFjaEV2ZW50czpmdW5jdGlvbih0LG4pe249bnx8XCJzdWJtaXRcIixlKHQpLm9uKFwiY2xpY2tcIitFLGZ1bmN0aW9uKGUpe0Zbbl0oKSxlLnByZXZlbnREZWZhdWx0KCl9KX0sYmluZEV2ZW50czpmdW5jdGlvbigpe0YudmVyYm9zZShcIkF0dGFjaGluZyBmb3JtIGV2ZW50c1wiKSxPLm9uKFwic3VibWl0XCIrRSxGLnZhbGlkYXRlLmZvcm0pLm9uKFwiYmx1clwiK0Usay5maWVsZCxGLmV2ZW50LmZpZWxkLmJsdXIpLm9uKFwiY2xpY2tcIitFLGsuc3VibWl0LEYuc3VibWl0KS5vbihcImNsaWNrXCIrRSxrLnJlc2V0LEYucmVzZXQpLm9uKFwiY2xpY2tcIitFLGsuY2xlYXIsRi5jbGVhcikseC5rZXlib2FyZFNob3J0Y3V0cyYmTy5vbihcImtleWRvd25cIitFLGsuZmllbGQsRi5ldmVudC5maWVsZC5rZXlkb3duKSxtLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG49dC5wcm9wKFwidHlwZVwiKSxpPUYuZ2V0LmNoYW5nZUV2ZW50KG4sdCk7ZSh0aGlzKS5vbihpK0UsRi5ldmVudC5maWVsZC5jaGFuZ2UpfSl9LGNsZWFyOmZ1bmN0aW9uKCl7bS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxuPXQucGFyZW50KCksaT10LmNsb3Nlc3QoZyksbz1pLmZpbmQoay5wcm9tcHQpLGE9dC5kYXRhKHcuZGVmYXVsdFZhbHVlKXx8XCJcIixyPW4uaXMoay51aUNoZWNrYm94KSxzPW4uaXMoay51aURyb3Bkb3duKSxsPWkuaGFzQ2xhc3MoUy5lcnJvcik7bCYmKEYudmVyYm9zZShcIlJlc2V0dGluZyBlcnJvciBvbiBmaWVsZFwiLGkpLGkucmVtb3ZlQ2xhc3MoUy5lcnJvciksby5yZW1vdmUoKSkscz8oRi52ZXJib3NlKFwiUmVzZXR0aW5nIGRyb3Bkb3duIHZhbHVlXCIsbixhKSxuLmRyb3Bkb3duKFwiY2xlYXJcIikpOnI/dC5wcm9wKFwiY2hlY2tlZFwiLCExKTooRi52ZXJib3NlKFwiUmVzZXR0aW5nIGZpZWxkIHZhbHVlXCIsdCxhKSx0LnZhbChcIlwiKSl9KX0scmVzZXQ6ZnVuY3Rpb24oKXttLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG49dC5wYXJlbnQoKSxvPXQuY2xvc2VzdChnKSxhPW8uZmluZChrLnByb21wdCkscj10LmRhdGEody5kZWZhdWx0VmFsdWUpLHM9bi5pcyhrLnVpQ2hlY2tib3gpLGw9bi5pcyhrLnVpRHJvcGRvd24pLGM9by5oYXNDbGFzcyhTLmVycm9yKTtyIT09aSYmKGMmJihGLnZlcmJvc2UoXCJSZXNldHRpbmcgZXJyb3Igb24gZmllbGRcIixvKSxvLnJlbW92ZUNsYXNzKFMuZXJyb3IpLGEucmVtb3ZlKCkpLGw/KEYudmVyYm9zZShcIlJlc2V0dGluZyBkcm9wZG93biB2YWx1ZVwiLG4sciksbi5kcm9wZG93bihcInJlc3RvcmUgZGVmYXVsdHNcIikpOnM/KEYudmVyYm9zZShcIlJlc2V0dGluZyBjaGVja2JveCB2YWx1ZVwiLG4sciksdC5wcm9wKFwiY2hlY2tlZFwiLHIpKTooRi52ZXJib3NlKFwiUmVzZXR0aW5nIGZpZWxkIHZhbHVlXCIsdCxyKSx0LnZhbChyKSkpfSl9LGlzOnticmFja2V0ZWRSdWxlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGUmJmUudHlwZS5tYXRjaCh4LnJlZ0V4cC5icmFja2V0KX0sZW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIWV8fDA9PT1lLmxlbmd0aHx8KGUuaXMoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpPyFlLmlzKFwiOmNoZWNrZWRcIik6Ri5pcy5ibGFuayhlKSl9LGJsYW5rOmZ1bmN0aW9uKHQpe3JldHVyblwiXCI9PT1lLnRyaW0odC52YWwoKSl9LHZhbGlkOmZ1bmN0aW9uKCl7dmFyIHQ9ITA7cmV0dXJuIEYudmVyYm9zZShcIkNoZWNraW5nIGlmIGZvcm0gaXMgdmFsaWRcIiksZS5lYWNoKEMsZnVuY3Rpb24oZSxuKXtGLnZhbGlkYXRlLmZpZWxkKG4sZSl8fCh0PSExKX0pLHR9fSxyZW1vdmVFdmVudHM6ZnVuY3Rpb24oKXtPLm9mZihFKSxtLm9mZihFKSx2Lm9mZihFKSxtLm9mZihFKX0sZXZlbnQ6e2ZpZWxkOntrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBuPWUodGhpcyksaT10LndoaWNoLG89bi5pcyhrLmlucHV0KSxhPW4uaXMoay5jaGVja2JveCkscj1uLmNsb3Nlc3Qoay51aURyb3Bkb3duKS5sZW5ndGg+MCxzPXtlbnRlcjoxMyxlc2NhcGU6Mjd9O2k9PXMuZXNjYXBlJiYoRi52ZXJib3NlKFwiRXNjYXBlIGtleSBwcmVzc2VkIGJsdXJyaW5nIGZpZWxkXCIpLG4uYmx1cigpKSx0LmN0cmxLZXl8fGkhPXMuZW50ZXJ8fCFvfHxyfHxhfHwoanx8KG4ub25lKFwia2V5dXBcIitFLEYuZXZlbnQuZmllbGQua2V5dXApLEYuc3VibWl0KCksRi5kZWJ1ZyhcIkVudGVyIHByZXNzZWQgb24gaW5wdXQgc3VibWl0dGluZyBmb3JtXCIpKSxqPSEwKX0sa2V5dXA6ZnVuY3Rpb24oKXtqPSExfSxibHVyOmZ1bmN0aW9uKHQpe3ZhciBuPWUodGhpcyksaT1uLmNsb3Nlc3QoZyksbz1GLmdldC52YWxpZGF0aW9uKG4pO2kuaGFzQ2xhc3MoUy5lcnJvcik/KEYuZGVidWcoXCJSZXZhbGlkYXRpbmcgZmllbGRcIixuLG8pLG8mJkYudmFsaWRhdGUuZmllbGQobykpOlwiYmx1clwiIT14Lm9uJiZcImNoYW5nZVwiIT14Lm9ufHxvJiZGLnZhbGlkYXRlLmZpZWxkKG8pfSxjaGFuZ2U6ZnVuY3Rpb24odCl7dmFyIG49ZSh0aGlzKSxpPW4uY2xvc2VzdChnKSxvPUYuZ2V0LnZhbGlkYXRpb24obik7KFwiY2hhbmdlXCI9PXgub258fGkuaGFzQ2xhc3MoUy5lcnJvcikmJngucmV2YWxpZGF0ZSkmJihjbGVhclRpbWVvdXQoRi50aW1lciksRi50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Ri5kZWJ1ZyhcIlJldmFsaWRhdGluZyBmaWVsZFwiLG4sRi5nZXQudmFsaWRhdGlvbihuKSksRi52YWxpZGF0ZS5maWVsZChvKX0seC5kZWxheSkpfX19LGdldDp7YW5jaWxsYXJ5VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuISghZS50eXBlfHwhZS52YWx1ZSYmIUYuaXMuYnJhY2tldGVkUnVsZShlKSkmJihlLnZhbHVlIT09aT9lLnZhbHVlOmUudHlwZS5tYXRjaCh4LnJlZ0V4cC5icmFja2V0KVsxXStcIlwiKX0scnVsZU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEYuaXMuYnJhY2tldGVkUnVsZShlKT9lLnR5cGUucmVwbGFjZShlLnR5cGUubWF0Y2goeC5yZWdFeHAuYnJhY2tldClbMF0sXCJcIik6ZS50eXBlfSxjaGFuZ2VFdmVudDpmdW5jdGlvbihlLHQpe3JldHVyblwiY2hlY2tib3hcIj09ZXx8XCJyYWRpb1wiPT1lfHxcImhpZGRlblwiPT1lfHx0LmlzKFwic2VsZWN0XCIpP1wiY2hhbmdlXCI6Ri5nZXQuaW5wdXRFdmVudCgpfSxpbnB1dEV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChcImlucHV0XCIpLm9uaW5wdXQhPT1pP1wiaW5wdXRcIjpuLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKS5vbnByb3BlcnR5Y2hhbmdlIT09aT9cInByb3BlcnR5Y2hhbmdlXCI6XCJrZXl1cFwifSxwcm9tcHQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixpLG8sYT1GLmdldC5ydWxlTmFtZShlKSxyPUYuZ2V0LmFuY2lsbGFyeVZhbHVlKGUpLHM9ZS5wcm9tcHR8fHgucHJvbXB0W2FdfHx4LnRleHQudW5zcGVjaWZpZWRSdWxlLGw9cy5zZWFyY2goXCJ7dmFsdWV9XCIpIT09LTEsYz1zLnNlYXJjaChcIntuYW1lfVwiKSE9PS0xO3JldHVybihjfHxsKSYmKGk9Ri5nZXQuZmllbGQodC5pZGVudGlmaWVyKSksbCYmKHM9cy5yZXBsYWNlKFwie3ZhbHVlfVwiLGkudmFsKCkpKSxjJiYobj1pLmNsb3Nlc3Qoay5ncm91cCkuZmluZChcImxhYmVsXCIpLmVxKDApLG89MT09bi5sZW5ndGg/bi50ZXh0KCk6aS5wcm9wKFwicGxhY2Vob2xkZXJcIil8fHgudGV4dC51bnNwZWNpZmllZEZpZWxkLHM9cy5yZXBsYWNlKFwie25hbWV9XCIsbykpLHM9cy5yZXBsYWNlKFwie2lkZW50aWZpZXJ9XCIsdC5pZGVudGlmaWVyKSxzPXMucmVwbGFjZShcIntydWxlVmFsdWV9XCIsciksZS5wcm9tcHR8fEYudmVyYm9zZShcIlVzaW5nIGRlZmF1bHQgdmFsaWRhdGlvbiBwcm9tcHQgZm9yIHR5cGVcIixzLGEpLHN9LHNldHRpbmdzOmZ1bmN0aW9uKCl7aWYoZS5pc1BsYWluT2JqZWN0KHQpKXt2YXIgbixvPU9iamVjdC5rZXlzKHQpLGE9by5sZW5ndGg+MCYmKHRbb1swXV0uaWRlbnRpZmllciE9PWkmJnRbb1swXV0ucnVsZXMhPT1pKTthPyh4PWUuZXh0ZW5kKCEwLHt9LGUuZm4uZm9ybS5zZXR0aW5ncyx1KSxDPWUuZXh0ZW5kKHt9LGUuZm4uZm9ybS5zZXR0aW5ncy5kZWZhdWx0cyx0KSxGLmVycm9yKHguZXJyb3Iub2xkU3ludGF4LEQpLEYudmVyYm9zZShcIkV4dGVuZGluZyBzZXR0aW5ncyBmcm9tIGxlZ2FjeSBwYXJhbWV0ZXJzXCIsQyx4KSk6KHQuZmllbGRzJiYobj1PYmplY3Qua2V5cyh0LmZpZWxkcyksKFwic3RyaW5nXCI9PXR5cGVvZiB0LmZpZWxkc1tuWzBdXXx8ZS5pc0FycmF5KHQuZmllbGRzW25bMF1dKSkmJmUuZWFjaCh0LmZpZWxkcyxmdW5jdGlvbihuLGkpe1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1baV0pLHQuZmllbGRzW25dPXtydWxlczpbXX0sZS5lYWNoKGksZnVuY3Rpb24oZSxpKXt0LmZpZWxkc1tuXS5ydWxlcy5wdXNoKHt0eXBlOml9KX0pfSkpLHg9ZS5leHRlbmQoITAse30sZS5mbi5mb3JtLnNldHRpbmdzLHQpLEM9ZS5leHRlbmQoe30sZS5mbi5mb3JtLnNldHRpbmdzLmRlZmF1bHRzLHguZmllbGRzKSxGLnZlcmJvc2UoXCJFeHRlbmRpbmcgc2V0dGluZ3NcIixDLHgpKX1lbHNlIHg9ZS5mbi5mb3JtLnNldHRpbmdzLEM9ZS5mbi5mb3JtLnNldHRpbmdzLmRlZmF1bHRzLEYudmVyYm9zZShcIlVzaW5nIGRlZmF1bHQgZm9ybSB2YWxpZGF0aW9uXCIsQyx4KTtBPXgubmFtZXNwYWNlLHc9eC5tZXRhZGF0YSxrPXguc2VsZWN0b3IsUz14LmNsYXNzTmFtZSxUPXguZXJyb3IsUj1cIm1vZHVsZS1cIitBLEU9XCIuXCIrQSxQPU8uZGF0YShSKSxGLnJlZnJlc2goKX0sZmllbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIEYudmVyYm9zZShcIkZpbmRpbmcgZmllbGQgd2l0aCBpZGVudGlmaWVyXCIsdCksbS5maWx0ZXIoXCIjXCIrdCkubGVuZ3RoPjA/bS5maWx0ZXIoXCIjXCIrdCk6bS5maWx0ZXIoJ1tuYW1lPVwiJyt0KydcIl0nKS5sZW5ndGg+MD9tLmZpbHRlcignW25hbWU9XCInK3QrJ1wiXScpOm0uZmlsdGVyKCdbbmFtZT1cIicrdCsnW11cIl0nKS5sZW5ndGg+MD9tLmZpbHRlcignW25hbWU9XCInK3QrJ1tdXCJdJyk6bS5maWx0ZXIoXCJbZGF0YS1cIit3LnZhbGlkYXRlKyc9XCInK3QrJ1wiXScpLmxlbmd0aD4wP20uZmlsdGVyKFwiW2RhdGEtXCIrdy52YWxpZGF0ZSsnPVwiJyt0KydcIl0nKTplKFwiPGlucHV0Lz5cIil9LGZpZWxkczpmdW5jdGlvbih0KXt2YXIgbj1lKCk7cmV0dXJuIGUuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7bj1uLmFkZChGLmdldC5maWVsZCh0KSl9KSxufSx2YWxpZGF0aW9uOmZ1bmN0aW9uKHQpe3ZhciBuLGk7cmV0dXJuISFDJiYoZS5lYWNoKEMsZnVuY3Rpb24oZSxvKXtpPW8uaWRlbnRpZmllcnx8ZSxGLmdldC5maWVsZChpKVswXT09dFswXSYmKG8uaWRlbnRpZmllcj1pLG49byl9KSxufHwhMSl9LHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG49W107cmV0dXJuIG4ucHVzaChlKSx0PUYuZ2V0LnZhbHVlcy5jYWxsKEQsbiksdFtlXX0sdmFsdWVzOmZ1bmN0aW9uKHQpe3ZhciBuPWUuaXNBcnJheSh0KT9GLmdldC5maWVsZHModCk6bSxpPXt9O3JldHVybiBuLmVhY2goZnVuY3Rpb24odCxuKXt2YXIgbz1lKG4pLGE9KG8ucHJvcChcInR5cGVcIiksby5wcm9wKFwibmFtZVwiKSkscj1vLnZhbCgpLHM9by5pcyhrLmNoZWNrYm94KSxsPW8uaXMoay5yYWRpbyksYz1hLmluZGV4T2YoXCJbXVwiKSE9PS0xLHU9ISFzJiZvLmlzKFwiOmNoZWNrZWRcIik7YSYmKGM/KGE9YS5yZXBsYWNlKFwiW11cIixcIlwiKSxpW2FdfHwoaVthXT1bXSkscz91P2lbYV0ucHVzaChyfHwhMCk6aVthXS5wdXNoKCExKTppW2FdLnB1c2gocikpOmw/dSYmKGlbYV09cik6cz91P2lbYV09cnx8ITA6aVthXT0hMTppW2FdPXIpfSksaX19LGhhczp7ZmllbGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEYudmVyYm9zZShcIkNoZWNraW5nIGZvciBleGlzdGVuY2Ugb2YgYSBmaWVsZCB3aXRoIGlkZW50aWZpZXJcIixlKSxcInN0cmluZ1wiIT10eXBlb2YgZSYmRi5lcnJvcihULmlkZW50aWZpZXIsZSksbS5maWx0ZXIoXCIjXCIrZSkubGVuZ3RoPjB8fChtLmZpbHRlcignW25hbWU9XCInK2UrJ1wiXScpLmxlbmd0aD4wfHxtLmZpbHRlcihcIltkYXRhLVwiK3cudmFsaWRhdGUrJz1cIicrZSsnXCJdJykubGVuZ3RoPjApfX0sYWRkOntwcm9tcHQ6ZnVuY3Rpb24odCxuKXt2YXIgbz1GLmdldC5maWVsZCh0KSxhPW8uY2xvc2VzdChnKSxyPWEuY2hpbGRyZW4oay5wcm9tcHQpLHM9MCE9PXIubGVuZ3RoO249XCJzdHJpbmdcIj09dHlwZW9mIG4/W25dOm4sRi52ZXJib3NlKFwiQWRkaW5nIGZpZWxkIGVycm9yIHN0YXRlXCIsdCksYS5hZGRDbGFzcyhTLmVycm9yKSx4LmlubGluZSYmKHN8fChyPXgudGVtcGxhdGVzLnByb21wdChuKSxyLmFwcGVuZFRvKGEpKSxyLmh0bWwoblswXSkscz9GLnZlcmJvc2UoXCJJbmxpbmUgZXJyb3JzIGFyZSBkaXNhYmxlZCwgbm8gaW5saW5lIGVycm9yIGFkZGVkXCIsdCk6eC50cmFuc2l0aW9uJiZlLmZuLnRyYW5zaXRpb24hPT1pJiZPLnRyYW5zaXRpb24oXCJpcyBzdXBwb3J0ZWRcIik/KEYudmVyYm9zZShcIkRpc3BsYXlpbmcgZXJyb3Igd2l0aCBjc3MgdHJhbnNpdGlvblwiLHgudHJhbnNpdGlvbiksci50cmFuc2l0aW9uKHgudHJhbnNpdGlvbitcIiBpblwiLHguZHVyYXRpb24pKTooRi52ZXJib3NlKFwiRGlzcGxheWluZyBlcnJvciB3aXRoIGZhbGxiYWNrIGphdmFzY3JpcHQgYW5pbWF0aW9uXCIpLHIuZmFkZUluKHguZHVyYXRpb24pKSl9LGVycm9yczpmdW5jdGlvbihlKXtGLmRlYnVnKFwiQWRkaW5nIGZvcm0gZXJyb3IgbWVzc2FnZXNcIixlKSxGLnNldC5lcnJvcigpLHAuaHRtbCh4LnRlbXBsYXRlcy5lcnJvcihlKSl9fSxyZW1vdmU6e3Byb21wdDpmdW5jdGlvbih0KXt2YXIgbj1GLmdldC5maWVsZCh0KSxvPW4uY2xvc2VzdChnKSxhPW8uY2hpbGRyZW4oay5wcm9tcHQpO28ucmVtb3ZlQ2xhc3MoUy5lcnJvcikseC5pbmxpbmUmJmEuaXMoXCI6dmlzaWJsZVwiKSYmKEYudmVyYm9zZShcIlJlbW92aW5nIHByb21wdCBmb3IgZmllbGRcIix0KSx4LnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJk8udHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT9hLnRyYW5zaXRpb24oeC50cmFuc2l0aW9uK1wiIG91dFwiLHguZHVyYXRpb24sZnVuY3Rpb24oKXthLnJlbW92ZSgpfSk6YS5mYWRlT3V0KHguZHVyYXRpb24sZnVuY3Rpb24oKXthLnJlbW92ZSgpfSkpfX0sc2V0OntzdWNjZXNzOmZ1bmN0aW9uKCl7Ty5yZW1vdmVDbGFzcyhTLmVycm9yKS5hZGRDbGFzcyhTLnN1Y2Nlc3MpfSxkZWZhdWx0czpmdW5jdGlvbigpe20uZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj10LmZpbHRlcihrLmNoZWNrYm94KS5sZW5ndGg+MCxpPW4/dC5pcyhcIjpjaGVja2VkXCIpOnQudmFsKCk7dC5kYXRhKHcuZGVmYXVsdFZhbHVlLGkpfSl9LGVycm9yOmZ1bmN0aW9uKCl7Ty5yZW1vdmVDbGFzcyhTLnN1Y2Nlc3MpLmFkZENsYXNzKFMuZXJyb3IpfSx2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiBuW2VdPXQsRi5zZXQudmFsdWVzLmNhbGwoRCxuKX0sdmFsdWVzOmZ1bmN0aW9uKHQpe2UuaXNFbXB0eU9iamVjdCh0KXx8ZS5lYWNoKHQsZnVuY3Rpb24odCxuKXt2YXIgaSxvPUYuZ2V0LmZpZWxkKHQpLGE9by5wYXJlbnQoKSxyPWUuaXNBcnJheShuKSxzPWEuaXMoay51aUNoZWNrYm94KSxsPWEuaXMoay51aURyb3Bkb3duKSxjPW8uaXMoay5yYWRpbykmJnMsdT1vLmxlbmd0aD4wO3UmJihyJiZzPyhGLnZlcmJvc2UoXCJTZWxlY3RpbmcgbXVsdGlwbGVcIixuLG8pLGEuY2hlY2tib3goXCJ1bmNoZWNrXCIpLGUuZWFjaChuLGZ1bmN0aW9uKGUsdCl7aT1vLmZpbHRlcignW3ZhbHVlPVwiJyt0KydcIl0nKSxhPWkucGFyZW50KCksaS5sZW5ndGg+MCYmYS5jaGVja2JveChcImNoZWNrXCIpfSkpOmM/KEYudmVyYm9zZShcIlNlbGVjdGluZyByYWRpbyB2YWx1ZVwiLG4sbyksby5maWx0ZXIoJ1t2YWx1ZT1cIicrbisnXCJdJykucGFyZW50KGsudWlDaGVja2JveCkuY2hlY2tib3goXCJjaGVja1wiKSk6cz8oRi52ZXJib3NlKFwiU2V0dGluZyBjaGVja2JveCB2YWx1ZVwiLG4sYSksbj09PSEwP2EuY2hlY2tib3goXCJjaGVja1wiKTphLmNoZWNrYm94KFwidW5jaGVja1wiKSk6bD8oRi52ZXJib3NlKFwiU2V0dGluZyBkcm9wZG93biB2YWx1ZVwiLG4sYSksYS5kcm9wZG93bihcInNldCBzZWxlY3RlZFwiLG4pKTooRi52ZXJib3NlKFwiU2V0dGluZyBmaWVsZCB2YWx1ZVwiLG4sbyksby52YWwobikpKX0pfX0sdmFsaWRhdGU6e2Zvcm06ZnVuY3Rpb24oZSx0KXt2YXIgbj1GLmdldC52YWx1ZXMoKTtpZihqKXJldHVybiExO2lmKHE9W10sRi5pcy52YWxpZCgpKXtpZihGLmRlYnVnKFwiRm9ybSBoYXMgbm8gdmFsaWRhdGlvbiBlcnJvcnMsIHN1Ym1pdHRpbmdcIiksRi5zZXQuc3VjY2VzcygpLHQhPT0hMClyZXR1cm4geC5vblN1Y2Nlc3MuY2FsbChELGUsbil9ZWxzZSBpZihGLmRlYnVnKFwiRm9ybSBoYXMgZXJyb3JzXCIpLEYuc2V0LmVycm9yKCkseC5pbmxpbmV8fEYuYWRkLmVycm9ycyhxKSxPLmRhdGEoXCJtb2R1bGVBcGlcIikhPT1pJiZlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQhPT0hMClyZXR1cm4geC5vbkZhaWx1cmUuY2FsbChELHEsbil9LGZpZWxkOmZ1bmN0aW9uKHQsbil7dmFyIG89dC5pZGVudGlmaWVyfHxuLGE9Ri5nZXQuZmllbGQobykscj0hIXQuZGVwZW5kcyYmRi5nZXQuZmllbGQodC5kZXBlbmRzKSxzPSEwLGw9W107cmV0dXJuIHQuaWRlbnRpZmllcnx8KEYuZGVidWcoXCJVc2luZyBmaWVsZCBuYW1lIGFzIGlkZW50aWZpZXJcIixvKSx0LmlkZW50aWZpZXI9byksYS5wcm9wKFwiZGlzYWJsZWRcIik/KEYuZGVidWcoXCJGaWVsZCBpcyBkaXNhYmxlZC4gU2tpcHBpbmdcIixvKSxzPSEwKTp0Lm9wdGlvbmFsJiZGLmlzLmJsYW5rKGEpPyhGLmRlYnVnKFwiRmllbGQgaXMgb3B0aW9uYWwgYW5kIGJsYW5rLiBTa2lwcGluZ1wiLG8pLHM9ITApOnQuZGVwZW5kcyYmRi5pcy5lbXB0eShyKT8oRi5kZWJ1ZyhcIkZpZWxkIGRlcGVuZHMgb24gYW5vdGhlciB2YWx1ZSB0aGF0IGlzIG5vdCBwcmVzZW50IG9yIGVtcHR5LiBTa2lwcGluZ1wiLHIpLHM9ITApOnQucnVsZXMhPT1pJiZlLmVhY2godC5ydWxlcyxmdW5jdGlvbihlLG4pe0YuaGFzLmZpZWxkKG8pJiYhRi52YWxpZGF0ZS5ydWxlKHQsbikmJihGLmRlYnVnKFwiRmllbGQgaXMgaW52YWxpZFwiLG8sbi50eXBlKSxsLnB1c2goRi5nZXQucHJvbXB0KG4sdCkpLHM9ITEpfSkscz8oRi5yZW1vdmUucHJvbXB0KG8sbCkseC5vblZhbGlkLmNhbGwoYSksITApOihxPXEuY29uY2F0KGwpLEYuYWRkLnByb21wdChvLGwpLHgub25JbnZhbGlkLmNhbGwoYSxsKSwhMSl9LHJ1bGU6ZnVuY3Rpb24odCxuKXt2YXIgbz1GLmdldC5maWVsZCh0LmlkZW50aWZpZXIpLGE9KG4udHlwZSxvLnZhbCgpKSxyPUYuZ2V0LmFuY2lsbGFyeVZhbHVlKG4pLHM9Ri5nZXQucnVsZU5hbWUobiksbD14LnJ1bGVzW3NdO3JldHVybiBlLmlzRnVuY3Rpb24obCk/KGE9YT09PWl8fFwiXCI9PT1hfHxudWxsPT09YT9cIlwiOmUudHJpbShhK1wiXCIpLGwuY2FsbChvLGEscikpOnZvaWQgRi5lcnJvcihULm5vUnVsZSxzKX19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAseCx0KTtlbHNle2lmKG49PT1pKXJldHVybiB4W3RdO3hbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLEYsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gRlt0XTtGW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpeyF4LnNpbGVudCYmeC5kZWJ1ZyYmKHgucGVyZm9ybWFuY2U/Ri5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooRi5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLHgubmFtZStcIjpcIiksRi5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpeyF4LnNpbGVudCYmeC52ZXJib3NlJiZ4LmRlYnVnJiYoeC5wZXJmb3JtYW5jZT9GLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihGLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSx4Lm5hbWUrXCI6XCIpLEYudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXt4LnNpbGVudHx8KEYuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUseC5uYW1lK1wiOlwiKSxGLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO3gucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9c3x8dCxuPXQtaSxzPXQsbC5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OkQsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KEYucGVyZm9ybWFuY2UudGltZXIpLEYucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChGLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PXgubmFtZStcIjpcIixuPTA7cz0hMSxjbGVhclRpbWVvdXQoRi5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixyJiYodCs9XCIgJ1wiK3IrXCInXCIpLGEubGVuZ3RoPjEmJih0Kz1cIiAoXCIrYS5sZW5ndGgrXCIpXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZsLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUobCk6ZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxsPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixhKXt2YXIgcixzLGwsYz1QO3JldHVybiBuPW58fGYsYT1EfHxhLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZjIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QoY1thXSkmJm4hPXIpYz1jW2FdO2Vsc2V7aWYoY1thXSE9PWkpcmV0dXJuIHM9Y1thXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGNbb10pfHxuPT1yKXJldHVybiBjW29dIT09aSYmKHM9Y1tvXSwhMSk7Yz1jW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/bD1zLmFwcGx5KGEsbik6cyE9PWkmJihsPXMpLGUuaXNBcnJheShvKT9vLnB1c2gobCk6byE9PWk/bz1bbyxsXTpsIT09aSYmKG89bCksc319LEYuaW5pdGlhbGl6ZSgpfSksbyE9PWk/bzp0aGlzfSxlLmZuLmZvcm0uc2V0dGluZ3M9e25hbWU6XCJGb3JtXCIsbmFtZXNwYWNlOlwiZm9ybVwiLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsZmllbGRzOiExLGtleWJvYXJkU2hvcnRjdXRzOiEwLG9uOlwic3VibWl0XCIsaW5saW5lOiExLGRlbGF5OjIwMCxyZXZhbGlkYXRlOiEwLHRyYW5zaXRpb246XCJzY2FsZVwiLGR1cmF0aW9uOjIwMCxvblZhbGlkOmZ1bmN0aW9uKCl7fSxvbkludmFsaWQ6ZnVuY3Rpb24oKXt9LG9uU3VjY2VzczpmdW5jdGlvbigpe3JldHVybiEwfSxvbkZhaWx1cmU6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbWV0YWRhdGE6e2RlZmF1bHRWYWx1ZTpcImRlZmF1bHRcIix2YWxpZGF0ZTpcInZhbGlkYXRlXCJ9LHJlZ0V4cDp7YnJhY2tldDovXFxbKC4qKVxcXS9pLGRlY2ltYWw6L15cXGQqKFxcLilcXGQrLyxlbWFpbDovXlthLXowLTkhIyQlJicqK1xcLz0/Xl9ge3x9fi4tXStAW2EtejAtOV0oW2EtejAtOS1dKlthLXowLTldKT8oXFwuW2EtejAtOV0oW2EtejAtOS1dKlthLXowLTldKT8pKiQvaSxlc2NhcGU6L1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLGZsYWdzOi9eXFwvKC4qKVxcLyguKik/LyxpbnRlZ2VyOi9eXFwtP1xcZCskLyxudW1iZXI6L15cXC0/XFxkKihcXC5cXGQrKT8kLyx1cmw6LyhodHRwcz86XFwvXFwvKD86d3d3XFwufCg/IXd3dykpW15cXHNcXC5dK1xcLlteXFxzXXsyLH18d3d3XFwuW15cXHNdK1xcLlteXFxzXXsyLH0pL2l9LHRleHQ6e3Vuc3BlY2lmaWVkUnVsZTpcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHZhbHVlXCIsdW5zcGVjaWZpZWRGaWVsZDpcIlRoaXMgZmllbGRcIn0scHJvbXB0OntlbXB0eTpcIntuYW1lfSBtdXN0IGhhdmUgYSB2YWx1ZVwiLGNoZWNrZWQ6XCJ7bmFtZX0gbXVzdCBiZSBjaGVja2VkXCIsZW1haWw6XCJ7bmFtZX0gbXVzdCBiZSBhIHZhbGlkIGUtbWFpbFwiLHVybDpcIntuYW1lfSBtdXN0IGJlIGEgdmFsaWQgdXJsXCIscmVnRXhwOlwie25hbWV9IGlzIG5vdCBmb3JtYXR0ZWQgY29ycmVjdGx5XCIsaW50ZWdlcjpcIntuYW1lfSBtdXN0IGJlIGFuIGludGVnZXJcIixkZWNpbWFsOlwie25hbWV9IG11c3QgYmUgYSBkZWNpbWFsIG51bWJlclwiLG51bWJlcjpcIntuYW1lfSBtdXN0IGJlIHNldCB0byBhIG51bWJlclwiLGlzOid7bmFtZX0gbXVzdCBiZSBcIntydWxlVmFsdWV9XCInLGlzRXhhY3RseTone25hbWV9IG11c3QgYmUgZXhhY3RseSBcIntydWxlVmFsdWV9XCInLG5vdDone25hbWV9IGNhbm5vdCBiZSBzZXQgdG8gXCJ7cnVsZVZhbHVlfVwiJyxub3RFeGFjdGx5Oid7bmFtZX0gY2Fubm90IGJlIHNldCB0byBleGFjdGx5IFwie3J1bGVWYWx1ZX1cIicsY29udGFpbjone25hbWV9IGNhbm5vdCBjb250YWluIFwie3J1bGVWYWx1ZX1cIicsY29udGFpbkV4YWN0bHk6J3tuYW1lfSBjYW5ub3QgY29udGFpbiBleGFjdGx5IFwie3J1bGVWYWx1ZX1cIicsZG9lc250Q29udGFpbjone25hbWV9IG11c3QgY29udGFpbiAgXCJ7cnVsZVZhbHVlfVwiJyxkb2VzbnRDb250YWluRXhhY3RseTone25hbWV9IG11c3QgY29udGFpbiBleGFjdGx5IFwie3J1bGVWYWx1ZX1cIicsbWluTGVuZ3RoOlwie25hbWV9IG11c3QgYmUgYXQgbGVhc3Qge3J1bGVWYWx1ZX0gY2hhcmFjdGVyc1wiLGxlbmd0aDpcIntuYW1lfSBtdXN0IGJlIGF0IGxlYXN0IHtydWxlVmFsdWV9IGNoYXJhY3RlcnNcIixleGFjdExlbmd0aDpcIntuYW1lfSBtdXN0IGJlIGV4YWN0bHkge3J1bGVWYWx1ZX0gY2hhcmFjdGVyc1wiLG1heExlbmd0aDpcIntuYW1lfSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4ge3J1bGVWYWx1ZX0gY2hhcmFjdGVyc1wiLG1hdGNoOlwie25hbWV9IG11c3QgbWF0Y2gge3J1bGVWYWx1ZX0gZmllbGRcIixkaWZmZXJlbnQ6XCJ7bmFtZX0gbXVzdCBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIHRoYW4ge3J1bGVWYWx1ZX0gZmllbGRcIixjcmVkaXRDYXJkOlwie25hbWV9IG11c3QgYmUgYSB2YWxpZCBjcmVkaXQgY2FyZCBudW1iZXJcIixtaW5Db3VudDpcIntuYW1lfSBtdXN0IGhhdmUgYXQgbGVhc3Qge3J1bGVWYWx1ZX0gY2hvaWNlc1wiLGV4YWN0Q291bnQ6XCJ7bmFtZX0gbXVzdCBoYXZlIGV4YWN0bHkge3J1bGVWYWx1ZX0gY2hvaWNlc1wiLG1heENvdW50Olwie25hbWV9IG11c3QgaGF2ZSB7cnVsZVZhbHVlfSBvciBsZXNzIGNob2ljZXNcIn0sc2VsZWN0b3I6e2NoZWNrYm94OidpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0sIGlucHV0W3R5cGU9XCJyYWRpb1wiXScsY2xlYXI6XCIuY2xlYXJcIixmaWVsZDpcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0XCIsZ3JvdXA6XCIuZmllbGRcIixpbnB1dDpcImlucHV0XCIsbWVzc2FnZTpcIi5lcnJvci5tZXNzYWdlXCIscHJvbXB0OlwiLnByb21wdC5sYWJlbFwiLHJhZGlvOidpbnB1dFt0eXBlPVwicmFkaW9cIl0nLHJlc2V0OicucmVzZXQ6bm90KFt0eXBlPVwicmVzZXRcIl0pJyxzdWJtaXQ6Jy5zdWJtaXQ6bm90KFt0eXBlPVwic3VibWl0XCJdKScsdWlDaGVja2JveDpcIi51aS5jaGVja2JveFwiLHVpRHJvcGRvd246XCIudWkuZHJvcGRvd25cIn0sY2xhc3NOYW1lOntlcnJvcjpcImVycm9yXCIsbGFiZWw6XCJ1aSBwcm9tcHQgbGFiZWxcIixwcmVzc2VkOlwiZG93blwiLHN1Y2Nlc3M6XCJzdWNjZXNzXCJ9LGVycm9yOntpZGVudGlmaWVyOlwiWW91IG11c3Qgc3BlY2lmeSBhIHN0cmluZyBpZGVudGlmaWVyIGZvciBlYWNoIGZpZWxkXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwiLG5vUnVsZTpcIlRoZXJlIGlzIG5vIHJ1bGUgbWF0Y2hpbmcgdGhlIG9uZSB5b3Ugc3BlY2lmaWVkXCIsb2xkU3ludGF4OlwiU3RhcnRpbmcgaW4gMi4wIGZvcm1zIG5vdyBvbmx5IHRha2UgYSBzaW5nbGUgc2V0dGluZ3Mgb2JqZWN0LiBWYWxpZGF0aW9uIHNldHRpbmdzIGNvbnZlcnRlZCB0byBuZXcgc3ludGF4IGF1dG9tYXRpY2FsbHkuXCJ9LHRlbXBsYXRlczp7ZXJyb3I6ZnVuY3Rpb24odCl7dmFyIG49Jzx1bCBjbGFzcz1cImxpc3RcIj4nO3JldHVybiBlLmVhY2godCxmdW5jdGlvbihlLHQpe24rPVwiPGxpPlwiK3QrXCI8L2xpPlwifSksbis9XCI8L3VsPlwiLGUobil9LHByb21wdDpmdW5jdGlvbih0KXtyZXR1cm4gZShcIjxkaXYvPlwiKS5hZGRDbGFzcyhcInVpIGJhc2ljIHJlZCBwb2ludGluZyBwcm9tcHQgbGFiZWxcIikuaHRtbCh0WzBdKX19LHJ1bGVzOntlbXB0eTpmdW5jdGlvbih0KXtyZXR1cm4hKHQ9PT1pfHxcIlwiPT09dHx8ZS5pc0FycmF5KHQpJiYwPT09dC5sZW5ndGgpfSxjaGVja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcykuZmlsdGVyKFwiOmNoZWNrZWRcIikubGVuZ3RoPjB9LGVtYWlsOmZ1bmN0aW9uKHQpe3JldHVybiBlLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmVtYWlsLnRlc3QodCl9LHVybDpmdW5jdGlvbih0KXtyZXR1cm4gZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC51cmwudGVzdCh0KX0scmVnRXhwOmZ1bmN0aW9uKHQsbil7aWYobiBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gdC5tYXRjaChuKTt2YXIgaSxvPW4ubWF0Y2goZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5mbGFncyk7cmV0dXJuIG8mJihuPW8ubGVuZ3RoPj0yP29bMV06bixpPW8ubGVuZ3RoPj0zP29bMl06XCJcIiksdC5tYXRjaChuZXcgUmVnRXhwKG4saSkpfSxpbnRlZ2VyOmZ1bmN0aW9uKHQsbil7dmFyIG8sYSxyLHM9ZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5pbnRlZ2VyO3JldHVybiBuJiZbXCJcIixcIi4uXCJdLmluZGV4T2Yobik9PT0tMSYmKG4uaW5kZXhPZihcIi4uXCIpPT0tMT9zLnRlc3QobikmJihvPWE9bi0wKToocj1uLnNwbGl0KFwiLi5cIiwyKSxzLnRlc3QoclswXSkmJihvPXJbMF0tMCkscy50ZXN0KHJbMV0pJiYoYT1yWzFdLTApKSkscy50ZXN0KHQpJiYobz09PWl8fHQ+PW8pJiYoYT09PWl8fHQ8PWEpfSxkZWNpbWFsOmZ1bmN0aW9uKHQpe3JldHVybiBlLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmRlY2ltYWwudGVzdCh0KX0sbnVtYmVyOmZ1bmN0aW9uKHQpe3JldHVybiBlLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLm51bWJlci50ZXN0KHQpfSxpczpmdW5jdGlvbihlLHQpe3JldHVybiB0PVwic3RyaW5nXCI9PXR5cGVvZiB0P3QudG9Mb3dlckNhc2UoKTp0LGU9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZS50b0xvd2VyQ2FzZSgpOmUsZT09dH0saXNFeGFjdGx5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PXR9LG5vdDpmdW5jdGlvbihlLHQpe3JldHVybiBlPVwic3RyaW5nXCI9PXR5cGVvZiBlP2UudG9Mb3dlckNhc2UoKTplLHQ9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC50b0xvd2VyQ2FzZSgpOnQsZSE9dH0sbm90RXhhY3RseTpmdW5jdGlvbihlLHQpe3JldHVybiBlIT10fSxjb250YWluczpmdW5jdGlvbih0LG4pe3JldHVybiBuPW4ucmVwbGFjZShlLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmVzY2FwZSxcIlxcXFwkJlwiKSx0LnNlYXJjaChuZXcgUmVnRXhwKG4sXCJpXCIpKSE9PS0xfSxjb250YWluc0V4YWN0bHk6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj1uLnJlcGxhY2UoZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5lc2NhcGUsXCJcXFxcJCZcIiksdC5zZWFyY2gobmV3IFJlZ0V4cChuKSkhPT0tMX0sZG9lc250Q29udGFpbjpmdW5jdGlvbih0LG4pe3JldHVybiBuPW4ucmVwbGFjZShlLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmVzY2FwZSxcIlxcXFwkJlwiKSx0LnNlYXJjaChuZXcgUmVnRXhwKG4sXCJpXCIpKT09PS0xfSxkb2VzbnRDb250YWluRXhhY3RseTpmdW5jdGlvbih0LG4pe3JldHVybiBuPW4ucmVwbGFjZShlLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmVzY2FwZSxcIlxcXFwkJlwiKSx0LnNlYXJjaChuZXcgUmVnRXhwKG4pKT09PS0xfSxtaW5MZW5ndGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9PWkmJmUubGVuZ3RoPj10fSxsZW5ndGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9PWkmJmUubGVuZ3RoPj10fSxleGFjdExlbmd0aDpmdW5jdGlvbihlLHQpe3JldHVybiBlIT09aSYmZS5sZW5ndGg9PXR9LG1heExlbmd0aDpmdW5jdGlvbihlLHQpe3JldHVybiBlIT09aSYmZS5sZW5ndGg8PXR9LG1hdGNoOmZ1bmN0aW9uKHQsbil7dmFyIG87ZSh0aGlzKTtyZXR1cm4gZSgnW2RhdGEtdmFsaWRhdGU9XCInK24rJ1wiXScpLmxlbmd0aD4wP289ZSgnW2RhdGEtdmFsaWRhdGU9XCInK24rJ1wiXScpLnZhbCgpOmUoXCIjXCIrbikubGVuZ3RoPjA/bz1lKFwiI1wiK24pLnZhbCgpOmUoJ1tuYW1lPVwiJytuKydcIl0nKS5sZW5ndGg+MD9vPWUoJ1tuYW1lPVwiJytuKydcIl0nKS52YWwoKTplKCdbbmFtZT1cIicrbisnW11cIl0nKS5sZW5ndGg+MCYmKG89ZSgnW25hbWU9XCInK24rJ1tdXCJdJykpLG8hPT1pJiZ0LnRvU3RyaW5nKCk9PW8udG9TdHJpbmcoKX0sZGlmZmVyZW50OmZ1bmN0aW9uKHQsbil7dmFyIG87ZSh0aGlzKTtyZXR1cm4gZSgnW2RhdGEtdmFsaWRhdGU9XCInK24rJ1wiXScpLmxlbmd0aD4wP289ZSgnW2RhdGEtdmFsaWRhdGU9XCInK24rJ1wiXScpLnZhbCgpOmUoXCIjXCIrbikubGVuZ3RoPjA/bz1lKFwiI1wiK24pLnZhbCgpOmUoJ1tuYW1lPVwiJytuKydcIl0nKS5sZW5ndGg+MD9vPWUoJ1tuYW1lPVwiJytuKydcIl0nKS52YWwoKTplKCdbbmFtZT1cIicrbisnW11cIl0nKS5sZW5ndGg+MCYmKG89ZSgnW25hbWU9XCInK24rJ1tdXCJdJykpLG8hPT1pJiZ0LnRvU3RyaW5nKCkhPT1vLnRvU3RyaW5nKCl9LGNyZWRpdENhcmQ6ZnVuY3Rpb24odCxuKXt2YXIgaSxvLGE9e3Zpc2E6e3BhdHRlcm46L140LyxsZW5ndGg6WzE2XX0sYW1leDp7cGF0dGVybjovXjNbNDddLyxsZW5ndGg6WzE1XX0sbWFzdGVyY2FyZDp7cGF0dGVybjovXjVbMS01XS8sbGVuZ3RoOlsxNl19LGRpc2NvdmVyOntwYXR0ZXJuOi9eKDYwMTF8NjIyKDEyWzYtOV18MVszLTldWzAtOV18WzItOF1bMC05XXsyfXw5WzAtMV1bMC05XXw5MlswLTVdfDY0WzQtOV0pfDY1KS8sbGVuZ3RoOlsxNl19LHVuaW9uUGF5OntwYXR0ZXJuOi9eKDYyfDg4KS8sbGVuZ3RoOlsxNiwxNywxOCwxOV19LGpjYjp7cGF0dGVybjovXjM1KDJbODldfFszLThdWzAtOV0pLyxsZW5ndGg6WzE2XX0sbWFlc3Rybzp7cGF0dGVybjovXig1MDE4fDUwMjB8NTAzOHw2MzA0fDY3NTl8Njc2WzEtM10pLyxsZW5ndGg6WzEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5XX0sZGluZXJzQ2x1Yjp7cGF0dGVybjovXigzMFswLTVdfF4zNikvLGxlbmd0aDpbMTRdfSxsYXNlcjp7cGF0dGVybjovXig2MzA0fDY3MFs2OV18Njc3MSkvLGxlbmd0aDpbMTYsMTcsMTgsMTldfSx2aXNhRWxlY3Ryb246e3BhdHRlcm46L14oNDAyNnw0MTc1MDB8NDUwOHw0ODQ0fDQ5MSgzfDcpKS8sbGVuZ3RoOlsxNl19fSxyPXt9LHM9ITEsbD1cInN0cmluZ1wiPT10eXBlb2YgbiYmbi5zcGxpdChcIixcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJjAhPT10Lmxlbmd0aCl7aWYobCYmKGUuZWFjaChsLGZ1bmN0aW9uKG4saSl7bz1hW2ldLG8mJihyPXtsZW5ndGg6ZS5pbkFycmF5KHQubGVuZ3RoLG8ubGVuZ3RoKSE9PS0xLHBhdHRlcm46dC5zZWFyY2goby5wYXR0ZXJuKSE9PS0xfSxyLmxlbmd0aCYmci5wYXR0ZXJuJiYocz0hMCkpfSksIXMpKXJldHVybiExO2lmKGk9e251bWJlcjplLmluQXJyYXkodC5sZW5ndGgsYS51bmlvblBheS5sZW5ndGgpIT09LTEscGF0dGVybjp0LnNlYXJjaChhLnVuaW9uUGF5LnBhdHRlcm4pIT09LTF9LGkubnVtYmVyJiZpLnBhdHRlcm4pcmV0dXJuITA7Zm9yKHZhciBjPXQubGVuZ3RoLHU9MCxkPVtbMCwxLDIsMyw0LDUsNiw3LDgsOV0sWzAsMiw0LDYsOCwxLDMsNSw3LDldXSxmPTA7Yy0tOylmKz1kW3VdW3BhcnNlSW50KHQuY2hhckF0KGMpLDEwKV0sdV49MTtyZXR1cm4gZiUxMD09PTAmJmY+MH19LG1pbkNvdW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PXR8fCgxPT10P1wiXCIhPT1lOmUuc3BsaXQoXCIsXCIpLmxlbmd0aD49dCl9LGV4YWN0Q291bnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09dD9cIlwiPT09ZToxPT10P1wiXCIhPT1lJiZlLnNlYXJjaChcIixcIik9PT0tMTplLnNwbGl0KFwiLFwiKS5sZW5ndGg9PXR9LG1heENvdW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDAhPXQmJigxPT10P2Uuc2VhcmNoKFwiLFwiKT09PS0xOmUuc3BsaXQoXCIsXCIpLmxlbmd0aDw9dCl9fX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO3Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQuTWF0aD09TWF0aD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksZS5mbi5hY2NvcmRpb249ZnVuY3Rpb24obil7dmFyIG8sYT1lKHRoaXMpLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCkscz1bXSxsPWFyZ3VtZW50c1swXSxjPVwic3RyaW5nXCI9PXR5cGVvZiBsLHU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfTtyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZixtPWUuaXNQbGFpbk9iamVjdChuKT9lLmV4dGVuZCghMCx7fSxlLmZuLmFjY29yZGlvbi5zZXR0aW5ncyxuKTplLmV4dGVuZCh7fSxlLmZuLmFjY29yZGlvbi5zZXR0aW5ncyksZz1tLmNsYXNzTmFtZSxwPW0ubmFtZXNwYWNlLGg9bS5zZWxlY3Rvcix2PW0uZXJyb3IsYj1cIi5cIitwLHk9XCJtb2R1bGUtXCIrcCx4PWEuc2VsZWN0b3J8fFwiXCIsQz1lKHRoaXMpLHc9Qy5maW5kKGgudGl0bGUpLGs9Qy5maW5kKGguY29udGVudCksUz10aGlzLFQ9Qy5kYXRhKHkpO2Y9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiSW5pdGlhbGl6aW5nXCIsQyksZi5iaW5kLmV2ZW50cygpLG0ub2JzZXJ2ZUNoYW5nZXMmJmYub2JzZXJ2ZUNoYW5nZXMoKSxmLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7VD1mLEMuZGF0YSh5LGYpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIkRlc3Ryb3lpbmcgcHJldmlvdXMgaW5zdGFuY2VcIixDKSxDLm9mZihiKS5yZW1vdmVEYXRhKHkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dz1DLmZpbmQoaC50aXRsZSksaz1DLmZpbmQoaC5jb250ZW50KX0sb2JzZXJ2ZUNoYW5nZXM6ZnVuY3Rpb24oKXtcIk11dGF0aW9uT2JzZXJ2ZXJcImluIHQmJihkPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGUpe2YuZGVidWcoXCJET00gdHJlZSBtb2RpZmllZCwgdXBkYXRpbmcgc2VsZWN0b3IgY2FjaGVcIiksZi5yZWZyZXNoKCl9KSxkLm9ic2VydmUoUyx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxmLmRlYnVnKFwiU2V0dGluZyB1cCBtdXRhdGlvbiBvYnNlcnZlclwiLGQpKX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIkJpbmRpbmcgZGVsZWdhdGVkIGV2ZW50c1wiKSxDLm9uKG0ub24rYixoLnRyaWdnZXIsZi5ldmVudC5jbGljayl9fSxldmVudDp7Y2xpY2s6ZnVuY3Rpb24oKXtmLnRvZ2dsZS5jYWxsKHRoaXMpfX0sdG9nZ2xlOmZ1bmN0aW9uKHQpe3ZhciBuPXQhPT1pP1wibnVtYmVyXCI9PXR5cGVvZiB0P3cuZXEodCk6ZSh0KS5jbG9zZXN0KGgudGl0bGUpOmUodGhpcykuY2xvc2VzdChoLnRpdGxlKSxvPW4ubmV4dChrKSxhPW8uaGFzQ2xhc3MoZy5hbmltYXRpbmcpLHI9by5oYXNDbGFzcyhnLmFjdGl2ZSkscz1yJiYhYSxsPSFyJiZhO2YuZGVidWcoXCJUb2dnbGluZyB2aXNpYmlsaXR5IG9mIGNvbnRlbnRcIixuKSxzfHxsP20uY29sbGFwc2libGU/Zi5jbG9zZS5jYWxsKG4pOmYuZGVidWcoXCJDYW5ub3QgY2xvc2UgYWNjb3JkaW9uIGNvbnRlbnQgY29sbGFwc2luZyBpcyBkaXNhYmxlZFwiKTpmLm9wZW4uY2FsbChuKX0sb3BlbjpmdW5jdGlvbih0KXt2YXIgbj10IT09aT9cIm51bWJlclwiPT10eXBlb2YgdD93LmVxKHQpOmUodCkuY2xvc2VzdChoLnRpdGxlKTplKHRoaXMpLmNsb3Nlc3QoaC50aXRsZSksbz1uLm5leHQoayksYT1vLmhhc0NsYXNzKGcuYW5pbWF0aW5nKSxyPW8uaGFzQ2xhc3MoZy5hY3RpdmUpLHM9cnx8YTtyZXR1cm4gcz92b2lkIGYuZGVidWcoXCJBY2NvcmRpb24gYWxyZWFkeSBvcGVuLCBza2lwcGluZ1wiLG8pOihmLmRlYnVnKFwiT3BlbmluZyBhY2NvcmRpb24gY29udGVudFwiLG4pLG0ub25PcGVuaW5nLmNhbGwobyksbS5leGNsdXNpdmUmJmYuY2xvc2VPdGhlcnMuY2FsbChuKSxuLmFkZENsYXNzKGcuYWN0aXZlKSxvLnN0b3AoITAsITApLmFkZENsYXNzKGcuYW5pbWF0aW5nKSxtLmFuaW1hdGVDaGlsZHJlbiYmKGUuZm4udHJhbnNpdGlvbiE9PWkmJkMudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT9vLmNoaWxkcmVuKCkudHJhbnNpdGlvbih7YW5pbWF0aW9uOlwiZmFkZSBpblwiLHF1ZXVlOiExLHVzZUZhaWxTYWZlOiEwLGRlYnVnOm0uZGVidWcsdmVyYm9zZTptLnZlcmJvc2UsZHVyYXRpb246bS5kdXJhdGlvbn0pOm8uY2hpbGRyZW4oKS5zdG9wKCEwLCEwKS5hbmltYXRlKHtvcGFjaXR5OjF9LG0uZHVyYXRpb24sZi5yZXNldE9wYWNpdHkpKSx2b2lkIG8uc2xpZGVEb3duKG0uZHVyYXRpb24sbS5lYXNpbmcsZnVuY3Rpb24oKXtvLnJlbW92ZUNsYXNzKGcuYW5pbWF0aW5nKS5hZGRDbGFzcyhnLmFjdGl2ZSksZi5yZXNldC5kaXNwbGF5LmNhbGwodGhpcyksbS5vbk9wZW4uY2FsbCh0aGlzKSxtLm9uQ2hhbmdlLmNhbGwodGhpcyl9KSl9LGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciBuPXQhPT1pP1wibnVtYmVyXCI9PXR5cGVvZiB0P3cuZXEodCk6ZSh0KS5jbG9zZXN0KGgudGl0bGUpOmUodGhpcykuY2xvc2VzdChoLnRpdGxlKSxvPW4ubmV4dChrKSxhPW8uaGFzQ2xhc3MoZy5hbmltYXRpbmcpLHI9by5oYXNDbGFzcyhnLmFjdGl2ZSkscz0hciYmYSxsPXImJmE7IXImJiFzfHxsfHwoZi5kZWJ1ZyhcIkNsb3NpbmcgYWNjb3JkaW9uIGNvbnRlbnRcIixvKSxtLm9uQ2xvc2luZy5jYWxsKG8pLG4ucmVtb3ZlQ2xhc3MoZy5hY3RpdmUpLG8uc3RvcCghMCwhMCkuYWRkQ2xhc3MoZy5hbmltYXRpbmcpLG0uYW5pbWF0ZUNoaWxkcmVuJiYoZS5mbi50cmFuc2l0aW9uIT09aSYmQy50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpP28uY2hpbGRyZW4oKS50cmFuc2l0aW9uKHthbmltYXRpb246XCJmYWRlIG91dFwiLHF1ZXVlOiExLHVzZUZhaWxTYWZlOiEwLGRlYnVnOm0uZGVidWcsdmVyYm9zZTptLnZlcmJvc2UsZHVyYXRpb246bS5kdXJhdGlvbn0pOm8uY2hpbGRyZW4oKS5zdG9wKCEwLCEwKS5hbmltYXRlKHtvcGFjaXR5OjB9LG0uZHVyYXRpb24sZi5yZXNldE9wYWNpdHkpKSxvLnNsaWRlVXAobS5kdXJhdGlvbixtLmVhc2luZyxmdW5jdGlvbigpe28ucmVtb3ZlQ2xhc3MoZy5hbmltYXRpbmcpLnJlbW92ZUNsYXNzKGcuYWN0aXZlKSxmLnJlc2V0LmRpc3BsYXkuY2FsbCh0aGlzKSxtLm9uQ2xvc2UuY2FsbCh0aGlzKSxtLm9uQ2hhbmdlLmNhbGwodGhpcyl9KSl9LGNsb3NlT3RoZXJzOmZ1bmN0aW9uKHQpe3ZhciBuLG8sYSxyPXQhPT1pP3cuZXEodCk6ZSh0aGlzKS5jbG9zZXN0KGgudGl0bGUpLHM9ci5wYXJlbnRzKGguY29udGVudCkucHJldihoLnRpdGxlKSxsPXIuY2xvc2VzdChoLmFjY29yZGlvbiksYz1oLnRpdGxlK1wiLlwiK2cuYWN0aXZlK1wiOnZpc2libGVcIix1PWguY29udGVudCtcIi5cIitnLmFjdGl2ZStcIjp2aXNpYmxlXCI7bS5jbG9zZU5lc3RlZD8obj1sLmZpbmQoYykubm90KHMpLGE9bi5uZXh0KGspKToobj1sLmZpbmQoYykubm90KHMpLG89bC5maW5kKHUpLmZpbmQoYykubm90KHMpLG49bi5ub3QobyksYT1uLm5leHQoaykpLG4ubGVuZ3RoPjAmJihmLmRlYnVnKFwiRXhjbHVzaXZlIGVuYWJsZWQsIGNsb3Npbmcgb3RoZXIgY29udGVudFwiLG4pLG4ucmVtb3ZlQ2xhc3MoZy5hY3RpdmUpLGEucmVtb3ZlQ2xhc3MoZy5hbmltYXRpbmcpLnN0b3AoITAsITApLG0uYW5pbWF0ZUNoaWxkcmVuJiYoZS5mbi50cmFuc2l0aW9uIT09aSYmQy50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpP2EuY2hpbGRyZW4oKS50cmFuc2l0aW9uKHthbmltYXRpb246XCJmYWRlIG91dFwiLHVzZUZhaWxTYWZlOiEwLGRlYnVnOm0uZGVidWcsdmVyYm9zZTptLnZlcmJvc2UsZHVyYXRpb246bS5kdXJhdGlvbn0pOmEuY2hpbGRyZW4oKS5zdG9wKCEwLCEwKS5hbmltYXRlKHtvcGFjaXR5OjB9LG0uZHVyYXRpb24sZi5yZXNldE9wYWNpdHkpKSxhLnNsaWRlVXAobS5kdXJhdGlvbixtLmVhc2luZyxmdW5jdGlvbigpe2UodGhpcykucmVtb3ZlQ2xhc3MoZy5hY3RpdmUpLGYucmVzZXQuZGlzcGxheS5jYWxsKHRoaXMpfSkpfSxyZXNldDp7ZGlzcGxheTpmdW5jdGlvbigpe2YudmVyYm9zZShcIlJlbW92aW5nIGlubGluZSBkaXNwbGF5IGZyb20gZWxlbWVudFwiLHRoaXMpLGUodGhpcykuY3NzKFwiZGlzcGxheVwiLFwiXCIpLFwiXCI9PT1lKHRoaXMpLmF0dHIoXCJzdHlsZVwiKSYmZSh0aGlzKS5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIil9LG9wYWNpdHk6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJSZW1vdmluZyBpbmxpbmUgb3BhY2l0eSBmcm9tIGVsZW1lbnRcIix0aGlzKSxlKHRoaXMpLmNzcyhcIm9wYWNpdHlcIixcIlwiKSxcIlwiPT09ZSh0aGlzKS5hdHRyKFwic3R5bGVcIikmJmUodGhpcykuYXR0cihcInN0eWxlXCIsXCJcIikucmVtb3ZlQXR0cihcInN0eWxlXCIpfX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKGYuZGVidWcoXCJDaGFuZ2luZyBzZXR0aW5nXCIsdCxuKSxlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsbSx0KTtlbHNle2lmKG49PT1pKXJldHVybiBtW3RdO2UuaXNQbGFpbk9iamVjdChtW3RdKT9lLmV4dGVuZCghMCxtW3RdLG4pOm1bdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGYuZGVidWcoXCJDaGFuZ2luZyBpbnRlcm5hbFwiLHQsbiksbj09PWk/Zlt0XTp2b2lkKGUuaXNQbGFpbk9iamVjdCh0KT9lLmV4dGVuZCghMCxmLHQpOmZbdF09bil9LGRlYnVnOmZ1bmN0aW9uKCl7IW0uc2lsZW50JiZtLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxmLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IW0uc2lsZW50JiZtLnZlcmJvc2UmJm0uZGVidWcmJihtLnBlcmZvcm1hbmNlP2YucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGYudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLG0ubmFtZStcIjpcIiksZi52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe20uc2lsZW50fHwoZi5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxtLm5hbWUrXCI6XCIpLGYuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7bS5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1yfHx0LG49dC1pLHI9dCxzLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6UyxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoZi5wZXJmb3JtYW5jZS50aW1lciksZi5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KGYucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9bS5uYW1lK1wiOlwiLG49MDtyPSExLGNsZWFyVGltZW91dChmLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gocyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHgmJih0Kz1cIiAnXCIreCtcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJnMubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShzKTplLmVhY2gocyxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLHM9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLGEpe3ZhciByLHMsbCxjPVQ7cmV0dXJuIG49bnx8dSxhPVN8fGEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pPyhzPWNbb10sITEpOihmLmVycm9yKHYubWV0aG9kLHQpLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkoYSxuKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KG8pP28ucHVzaChsKTpvIT09aT9vPVtvLGxdOmwhPT1pJiYobz1sKSxzfX0sYz8oVD09PWkmJmYuaW5pdGlhbGl6ZSgpLGYuaW52b2tlKGwpKTooVCE9PWkmJlQuaW52b2tlKFwiZGVzdHJveVwiKSxmLmluaXRpYWxpemUoKSl9KSxvIT09aT9vOnRoaXN9LGUuZm4uYWNjb3JkaW9uLnNldHRpbmdzPXtuYW1lOlwiQWNjb3JkaW9uXCIsbmFtZXNwYWNlOlwiYWNjb3JkaW9uXCIsc2lsZW50OiExLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsb246XCJjbGlja1wiLG9ic2VydmVDaGFuZ2VzOiEwLGV4Y2x1c2l2ZTohMCxjb2xsYXBzaWJsZTohMCxjbG9zZU5lc3RlZDohMSxhbmltYXRlQ2hpbGRyZW46ITAsZHVyYXRpb246MzUwLGVhc2luZzpcImVhc2VPdXRRdWFkXCIsb25PcGVuaW5nOmZ1bmN0aW9uKCl7fSxvbk9wZW46ZnVuY3Rpb24oKXt9LG9uQ2xvc2luZzpmdW5jdGlvbigpe30sXG5vbkNsb3NlOmZ1bmN0aW9uKCl7fSxvbkNoYW5nZTpmdW5jdGlvbigpe30sZXJyb3I6e21ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZFwifSxjbGFzc05hbWU6e2FjdGl2ZTpcImFjdGl2ZVwiLGFuaW1hdGluZzpcImFuaW1hdGluZ1wifSxzZWxlY3Rvcjp7YWNjb3JkaW9uOlwiLmFjY29yZGlvblwiLHRpdGxlOlwiLnRpdGxlXCIsdHJpZ2dlcjpcIi50aXRsZVwiLGNvbnRlbnQ6XCIuY29udGVudFwifX0sZS5leHRlbmQoZS5lYXNpbmcse2Vhc2VPdXRRdWFkOmZ1bmN0aW9uKGUsdCxuLGksbyl7cmV0dXJuLWkqKHQvPW8pKih0LTIpK259fSl9KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO3Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQuTWF0aD09TWF0aD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksZS5mbi5jaGVja2JveD1mdW5jdGlvbihvKXt2YXIgYSxyPWUodGhpcykscz1yLnNlbGVjdG9yfHxcIlwiLGw9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1bXSx1PWFyZ3VtZW50c1swXSxkPVwic3RyaW5nXCI9PXR5cGVvZiB1LGY9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHIuZWFjaChmdW5jdGlvbigpe3ZhciByLG0sZz1lLmV4dGVuZCghMCx7fSxlLmZuLmNoZWNrYm94LnNldHRpbmdzLG8pLHA9Zy5jbGFzc05hbWUsaD1nLm5hbWVzcGFjZSx2PWcuc2VsZWN0b3IsYj1nLmVycm9yLHk9XCIuXCIraCx4PVwibW9kdWxlLVwiK2gsQz1lKHRoaXMpLHc9ZSh0aGlzKS5jaGlsZHJlbih2LmxhYmVsKSxrPWUodGhpcykuY2hpbGRyZW4odi5pbnB1dCksUz1rWzBdLFQ9ITEsQT0hMSxSPUMuZGF0YSh4KSxFPXRoaXM7bT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe20udmVyYm9zZShcIkluaXRpYWxpemluZyBjaGVja2JveFwiLGcpLG0uY3JlYXRlLmxhYmVsKCksbS5iaW5kLmV2ZW50cygpLG0uc2V0LnRhYmJhYmxlKCksbS5oaWRlLmlucHV0KCksbS5vYnNlcnZlQ2hhbmdlcygpLG0uaW5zdGFudGlhdGUoKSxtLnNldHVwKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixtKSxSPW0sQy5kYXRhKHgsbSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXttLnZlcmJvc2UoXCJEZXN0cm95aW5nIG1vZHVsZVwiKSxtLnVuYmluZC5ldmVudHMoKSxtLnNob3cuaW5wdXQoKSxDLnJlbW92ZURhdGEoeCl9LGZpeDp7cmVmZXJlbmNlOmZ1bmN0aW9uKCl7Qy5pcyh2LmlucHV0KSYmKG0uZGVidWcoXCJCZWhhdmlvciBjYWxsZWQgb24gPGlucHV0PiBhZGp1c3RpbmcgaW52b2tlZCBlbGVtZW50XCIpLEM9Qy5jbG9zZXN0KHYuY2hlY2tib3gpLG0ucmVmcmVzaCgpKX19LHNldHVwOmZ1bmN0aW9uKCl7bS5zZXQuaW5pdGlhbExvYWQoKSxtLmlzLmluZGV0ZXJtaW5hdGUoKT8obS5kZWJ1ZyhcIkluaXRpYWwgdmFsdWUgaXMgaW5kZXRlcm1pbmF0ZVwiKSxtLmluZGV0ZXJtaW5hdGUoKSk6bS5pcy5jaGVja2VkKCk/KG0uZGVidWcoXCJJbml0aWFsIHZhbHVlIGlzIGNoZWNrZWRcIiksbS5jaGVjaygpKToobS5kZWJ1ZyhcIkluaXRpYWwgdmFsdWUgaXMgdW5jaGVja2VkXCIpLG0udW5jaGVjaygpKSxtLnJlbW92ZS5pbml0aWFsTG9hZCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dz1DLmNoaWxkcmVuKHYubGFiZWwpLGs9Qy5jaGlsZHJlbih2LmlucHV0KSxTPWtbMF19LGhpZGU6e2lucHV0OmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiTW9kaWZ5aW5nIDxpbnB1dD4gei1pbmRleCB0byBiZSB1bnNlbGVjdGFibGVcIiksay5hZGRDbGFzcyhwLmhpZGRlbil9fSxzaG93OntpbnB1dDpmdW5jdGlvbigpe20udmVyYm9zZShcIk1vZGlmeWluZyA8aW5wdXQ+IHotaW5kZXggdG8gYmUgc2VsZWN0YWJsZVwiKSxrLnJlbW92ZUNsYXNzKHAuaGlkZGVuKX19LG9ic2VydmVDaGFuZ2VzOmZ1bmN0aW9uKCl7XCJNdXRhdGlvbk9ic2VydmVyXCJpbiB0JiYocj1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihlKXttLmRlYnVnKFwiRE9NIHRyZWUgbW9kaWZpZWQsIHVwZGF0aW5nIHNlbGVjdG9yIGNhY2hlXCIpLG0ucmVmcmVzaCgpfSksci5vYnNlcnZlKEUse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSksbS5kZWJ1ZyhcIlNldHRpbmcgdXAgbXV0YXRpb24gb2JzZXJ2ZXJcIixyKSl9LGF0dGFjaEV2ZW50czpmdW5jdGlvbih0LG4pe3ZhciBpPWUodCk7bj1lLmlzRnVuY3Rpb24obVtuXSk/bVtuXTptLnRvZ2dsZSxpLmxlbmd0aD4wPyhtLmRlYnVnKFwiQXR0YWNoaW5nIGNoZWNrYm94IGV2ZW50cyB0byBlbGVtZW50XCIsdCxuKSxpLm9uKFwiY2xpY2tcIit5LG4pKTptLmVycm9yKGIubm90Rm91bmQpfSxldmVudDp7Y2xpY2s6ZnVuY3Rpb24odCl7dmFyIG49ZSh0LnRhcmdldCk7cmV0dXJuIG4uaXModi5pbnB1dCk/dm9pZCBtLnZlcmJvc2UoXCJVc2luZyBkZWZhdWx0IGNoZWNrIGFjdGlvbiBvbiBpbml0aWFsaXplZCBjaGVja2JveFwiKTpuLmlzKHYubGluayk/dm9pZCBtLmRlYnVnKFwiQ2xpY2tpbmcgbGluayBpbnNpZGUgY2hlY2tib3gsIHNraXBwaW5nIHRvZ2dsZVwiKToobS50b2dnbGUoKSxrLmZvY3VzKCksdm9pZCB0LnByZXZlbnREZWZhdWx0KCkpfSxrZXlkb3duOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2hpY2gsbj17ZW50ZXI6MTMsc3BhY2U6MzIsZXNjYXBlOjI3fTt0PT1uLmVzY2FwZT8obS52ZXJib3NlKFwiRXNjYXBlIGtleSBwcmVzc2VkIGJsdXJyaW5nIGZpZWxkXCIpLGsuYmx1cigpLEE9ITApOmUuY3RybEtleXx8dCE9bi5zcGFjZSYmdCE9bi5lbnRlcj9BPSExOihtLnZlcmJvc2UoXCJFbnRlci9zcGFjZSBrZXkgcHJlc3NlZCwgdG9nZ2xpbmcgY2hlY2tib3hcIiksbS50b2dnbGUoKSxBPSEwKX0sa2V5dXA6ZnVuY3Rpb24oZSl7QSYmZS5wcmV2ZW50RGVmYXVsdCgpfX0sY2hlY2s6ZnVuY3Rpb24oKXttLnNob3VsZC5hbGxvd0NoZWNrKCkmJihtLmRlYnVnKFwiQ2hlY2tpbmcgY2hlY2tib3hcIixrKSxtLnNldC5jaGVja2VkKCksbS5zaG91bGQuaWdub3JlQ2FsbGJhY2tzKCl8fChnLm9uQ2hlY2tlZC5jYWxsKFMpLGcub25DaGFuZ2UuY2FsbChTKSkpfSx1bmNoZWNrOmZ1bmN0aW9uKCl7bS5zaG91bGQuYWxsb3dVbmNoZWNrKCkmJihtLmRlYnVnKFwiVW5jaGVja2luZyBjaGVja2JveFwiKSxtLnNldC51bmNoZWNrZWQoKSxtLnNob3VsZC5pZ25vcmVDYWxsYmFja3MoKXx8KGcub25VbmNoZWNrZWQuY2FsbChTKSxnLm9uQ2hhbmdlLmNhbGwoUykpKX0saW5kZXRlcm1pbmF0ZTpmdW5jdGlvbigpe3JldHVybiBtLnNob3VsZC5hbGxvd0luZGV0ZXJtaW5hdGUoKT92b2lkIG0uZGVidWcoXCJDaGVja2JveCBpcyBhbHJlYWR5IGluZGV0ZXJtaW5hdGVcIik6KG0uZGVidWcoXCJNYWtpbmcgY2hlY2tib3ggaW5kZXRlcm1pbmF0ZVwiKSxtLnNldC5pbmRldGVybWluYXRlKCksdm9pZChtLnNob3VsZC5pZ25vcmVDYWxsYmFja3MoKXx8KGcub25JbmRldGVybWluYXRlLmNhbGwoUyksZy5vbkNoYW5nZS5jYWxsKFMpKSkpfSxkZXRlcm1pbmF0ZTpmdW5jdGlvbigpe3JldHVybiBtLnNob3VsZC5hbGxvd0RldGVybWluYXRlKCk/dm9pZCBtLmRlYnVnKFwiQ2hlY2tib3ggaXMgYWxyZWFkeSBkZXRlcm1pbmF0ZVwiKToobS5kZWJ1ZyhcIk1ha2luZyBjaGVja2JveCBkZXRlcm1pbmF0ZVwiKSxtLnNldC5kZXRlcm1pbmF0ZSgpLHZvaWQobS5zaG91bGQuaWdub3JlQ2FsbGJhY2tzKCl8fChnLm9uRGV0ZXJtaW5hdGUuY2FsbChTKSxnLm9uQ2hhbmdlLmNhbGwoUykpKSl9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiBtLmlzLmVuYWJsZWQoKT92b2lkIG0uZGVidWcoXCJDaGVja2JveCBpcyBhbHJlYWR5IGVuYWJsZWRcIik6KG0uZGVidWcoXCJFbmFibGluZyBjaGVja2JveFwiKSxtLnNldC5lbmFibGVkKCksZy5vbkVuYWJsZS5jYWxsKFMpLHZvaWQgZy5vbkVuYWJsZWQuY2FsbChTKSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbS5pcy5kaXNhYmxlZCgpP3ZvaWQgbS5kZWJ1ZyhcIkNoZWNrYm94IGlzIGFscmVhZHkgZGlzYWJsZWRcIik6KG0uZGVidWcoXCJEaXNhYmxpbmcgY2hlY2tib3hcIiksbS5zZXQuZGlzYWJsZWQoKSxnLm9uRGlzYWJsZS5jYWxsKFMpLHZvaWQgZy5vbkRpc2FibGVkLmNhbGwoUykpfSxnZXQ6e3JhZGlvczpmdW5jdGlvbigpe3ZhciB0PW0uZ2V0Lm5hbWUoKTtyZXR1cm4gZSgnaW5wdXRbbmFtZT1cIicrdCsnXCJdJykuY2xvc2VzdCh2LmNoZWNrYm94KX0sb3RoZXJSYWRpb3M6ZnVuY3Rpb24oKXtyZXR1cm4gbS5nZXQucmFkaW9zKCkubm90KEMpfSxuYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIGsuYXR0cihcIm5hbWVcIil9fSxpczp7aW5pdGlhbExvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gVH0scmFkaW86ZnVuY3Rpb24oKXtyZXR1cm4gay5oYXNDbGFzcyhwLnJhZGlvKXx8XCJyYWRpb1wiPT1rLmF0dHIoXCJ0eXBlXCIpfSxpbmRldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGsucHJvcChcImluZGV0ZXJtaW5hdGVcIikhPT1pJiZrLnByb3AoXCJpbmRldGVybWluYXRlXCIpfSxjaGVja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIGsucHJvcChcImNoZWNrZWRcIikhPT1pJiZrLnByb3AoXCJjaGVja2VkXCIpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiBrLnByb3AoXCJkaXNhYmxlZFwiKSE9PWkmJmsucHJvcChcImRpc2FibGVkXCIpfSxlbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIW0uaXMuZGlzYWJsZWQoKX0sZGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXtyZXR1cm4hbS5pcy5pbmRldGVybWluYXRlKCl9LHVuY2hlY2tlZDpmdW5jdGlvbigpe3JldHVybiFtLmlzLmNoZWNrZWQoKX19LHNob3VsZDp7YWxsb3dDaGVjazpmdW5jdGlvbigpe3JldHVybiBtLmlzLmRldGVybWluYXRlKCkmJm0uaXMuY2hlY2tlZCgpJiYhbS5zaG91bGQuZm9yY2VDYWxsYmFja3MoKT8obS5kZWJ1ZyhcIlNob3VsZCBub3QgYWxsb3cgY2hlY2ssIGNoZWNrYm94IGlzIGFscmVhZHkgY2hlY2tlZFwiKSwhMSk6Zy5iZWZvcmVDaGVja2VkLmFwcGx5KFMpIT09ITF8fChtLmRlYnVnKFwiU2hvdWxkIG5vdCBhbGxvdyBjaGVjaywgYmVmb3JlQ2hlY2tlZCBjYW5jZWxsZWRcIiksITEpfSxhbGxvd1VuY2hlY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbS5pcy5kZXRlcm1pbmF0ZSgpJiZtLmlzLnVuY2hlY2tlZCgpJiYhbS5zaG91bGQuZm9yY2VDYWxsYmFja3MoKT8obS5kZWJ1ZyhcIlNob3VsZCBub3QgYWxsb3cgdW5jaGVjaywgY2hlY2tib3ggaXMgYWxyZWFkeSB1bmNoZWNrZWRcIiksITEpOmcuYmVmb3JlVW5jaGVja2VkLmFwcGx5KFMpIT09ITF8fChtLmRlYnVnKFwiU2hvdWxkIG5vdCBhbGxvdyB1bmNoZWNrLCBiZWZvcmVVbmNoZWNrZWQgY2FuY2VsbGVkXCIpLCExKX0sYWxsb3dJbmRldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uaXMuaW5kZXRlcm1pbmF0ZSgpJiYhbS5zaG91bGQuZm9yY2VDYWxsYmFja3MoKT8obS5kZWJ1ZyhcIlNob3VsZCBub3QgYWxsb3cgaW5kZXRlcm1pbmF0ZSwgY2hlY2tib3ggaXMgYWxyZWFkeSBpbmRldGVybWluYXRlXCIpLCExKTpnLmJlZm9yZUluZGV0ZXJtaW5hdGUuYXBwbHkoUykhPT0hMXx8KG0uZGVidWcoXCJTaG91bGQgbm90IGFsbG93IGluZGV0ZXJtaW5hdGUsIGJlZm9yZUluZGV0ZXJtaW5hdGUgY2FuY2VsbGVkXCIpLCExKX0sYWxsb3dEZXRlcm1pbmF0ZTpmdW5jdGlvbigpe3JldHVybiBtLmlzLmRldGVybWluYXRlKCkmJiFtLnNob3VsZC5mb3JjZUNhbGxiYWNrcygpPyhtLmRlYnVnKFwiU2hvdWxkIG5vdCBhbGxvdyBkZXRlcm1pbmF0ZSwgY2hlY2tib3ggaXMgYWxyZWFkeSBkZXRlcm1pbmF0ZVwiKSwhMSk6Zy5iZWZvcmVEZXRlcm1pbmF0ZS5hcHBseShTKSE9PSExfHwobS5kZWJ1ZyhcIlNob3VsZCBub3QgYWxsb3cgZGV0ZXJtaW5hdGUsIGJlZm9yZURldGVybWluYXRlIGNhbmNlbGxlZFwiKSwhMSl9LGZvcmNlQ2FsbGJhY2tzOmZ1bmN0aW9uKCl7cmV0dXJuIG0uaXMuaW5pdGlhbExvYWQoKSYmZy5maXJlT25Jbml0fSxpZ25vcmVDYWxsYmFja3M6ZnVuY3Rpb24oKXtyZXR1cm4gVCYmIWcuZmlyZU9uSW5pdH19LGNhbjp7Y2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIShDLmhhc0NsYXNzKHAuZGlzYWJsZWQpfHxDLmhhc0NsYXNzKHAucmVhZE9ubHkpfHxrLnByb3AoXCJkaXNhYmxlZFwiKXx8ay5wcm9wKFwicmVhZG9ubHlcIikpfSx1bmNoZWNrOmZ1bmN0aW9uKCl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBnLnVuY2hlY2thYmxlP2cudW5jaGVja2FibGU6IW0uaXMucmFkaW8oKX19LHNldDp7aW5pdGlhbExvYWQ6ZnVuY3Rpb24oKXtUPSEwfSxjaGVja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIG0udmVyYm9zZShcIlNldHRpbmcgY2xhc3MgdG8gY2hlY2tlZFwiKSxDLnJlbW92ZUNsYXNzKHAuaW5kZXRlcm1pbmF0ZSkuYWRkQ2xhc3MocC5jaGVja2VkKSxtLmlzLnJhZGlvKCkmJm0udW5jaGVja090aGVycygpLCFtLmlzLmluZGV0ZXJtaW5hdGUoKSYmbS5pcy5jaGVja2VkKCk/dm9pZCBtLmRlYnVnKFwiSW5wdXQgaXMgYWxyZWFkeSBjaGVja2VkLCBza2lwcGluZyBpbnB1dCBwcm9wZXJ0eSBjaGFuZ2VcIik6KG0udmVyYm9zZShcIlNldHRpbmcgc3RhdGUgdG8gY2hlY2tlZFwiLFMpLGsucHJvcChcImluZGV0ZXJtaW5hdGVcIiwhMSkucHJvcChcImNoZWNrZWRcIiwhMCksdm9pZCBtLnRyaWdnZXIuY2hhbmdlKCkpfSx1bmNoZWNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS52ZXJib3NlKFwiUmVtb3ZpbmcgY2hlY2tlZCBjbGFzc1wiKSxDLnJlbW92ZUNsYXNzKHAuaW5kZXRlcm1pbmF0ZSkucmVtb3ZlQ2xhc3MocC5jaGVja2VkKSwhbS5pcy5pbmRldGVybWluYXRlKCkmJm0uaXMudW5jaGVja2VkKCk/dm9pZCBtLmRlYnVnKFwiSW5wdXQgaXMgYWxyZWFkeSB1bmNoZWNrZWRcIik6KG0uZGVidWcoXCJTZXR0aW5nIHN0YXRlIHRvIHVuY2hlY2tlZFwiKSxrLnByb3AoXCJpbmRldGVybWluYXRlXCIsITEpLnByb3AoXCJjaGVja2VkXCIsITEpLHZvaWQgbS50cmlnZ2VyLmNoYW5nZSgpKX0saW5kZXRlcm1pbmF0ZTpmdW5jdGlvbigpe3JldHVybiBtLnZlcmJvc2UoXCJTZXR0aW5nIGNsYXNzIHRvIGluZGV0ZXJtaW5hdGVcIiksQy5hZGRDbGFzcyhwLmluZGV0ZXJtaW5hdGUpLG0uaXMuaW5kZXRlcm1pbmF0ZSgpP3ZvaWQgbS5kZWJ1ZyhcIklucHV0IGlzIGFscmVhZHkgaW5kZXRlcm1pbmF0ZSwgc2tpcHBpbmcgaW5wdXQgcHJvcGVydHkgY2hhbmdlXCIpOihtLmRlYnVnKFwiU2V0dGluZyBzdGF0ZSB0byBpbmRldGVybWluYXRlXCIpLGsucHJvcChcImluZGV0ZXJtaW5hdGVcIiwhMCksdm9pZCBtLnRyaWdnZXIuY2hhbmdlKCkpfSxkZXRlcm1pbmF0ZTpmdW5jdGlvbigpe3JldHVybiBtLnZlcmJvc2UoXCJSZW1vdmluZyBpbmRldGVybWluYXRlIGNsYXNzXCIpLEMucmVtb3ZlQ2xhc3MocC5pbmRldGVybWluYXRlKSxtLmlzLmRldGVybWluYXRlKCk/dm9pZCBtLmRlYnVnKFwiSW5wdXQgaXMgYWxyZWFkeSBkZXRlcm1pbmF0ZSwgc2tpcHBpbmcgaW5wdXQgcHJvcGVydHkgY2hhbmdlXCIpOihtLmRlYnVnKFwiU2V0dGluZyBzdGF0ZSB0byBkZXRlcm1pbmF0ZVwiKSx2b2lkIGsucHJvcChcImluZGV0ZXJtaW5hdGVcIiwhMSkpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiBtLnZlcmJvc2UoXCJTZXR0aW5nIGNsYXNzIHRvIGRpc2FibGVkXCIpLEMuYWRkQ2xhc3MocC5kaXNhYmxlZCksbS5pcy5kaXNhYmxlZCgpP3ZvaWQgbS5kZWJ1ZyhcIklucHV0IGlzIGFscmVhZHkgZGlzYWJsZWQsIHNraXBwaW5nIGlucHV0IHByb3BlcnR5IGNoYW5nZVwiKToobS5kZWJ1ZyhcIlNldHRpbmcgc3RhdGUgdG8gZGlzYWJsZWRcIiksay5wcm9wKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpLHZvaWQgbS50cmlnZ2VyLmNoYW5nZSgpKX0sZW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBtLnZlcmJvc2UoXCJSZW1vdmluZyBkaXNhYmxlZCBjbGFzc1wiKSxDLnJlbW92ZUNsYXNzKHAuZGlzYWJsZWQpLG0uaXMuZW5hYmxlZCgpP3ZvaWQgbS5kZWJ1ZyhcIklucHV0IGlzIGFscmVhZHkgZW5hYmxlZCwgc2tpcHBpbmcgaW5wdXQgcHJvcGVydHkgY2hhbmdlXCIpOihtLmRlYnVnKFwiU2V0dGluZyBzdGF0ZSB0byBlbmFibGVkXCIpLGsucHJvcChcImRpc2FibGVkXCIsITEpLHZvaWQgbS50cmlnZ2VyLmNoYW5nZSgpKX0sdGFiYmFibGU6ZnVuY3Rpb24oKXttLnZlcmJvc2UoXCJBZGRpbmcgdGFiaW5kZXggdG8gY2hlY2tib3hcIiksay5hdHRyKFwidGFiaW5kZXhcIik9PT1pJiZrLmF0dHIoXCJ0YWJpbmRleFwiLDApfX0scmVtb3ZlOntpbml0aWFsTG9hZDpmdW5jdGlvbigpe1Q9ITF9fSx0cmlnZ2VyOntjaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT1uLmNyZWF0ZUV2ZW50KFwiSFRNTEV2ZW50c1wiKSx0PWtbMF07dCYmKG0udmVyYm9zZShcIlRyaWdnZXJpbmcgbmF0aXZlIGNoYW5nZSBldmVudFwiKSxlLmluaXRFdmVudChcImNoYW5nZVwiLCEwLCExKSx0LmRpc3BhdGNoRXZlbnQoZSkpfX0sY3JlYXRlOntsYWJlbDpmdW5jdGlvbigpe2sucHJldkFsbCh2LmxhYmVsKS5sZW5ndGg+MD8oay5wcmV2KHYubGFiZWwpLmRldGFjaCgpLmluc2VydEFmdGVyKGspLG0uZGVidWcoXCJNb3ZpbmcgZXhpc3RpbmcgbGFiZWxcIix3KSk6bS5oYXMubGFiZWwoKXx8KHc9ZShcIjxsYWJlbD5cIikuaW5zZXJ0QWZ0ZXIoayksbS5kZWJ1ZyhcIkNyZWF0aW5nIGxhYmVsXCIsdykpfX0saGFzOntsYWJlbDpmdW5jdGlvbigpe3JldHVybiB3Lmxlbmd0aD4wfX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiQXR0YWNoaW5nIGNoZWNrYm94IGV2ZW50c1wiKSxDLm9uKFwiY2xpY2tcIit5LG0uZXZlbnQuY2xpY2spLm9uKFwia2V5ZG93blwiK3ksdi5pbnB1dCxtLmV2ZW50LmtleWRvd24pLm9uKFwia2V5dXBcIit5LHYuaW5wdXQsbS5ldmVudC5rZXl1cCl9fSx1bmJpbmQ6e2V2ZW50czpmdW5jdGlvbigpe20uZGVidWcoXCJSZW1vdmluZyBldmVudHNcIiksQy5vZmYoeSl9fSx1bmNoZWNrT3RoZXJzOmZ1bmN0aW9uKCl7dmFyIGU9bS5nZXQub3RoZXJSYWRpb3MoKTttLmRlYnVnKFwiVW5jaGVja2luZyBvdGhlciByYWRpb3NcIixlKSxlLnJlbW92ZUNsYXNzKHAuY2hlY2tlZCl9LHRvZ2dsZTpmdW5jdGlvbigpe3JldHVybiBtLmNhbi5jaGFuZ2UoKT92b2lkKG0uaXMuaW5kZXRlcm1pbmF0ZSgpfHxtLmlzLnVuY2hlY2tlZCgpPyhtLmRlYnVnKFwiQ3VycmVudGx5IHVuY2hlY2tlZFwiKSxtLmNoZWNrKCkpOm0uaXMuY2hlY2tlZCgpJiZtLmNhbi51bmNoZWNrKCkmJihtLmRlYnVnKFwiQ3VycmVudGx5IGNoZWNrZWRcIiksbS51bmNoZWNrKCkpKTp2b2lkKG0uaXMucmFkaW8oKXx8bS5kZWJ1ZyhcIkNoZWNrYm94IGlzIHJlYWQtb25seSBvciBkaXNhYmxlZCwgaWdub3JpbmcgdG9nZ2xlXCIpKX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKG0uZGVidWcoXCJDaGFuZ2luZyBzZXR0aW5nXCIsdCxuKSxlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsZyx0KTtlbHNle2lmKG49PT1pKXJldHVybiBnW3RdO2UuaXNQbGFpbk9iamVjdChnW3RdKT9lLmV4dGVuZCghMCxnW3RdLG4pOmdbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLG0sdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gbVt0XTttW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpeyFnLnNpbGVudCYmZy5kZWJ1ZyYmKGcucGVyZm9ybWFuY2U/bS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKToobS5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGcubmFtZStcIjpcIiksbS5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpeyFnLnNpbGVudCYmZy52ZXJib3NlJiZnLmRlYnVnJiYoZy5wZXJmb3JtYW5jZT9tLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihtLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxnLm5hbWUrXCI6XCIpLG0udmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtnLnNpbGVudHx8KG0uZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsZy5uYW1lK1wiOlwiKSxtLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2cucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9bHx8dCxuPXQtaSxsPXQsYy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OkUsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KG0ucGVyZm9ybWFuY2UudGltZXIpLG0ucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChtLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PWcubmFtZStcIjpcIixuPTA7bD0hMSxjbGVhclRpbWVvdXQobS5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixzJiYodCs9XCIgJ1wiK3MrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZjLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoYyk6ZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxjPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcixzLGwsYz1SO3JldHVybiBuPW58fGYsbz1FfHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZjIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QoY1thXSkmJm4hPXIpYz1jW2FdO2Vsc2V7aWYoY1thXSE9PWkpcmV0dXJuIHM9Y1thXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGNbb10pfHxuPT1yKXJldHVybiBjW29dIT09aT8ocz1jW29dLCExKToobS5lcnJvcihiLm1ldGhvZCx0KSwhMSk7Yz1jW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/bD1zLmFwcGx5KG8sbik6cyE9PWkmJihsPXMpLGUuaXNBcnJheShhKT9hLnB1c2gobCk6YSE9PWk/YT1bYSxsXTpsIT09aSYmKGE9bCksc319LGQ/KFI9PT1pJiZtLmluaXRpYWxpemUoKSxtLmludm9rZSh1KSk6KFIhPT1pJiZSLmludm9rZShcImRlc3Ryb3lcIiksbS5pbml0aWFsaXplKCkpfSksYSE9PWk/YTp0aGlzfSxlLmZuLmNoZWNrYm94LnNldHRpbmdzPXtuYW1lOlwiQ2hlY2tib3hcIixuYW1lc3BhY2U6XCJjaGVja2JveFwiLHNpbGVudDohMSxkZWJ1ZzohMSx2ZXJib3NlOiEwLHBlcmZvcm1hbmNlOiEwLHVuY2hlY2thYmxlOlwiYXV0b1wiLGZpcmVPbkluaXQ6ITEsb25DaGFuZ2U6ZnVuY3Rpb24oKXt9LGJlZm9yZUNoZWNrZWQ6ZnVuY3Rpb24oKXt9LGJlZm9yZVVuY2hlY2tlZDpmdW5jdGlvbigpe30sYmVmb3JlRGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXt9LGJlZm9yZUluZGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXt9LG9uQ2hlY2tlZDpmdW5jdGlvbigpe30sb25VbmNoZWNrZWQ6ZnVuY3Rpb24oKXt9LG9uRGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXt9LG9uSW5kZXRlcm1pbmF0ZTpmdW5jdGlvbigpe30sb25FbmFibGU6ZnVuY3Rpb24oKXt9LG9uRGlzYWJsZTpmdW5jdGlvbigpe30sb25FbmFibGVkOmZ1bmN0aW9uKCl7fSxvbkRpc2FibGVkOmZ1bmN0aW9uKCl7fSxjbGFzc05hbWU6e2NoZWNrZWQ6XCJjaGVja2VkXCIsaW5kZXRlcm1pbmF0ZTpcImluZGV0ZXJtaW5hdGVcIixkaXNhYmxlZDpcImRpc2FibGVkXCIsaGlkZGVuOlwiaGlkZGVuXCIscmFkaW86XCJyYWRpb1wiLHJlYWRPbmx5OlwicmVhZC1vbmx5XCJ9LGVycm9yOnttZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWRcIn0sc2VsZWN0b3I6e2NoZWNrYm94OlwiLnVpLmNoZWNrYm94XCIsbGFiZWw6XCJsYWJlbCwgLmJveFwiLGlucHV0OidpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0sIGlucHV0W3R5cGU9XCJyYWRpb1wiXScsbGluazpcImFbaHJlZl1cIn19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjt0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGUuZm4uZGltbWVyPWZ1bmN0aW9uKHQpe3ZhciBvLGE9ZSh0aGlzKSxyPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHM9W10sbD1hcmd1bWVudHNbMF0sYz1cInN0cmluZ1wiPT10eXBlb2YgbCx1PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBhLmVhY2goZnVuY3Rpb24oKXt2YXIgZCxmLG0sZz1lLmlzUGxhaW5PYmplY3QodCk/ZS5leHRlbmQoITAse30sZS5mbi5kaW1tZXIuc2V0dGluZ3MsdCk6ZS5leHRlbmQoe30sZS5mbi5kaW1tZXIuc2V0dGluZ3MpLHA9Zy5zZWxlY3RvcixoPWcubmFtZXNwYWNlLHY9Zy5jbGFzc05hbWUsYj1nLmVycm9yLHk9XCIuXCIraCx4PVwibW9kdWxlLVwiK2gsQz1hLnNlbGVjdG9yfHxcIlwiLHc9XCJvbnRvdWNoc3RhcnRcImluIG4uZG9jdW1lbnRFbGVtZW50P1widG91Y2hzdGFydFwiOlwiY2xpY2tcIixrPWUodGhpcyksUz10aGlzLFQ9ay5kYXRhKHgpO209e3ByZWluaXRpYWxpemU6ZnVuY3Rpb24oKXttLmlzLmRpbW1lcigpPyhmPWsucGFyZW50KCksZD1rKTooZj1rLGQ9bS5oYXMuZGltbWVyKCk/Zy5kaW1tZXJOYW1lP2YuZmluZChwLmRpbW1lcikuZmlsdGVyKFwiLlwiK2cuZGltbWVyTmFtZSk6Zi5maW5kKHAuZGltbWVyKTptLmNyZWF0ZSgpLG0uc2V0LnZhcmlhdGlvbigpKX0saW5pdGlhbGl6ZTpmdW5jdGlvbigpe20uZGVidWcoXCJJbml0aWFsaXppbmcgZGltbWVyXCIsZyksbS5iaW5kLmV2ZW50cygpLG0uc2V0LmRpbW1hYmxlKCksbS5pbnN0YW50aWF0ZSgpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe20udmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgbW9kdWxlXCIsbSksVD1tLGsuZGF0YSh4LFQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBtb2R1bGVcIixkKSxtLnVuYmluZC5ldmVudHMoKSxtLnJlbW92ZS52YXJpYXRpb24oKSxmLm9mZih5KX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7XCJob3ZlclwiPT1nLm9uP2Yub24oXCJtb3VzZWVudGVyXCIreSxtLnNob3cpLm9uKFwibW91c2VsZWF2ZVwiK3ksbS5oaWRlKTpcImNsaWNrXCI9PWcub24mJmYub24odyt5LG0udG9nZ2xlKSxtLmlzLnBhZ2UoKSYmKG0uZGVidWcoXCJTZXR0aW5nIGFzIGEgcGFnZSBkaW1tZXJcIixmKSxtLnNldC5wYWdlRGltbWVyKCkpLG0uaXMuY2xvc2FibGUoKSYmKG0udmVyYm9zZShcIkFkZGluZyBkaW1tZXIgY2xvc2UgZXZlbnRcIixkKSxmLm9uKHcreSxwLmRpbW1lcixtLmV2ZW50LmNsaWNrKSl9fSx1bmJpbmQ6e2V2ZW50czpmdW5jdGlvbigpe2sucmVtb3ZlRGF0YSh4KSxmLm9mZih5KX19LGV2ZW50OntjbGljazpmdW5jdGlvbih0KXttLnZlcmJvc2UoXCJEZXRlcm1pbmluZyBpZiBldmVudCBvY2N1cmVkIG9uIGRpbW1lclwiLHQpLCgwPT09ZC5maW5kKHQudGFyZ2V0KS5sZW5ndGh8fGUodC50YXJnZXQpLmlzKHAuY29udGVudCkpJiYobS5oaWRlKCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fSxhZGRDb250ZW50OmZ1bmN0aW9uKHQpe3ZhciBuPWUodCk7bS5kZWJ1ZyhcIkFkZCBjb250ZW50IHRvIGRpbW1lclwiLG4pLG4ucGFyZW50KClbMF0hPT1kWzBdJiZuLmRldGFjaCgpLmFwcGVuZFRvKGQpfSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD1lKGcudGVtcGxhdGUuZGltbWVyKCkpO3JldHVybiBnLmRpbW1lck5hbWUmJihtLmRlYnVnKFwiQ3JlYXRpbmcgbmFtZWQgZGltbWVyXCIsZy5kaW1tZXJOYW1lKSx0LmFkZENsYXNzKGcuZGltbWVyTmFtZSkpLHQuYXBwZW5kVG8oZiksdH0sc2hvdzpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxtLmRlYnVnKFwiU2hvd2luZyBkaW1tZXJcIixkLGcpLG0uaXMuZGltbWVkKCkmJiFtLmlzLmFuaW1hdGluZygpfHwhbS5pcy5lbmFibGVkKCk/bS5kZWJ1ZyhcIkRpbW1lciBpcyBhbHJlYWR5IHNob3duIG9yIGRpc2FibGVkXCIpOihtLmFuaW1hdGUuc2hvdyh0KSxnLm9uU2hvdy5jYWxsKFMpLGcub25DaGFuZ2UuY2FsbChTKSl9LGhpZGU6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sbS5pcy5kaW1tZWQoKXx8bS5pcy5hbmltYXRpbmcoKT8obS5kZWJ1ZyhcIkhpZGluZyBkaW1tZXJcIixkKSxtLmFuaW1hdGUuaGlkZSh0KSxnLm9uSGlkZS5jYWxsKFMpLGcub25DaGFuZ2UuY2FsbChTKSk6bS5kZWJ1ZyhcIkRpbW1lciBpcyBub3QgdmlzaWJsZVwiKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiVG9nZ2xpbmcgZGltbWVyIHZpc2liaWxpdHlcIixkKSxtLmlzLmRpbW1lZCgpP20uaGlkZSgpOm0uc2hvdygpfSxhbmltYXRlOntzaG93OmZ1bmN0aW9uKHQpe3Q9ZS5pc0Z1bmN0aW9uKHQpP3Q6ZnVuY3Rpb24oKXt9LGcudXNlQ1NTJiZlLmZuLnRyYW5zaXRpb24hPT1pJiZkLnRyYW5zaXRpb24oXCJpcyBzdXBwb3J0ZWRcIik/KFwiYXV0b1wiIT09Zy5vcGFjaXR5JiZtLnNldC5vcGFjaXR5KCksZC50cmFuc2l0aW9uKHthbmltYXRpb246Zy50cmFuc2l0aW9uK1wiIGluXCIscXVldWU6ITEsZHVyYXRpb246bS5nZXQuZHVyYXRpb24oKSx1c2VGYWlsU2FmZTohMCxvblN0YXJ0OmZ1bmN0aW9uKCl7bS5zZXQuZGltbWVkKCl9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXttLnNldC5hY3RpdmUoKSx0KCl9fSkpOihtLnZlcmJvc2UoXCJTaG93aW5nIGRpbW1lciBhbmltYXRpb24gd2l0aCBqYXZhc2NyaXB0XCIpLG0uc2V0LmRpbW1lZCgpLFwiYXV0b1wiPT1nLm9wYWNpdHkmJihnLm9wYWNpdHk9LjgpLGQuc3RvcCgpLmNzcyh7b3BhY2l0eTowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn0pLmZhZGVUbyhtLmdldC5kdXJhdGlvbigpLGcub3BhY2l0eSxmdW5jdGlvbigpe2QucmVtb3ZlQXR0cihcInN0eWxlXCIpLG0uc2V0LmFjdGl2ZSgpLHQoKX0pKX0saGlkZTpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxnLnVzZUNTUyYmZS5mbi50cmFuc2l0aW9uIT09aSYmZC50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpPyhtLnZlcmJvc2UoXCJIaWRpbmcgZGltbWVyIHdpdGggY3NzXCIpLGQudHJhbnNpdGlvbih7YW5pbWF0aW9uOmcudHJhbnNpdGlvbitcIiBvdXRcIixxdWV1ZTohMSxkdXJhdGlvbjptLmdldC5kdXJhdGlvbigpLHVzZUZhaWxTYWZlOiEwLG9uU3RhcnQ6ZnVuY3Rpb24oKXttLnJlbW92ZS5kaW1tZWQoKX0sb25Db21wbGV0ZTpmdW5jdGlvbigpe20ucmVtb3ZlLmFjdGl2ZSgpLHQoKX19KSk6KG0udmVyYm9zZShcIkhpZGluZyBkaW1tZXIgd2l0aCBqYXZhc2NyaXB0XCIpLG0ucmVtb3ZlLmRpbW1lZCgpLGQuc3RvcCgpLmZhZGVPdXQobS5nZXQuZHVyYXRpb24oKSxmdW5jdGlvbigpe20ucmVtb3ZlLmFjdGl2ZSgpLGQucmVtb3ZlQXR0cihcInN0eWxlXCIpLHQoKX0pKX19LGdldDp7ZGltbWVyOmZ1bmN0aW9uKCl7cmV0dXJuIGR9LGR1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGcuZHVyYXRpb24/bS5pcy5hY3RpdmUoKT9nLmR1cmF0aW9uLmhpZGU6Zy5kdXJhdGlvbi5zaG93OmcuZHVyYXRpb259fSxoYXM6e2RpbW1lcjpmdW5jdGlvbigpe3JldHVybiBnLmRpbW1lck5hbWU/ay5maW5kKHAuZGltbWVyKS5maWx0ZXIoXCIuXCIrZy5kaW1tZXJOYW1lKS5sZW5ndGg+MDprLmZpbmQocC5kaW1tZXIpLmxlbmd0aD4wfX0saXM6e2FjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBkLmhhc0NsYXNzKHYuYWN0aXZlKX0sYW5pbWF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGQuaXMoXCI6YW5pbWF0ZWRcIil8fGQuaGFzQ2xhc3Modi5hbmltYXRpbmcpfSxjbG9zYWJsZTpmdW5jdGlvbigpe3JldHVyblwiYXV0b1wiPT1nLmNsb3NhYmxlP1wiaG92ZXJcIiE9Zy5vbjpnLmNsb3NhYmxlfSxkaW1tZXI6ZnVuY3Rpb24oKXtyZXR1cm4gay5oYXNDbGFzcyh2LmRpbW1lcil9LGRpbW1hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaGFzQ2xhc3Modi5kaW1tYWJsZSl9LGRpbW1lZDpmdW5jdGlvbigpe3JldHVybiBmLmhhc0NsYXNzKHYuZGltbWVkKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5oYXNDbGFzcyh2LmRpc2FibGVkKX0sZW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiFtLmlzLmRpc2FibGVkKCl9LHBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gZi5pcyhcImJvZHlcIil9LHBhZ2VEaW1tZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZC5oYXNDbGFzcyh2LnBhZ2VEaW1tZXIpfX0sY2FuOntzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIWQuaGFzQ2xhc3Modi5kaXNhYmxlZCl9fSxzZXQ6e29wYWNpdHk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZC5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLG49dC5zcGxpdChcIixcIiksaT1uJiYzPT1uLmxlbmd0aCxvPW4mJjQ9PW4ubGVuZ3RoO2U9MD09PWcub3BhY2l0eT8wOmcub3BhY2l0eXx8ZSxpfHxvPyhuWzNdPWUrXCIpXCIsdD1uLmpvaW4oXCIsXCIpKTp0PVwicmdiYSgwLCAwLCAwLCBcIitlK1wiKVwiLG0uZGVidWcoXCJTZXR0aW5nIG9wYWNpdHkgdG9cIixlKSxkLmNzcyhcImJhY2tncm91bmQtY29sb3JcIix0KX0sYWN0aXZlOmZ1bmN0aW9uKCl7ZC5hZGRDbGFzcyh2LmFjdGl2ZSl9LGRpbW1hYmxlOmZ1bmN0aW9uKCl7Zi5hZGRDbGFzcyh2LmRpbW1hYmxlKX0sZGltbWVkOmZ1bmN0aW9uKCl7Zi5hZGRDbGFzcyh2LmRpbW1lZCl9LHBhZ2VEaW1tZXI6ZnVuY3Rpb24oKXtkLmFkZENsYXNzKHYucGFnZURpbW1lcil9LGRpc2FibGVkOmZ1bmN0aW9uKCl7ZC5hZGRDbGFzcyh2LmRpc2FibGVkKX0sdmFyaWF0aW9uOmZ1bmN0aW9uKGUpe2U9ZXx8Zy52YXJpYXRpb24sZSYmZC5hZGRDbGFzcyhlKX19LHJlbW92ZTp7YWN0aXZlOmZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcyh2LmFjdGl2ZSl9LGRpbW1lZDpmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3Modi5kaW1tZWQpfSxkaXNhYmxlZDpmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3Modi5kaXNhYmxlZCl9LHZhcmlhdGlvbjpmdW5jdGlvbihlKXtlPWV8fGcudmFyaWF0aW9uLGUmJmQucmVtb3ZlQ2xhc3MoZSl9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYobS5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxnLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGdbdF07ZS5pc1BsYWluT2JqZWN0KGdbdF0pP2UuZXh0ZW5kKCEwLGdbdF0sbik6Z1t0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsbSx0KTtlbHNle2lmKG49PT1pKXJldHVybiBtW3RdO21bdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7IWcuc2lsZW50JiZnLmRlYnVnJiYoZy5wZXJmb3JtYW5jZT9tLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihtLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZy5uYW1lK1wiOlwiKSxtLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IWcuc2lsZW50JiZnLnZlcmJvc2UmJmcuZGVidWcmJihnLnBlcmZvcm1hbmNlP20ucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KG0udmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGcubmFtZStcIjpcIiksbS52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe2cuc2lsZW50fHwobS5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxnLm5hbWUrXCI6XCIpLG0uZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7Zy5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1yfHx0LG49dC1pLHI9dCxzLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6UyxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQobS5wZXJmb3JtYW5jZS50aW1lciksbS5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KG0ucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9Zy5uYW1lK1wiOlwiLG49MDtyPSExLGNsZWFyVGltZW91dChtLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gocyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLEMmJih0Kz1cIiAnXCIrQytcIidcIiksYS5sZW5ndGg+MSYmKHQrPVwiIChcIithLmxlbmd0aCtcIilcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJnMubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShzKTplLmVhY2gocyxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLHM9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLGEpe3ZhciByLHMsbCxjPVQ7cmV0dXJuIG49bnx8dSxhPVN8fGEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pPyhzPWNbb10sITEpOihtLmVycm9yKGIubWV0aG9kLHQpLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkoYSxuKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KG8pP28ucHVzaChsKTpvIT09aT9vPVtvLGxdOmwhPT1pJiYobz1sKSxzfX0sbS5wcmVpbml0aWFsaXplKCksYz8oVD09PWkmJm0uaW5pdGlhbGl6ZSgpLG0uaW52b2tlKGwpKTooVCE9PWkmJlQuaW52b2tlKFwiZGVzdHJveVwiKSxtLmluaXRpYWxpemUoKSl9KSxvIT09aT9vOnRoaXN9LGUuZm4uZGltbWVyLnNldHRpbmdzPXtuYW1lOlwiRGltbWVyXCIsbmFtZXNwYWNlOlwiZGltbWVyXCIsc2lsZW50OiExLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsZGltbWVyTmFtZTohMSx2YXJpYXRpb246ITEsY2xvc2FibGU6XCJhdXRvXCIsdXNlQ1NTOiEwLHRyYW5zaXRpb246XCJmYWRlXCIsb246ITEsb3BhY2l0eTpcImF1dG9cIixkdXJhdGlvbjp7c2hvdzo1MDAsaGlkZTo1MDB9LG9uQ2hhbmdlOmZ1bmN0aW9uKCl7fSxvblNob3c6ZnVuY3Rpb24oKXt9LG9uSGlkZTpmdW5jdGlvbigpe30sZXJyb3I6e21ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixhbmltYXRpbmc6XCJhbmltYXRpbmdcIixkaW1tYWJsZTpcImRpbW1hYmxlXCIsZGltbWVkOlwiZGltbWVkXCIsZGltbWVyOlwiZGltbWVyXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLGhpZGU6XCJoaWRlXCIscGFnZURpbW1lcjpcInBhZ2VcIixzaG93Olwic2hvd1wifSxzZWxlY3Rvcjp7ZGltbWVyOlwiPiAudWkuZGltbWVyXCIsY29udGVudDpcIi51aS5kaW1tZXIgPiAuY29udGVudCwgLnVpLmRpbW1lciA+IC5jb250ZW50ID4gLmNlbnRlclwifSx0ZW1wbGF0ZTp7ZGltbWVyOmZ1bmN0aW9uKCl7cmV0dXJuIGUoXCI8ZGl2IC8+XCIpLmF0dHIoXCJjbGFzc1wiLFwidWkgZGltbWVyXCIpfX19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjt0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGUuZm4uZHJvcGRvd249ZnVuY3Rpb24obyl7dmFyIGEscj1lKHRoaXMpLHM9ZShuKSxsPXIuc2VsZWN0b3J8fFwiXCIsYz1cIm9udG91Y2hzdGFydFwiaW4gbi5kb2N1bWVudEVsZW1lbnQsdT0obmV3IERhdGUpLmdldFRpbWUoKSxkPVtdLGY9YXJndW1lbnRzWzBdLG09XCJzdHJpbmdcIj09dHlwZW9mIGYsZz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gci5lYWNoKGZ1bmN0aW9uKHApe3ZhciBoLHYsYix5LHgsQyx3LGssUz1lLmlzUGxhaW5PYmplY3Qobyk/ZS5leHRlbmQoITAse30sZS5mbi5kcm9wZG93bi5zZXR0aW5ncyxvKTplLmV4dGVuZCh7fSxlLmZuLmRyb3Bkb3duLnNldHRpbmdzKSxUPVMuY2xhc3NOYW1lLEE9Uy5tZXNzYWdlLFI9Uy5maWVsZHMsRT1TLmtleXMsUD1TLm1ldGFkYXRhLEY9Uy5uYW1lc3BhY2UsTz1TLnJlZ0V4cCxEPVMuc2VsZWN0b3IscT1TLmVycm9yLGo9Uy50ZW1wbGF0ZXMsej1cIi5cIitGLE09XCJtb2R1bGUtXCIrRixJPWUodGhpcyksTD1lKFMuY29udGV4dCksTj1JLmZpbmQoRC50ZXh0KSxWPUkuZmluZChELnNlYXJjaCksSD1JLmZpbmQoRC5zaXplciksVT1JLmZpbmQoRC5pbnB1dCksVz1JLmZpbmQoRC5pY29uKSxCPUkucHJldigpLmZpbmQoRC50ZXh0KS5sZW5ndGg+MD9JLnByZXYoKS5maW5kKEQudGV4dCk6SS5wcmV2KCksUT1JLmNoaWxkcmVuKEQubWVudSksWD1RLmZpbmQoRC5pdGVtKSwkPSExLFk9ITEsSz0hMSxaPXRoaXMsSj1JLmRhdGEoTSk7az17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe2suZGVidWcoXCJJbml0aWFsaXppbmcgZHJvcGRvd25cIixTKSxrLmlzLmFscmVhZHlTZXR1cCgpP2suc2V0dXAucmVmZXJlbmNlKCk6KGsuc2V0dXAubGF5b3V0KCksay5yZWZyZXNoRGF0YSgpLGsuc2F2ZS5kZWZhdWx0cygpLGsucmVzdG9yZS5zZWxlY3RlZCgpLGsuY3JlYXRlLmlkKCksay5iaW5kLmV2ZW50cygpLGsub2JzZXJ2ZUNoYW5nZXMoKSxrLmluc3RhbnRpYXRlKCkpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe2sudmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgZHJvcGRvd25cIixrKSxKPWssSS5kYXRhKE0sayl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtrLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIGRyb3Bkb3duXCIsSSksay5yZW1vdmUudGFiYmFibGUoKSxJLm9mZih6KS5yZW1vdmVEYXRhKE0pLFEub2ZmKHopLHMub2ZmKHkpLGsuZGlzY29ubmVjdC5tZW51T2JzZXJ2ZXIoKSxrLmRpc2Nvbm5lY3Quc2VsZWN0T2JzZXJ2ZXIoKX0sb2JzZXJ2ZUNoYW5nZXM6ZnVuY3Rpb24oKXtcIk11dGF0aW9uT2JzZXJ2ZXJcImluIHQmJihDPW5ldyBNdXRhdGlvbk9ic2VydmVyKGsuZXZlbnQuc2VsZWN0Lm11dGF0aW9uKSx3PW5ldyBNdXRhdGlvbk9ic2VydmVyKGsuZXZlbnQubWVudS5tdXRhdGlvbiksay5kZWJ1ZyhcIlNldHRpbmcgdXAgbXV0YXRpb24gb2JzZXJ2ZXJcIixDLHcpLGsub2JzZXJ2ZS5zZWxlY3QoKSxrLm9ic2VydmUubWVudSgpKX0sZGlzY29ubmVjdDp7bWVudU9ic2VydmVyOmZ1bmN0aW9uKCl7dyYmdy5kaXNjb25uZWN0KCl9LHNlbGVjdE9ic2VydmVyOmZ1bmN0aW9uKCl7QyYmQy5kaXNjb25uZWN0KCl9fSxvYnNlcnZlOntzZWxlY3Q6ZnVuY3Rpb24oKXtrLmhhcy5pbnB1dCgpJiZDLm9ic2VydmUoVVswXSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX0sbWVudTpmdW5jdGlvbigpe2suaGFzLm1lbnUoKSYmdy5vYnNlcnZlKFFbMF0se2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9fSxjcmVhdGU6e2lkOmZ1bmN0aW9uKCl7eD0oTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikrXCIwMDAwMDAwMDBcIikuc3Vic3RyKDIsOCkseT1cIi5cIit4LGsudmVyYm9zZShcIkNyZWF0aW5nIHVuaXF1ZSBpZCBmb3IgZWxlbWVudFwiLHgpfSx1c2VyQ2hvaWNlOmZ1bmN0aW9uKHQpe3ZhciBuLG8sYTtyZXR1cm4hISh0PXR8fGsuZ2V0LnVzZXJWYWx1ZXMoKSkmJih0PWUuaXNBcnJheSh0KT90Olt0XSxlLmVhY2godCxmdW5jdGlvbih0LHIpe2suZ2V0Lml0ZW0ocik9PT0hMSYmKGE9Uy50ZW1wbGF0ZXMuYWRkaXRpb24oay5hZGQudmFyaWFibGVzKEEuYWRkUmVzdWx0LHIpKSxvPWUoXCI8ZGl2IC8+XCIpLmh0bWwoYSkuYXR0cihcImRhdGEtXCIrUC52YWx1ZSxyKS5hdHRyKFwiZGF0YS1cIitQLnRleHQscikuYWRkQ2xhc3MoVC5hZGRpdGlvbikuYWRkQ2xhc3MoVC5pdGVtKSxTLmhpZGVBZGRpdGlvbnMmJm8uYWRkQ2xhc3MoVC5oaWRkZW4pLG49bj09PWk/bzpuLmFkZChvKSxrLnZlcmJvc2UoXCJDcmVhdGluZyB1c2VyIGNob2ljZXMgZm9yIHZhbHVlXCIscixvKSl9KSxuKX0sdXNlckxhYmVsczpmdW5jdGlvbih0KXt2YXIgbj1rLmdldC51c2VyVmFsdWVzKCk7biYmKGsuZGVidWcoXCJBZGRpbmcgdXNlciBsYWJlbHNcIixuKSxlLmVhY2gobixmdW5jdGlvbihlLHQpe2sudmVyYm9zZShcIkFkZGluZyBjdXN0b20gdXNlciB2YWx1ZVwiKSxrLmFkZC5sYWJlbCh0LHQpfSkpfSxtZW51OmZ1bmN0aW9uKCl7UT1lKFwiPGRpdiAvPlwiKS5hZGRDbGFzcyhULm1lbnUpLmFwcGVuZFRvKEkpfSxzaXplcjpmdW5jdGlvbigpe0g9ZShcIjxzcGFuIC8+XCIpLmFkZENsYXNzKFQuc2l6ZXIpLmluc2VydEFmdGVyKFYpfX0sc2VhcmNoOmZ1bmN0aW9uKGUpe2U9ZSE9PWk/ZTprLmdldC5xdWVyeSgpLGsudmVyYm9zZShcIlNlYXJjaGluZyBmb3IgcXVlcnlcIixlKSxrLmhhcy5taW5DaGFyYWN0ZXJzKGUpP2suZmlsdGVyKGUpOmsuaGlkZSgpfSxzZWxlY3Q6e2ZpcnN0VW5maWx0ZXJlZDpmdW5jdGlvbigpe2sudmVyYm9zZShcIlNlbGVjdGluZyBmaXJzdCBub24tZmlsdGVyZWQgZWxlbWVudFwiKSxrLnJlbW92ZS5zZWxlY3RlZEl0ZW0oKSxYLm5vdChELnVuc2VsZWN0YWJsZSkubm90KEQuYWRkaXRpb24rRC5oaWRkZW4pLmVxKDApLmFkZENsYXNzKFQuc2VsZWN0ZWQpfSxuZXh0QXZhaWxhYmxlOmZ1bmN0aW9uKGUpe2U9ZS5lcSgwKTt2YXIgdD1lLm5leHRBbGwoRC5pdGVtKS5ub3QoRC51bnNlbGVjdGFibGUpLmVxKDApLG49ZS5wcmV2QWxsKEQuaXRlbSkubm90KEQudW5zZWxlY3RhYmxlKS5lcSgwKSxpPXQubGVuZ3RoPjA7aT8oay52ZXJib3NlKFwiTW92aW5nIHNlbGVjdGlvbiB0b1wiLHQpLHQuYWRkQ2xhc3MoVC5zZWxlY3RlZCkpOihrLnZlcmJvc2UoXCJNb3Zpbmcgc2VsZWN0aW9uIHRvXCIsbiksbi5hZGRDbGFzcyhULnNlbGVjdGVkKSl9fSxzZXR1cDp7YXBpOmZ1bmN0aW9uKCl7dmFyIGU9e2RlYnVnOlMuZGVidWcsdXJsRGF0YTp7dmFsdWU6ay5nZXQudmFsdWUoKSxxdWVyeTprLmdldC5xdWVyeSgpfSxvbjohMX07ay52ZXJib3NlKFwiRmlyc3QgcmVxdWVzdCwgaW5pdGlhbGl6aW5nIEFQSVwiKSxJLmFwaShlKX0sbGF5b3V0OmZ1bmN0aW9uKCl7SS5pcyhcInNlbGVjdFwiKSYmKGsuc2V0dXAuc2VsZWN0KCksay5zZXR1cC5yZXR1cm5lZE9iamVjdCgpKSxrLmhhcy5tZW51KCl8fGsuY3JlYXRlLm1lbnUoKSxrLmlzLnNlYXJjaCgpJiYhay5oYXMuc2VhcmNoKCkmJihrLnZlcmJvc2UoXCJBZGRpbmcgc2VhcmNoIGlucHV0XCIpLFY9ZShcIjxpbnB1dCAvPlwiKS5hZGRDbGFzcyhULnNlYXJjaCkucHJvcChcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpLmluc2VydEJlZm9yZShOKSksay5pcy5tdWx0aXBsZSgpJiZrLmlzLnNlYXJjaFNlbGVjdGlvbigpJiYhay5oYXMuc2l6ZXIoKSYmay5jcmVhdGUuc2l6ZXIoKSxTLmFsbG93VGFiJiZrLnNldC50YWJiYWJsZSgpfSxzZWxlY3Q6ZnVuY3Rpb24oKXt2YXIgdD1rLmdldC5zZWxlY3RWYWx1ZXMoKTtrLmRlYnVnKFwiRHJvcGRvd24gaW5pdGlhbGl6ZWQgb24gYSBzZWxlY3RcIix0KSxJLmlzKFwic2VsZWN0XCIpJiYoVT1JKSxVLnBhcmVudChELmRyb3Bkb3duKS5sZW5ndGg+MD8oay5kZWJ1ZyhcIlVJIGRyb3Bkb3duIGFscmVhZHkgZXhpc3RzLiBDcmVhdGluZyBkcm9wZG93biBtZW51IG9ubHlcIiksST1VLmNsb3Nlc3QoRC5kcm9wZG93biksay5oYXMubWVudSgpfHxrLmNyZWF0ZS5tZW51KCksUT1JLmNoaWxkcmVuKEQubWVudSksay5zZXR1cC5tZW51KHQpKTooay5kZWJ1ZyhcIkNyZWF0aW5nIGVudGlyZSBkcm9wZG93biBmcm9tIHNlbGVjdFwiKSxJPWUoXCI8ZGl2IC8+XCIpLmF0dHIoXCJjbGFzc1wiLFUuYXR0cihcImNsYXNzXCIpKS5hZGRDbGFzcyhULnNlbGVjdGlvbikuYWRkQ2xhc3MoVC5kcm9wZG93bikuaHRtbChqLmRyb3Bkb3duKHQpKS5pbnNlcnRCZWZvcmUoVSksVS5oYXNDbGFzcyhULm11bHRpcGxlKSYmVS5wcm9wKFwibXVsdGlwbGVcIik9PT0hMSYmKGsuZXJyb3IocS5taXNzaW5nTXVsdGlwbGUpLFUucHJvcChcIm11bHRpcGxlXCIsITApKSxVLmlzKFwiW211bHRpcGxlXVwiKSYmay5zZXQubXVsdGlwbGUoKSxVLnByb3AoXCJkaXNhYmxlZFwiKSYmKGsuZGVidWcoXCJEaXNhYmxpbmcgZHJvcGRvd25cIiksSS5hZGRDbGFzcyhULmRpc2FibGVkKSksVS5yZW1vdmVBdHRyKFwiY2xhc3NcIikuZGV0YWNoKCkucHJlcGVuZFRvKEkpKSxrLnJlZnJlc2goKX0sbWVudTpmdW5jdGlvbihlKXtRLmh0bWwoai5tZW51KGUsUikpLFg9US5maW5kKEQuaXRlbSl9LHJlZmVyZW5jZTpmdW5jdGlvbigpe2suZGVidWcoXCJEcm9wZG93biBiZWhhdmlvciB3YXMgY2FsbGVkIG9uIHNlbGVjdCwgcmVwbGFjaW5nIHdpdGggY2xvc2VzdCBkcm9wZG93blwiKSxJPUkucGFyZW50KEQuZHJvcGRvd24pLGsucmVmcmVzaCgpLGsuc2V0dXAucmV0dXJuZWRPYmplY3QoKSxtJiYoSj1rLGsuaW52b2tlKGYpKX0scmV0dXJuZWRPYmplY3Q6ZnVuY3Rpb24oKXt2YXIgZT1yLnNsaWNlKDAscCksdD1yLnNsaWNlKHArMSk7cj1lLmFkZChJKS5hZGQodCl9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7ay5yZWZyZXNoU2VsZWN0b3JzKCksay5yZWZyZXNoRGF0YSgpfSxyZWZyZXNoSXRlbXM6ZnVuY3Rpb24oKXtYPVEuZmluZChELml0ZW0pfSxyZWZyZXNoU2VsZWN0b3JzOmZ1bmN0aW9uKCl7ay52ZXJib3NlKFwiUmVmcmVzaGluZyBzZWxlY3RvciBjYWNoZVwiKSxOPUkuZmluZChELnRleHQpLFY9SS5maW5kKEQuc2VhcmNoKSxVPUkuZmluZChELmlucHV0KSxXPUkuZmluZChELmljb24pLEI9SS5wcmV2KCkuZmluZChELnRleHQpLmxlbmd0aD4wP0kucHJldigpLmZpbmQoRC50ZXh0KTpJLnByZXYoKSxRPUkuY2hpbGRyZW4oRC5tZW51KSxYPVEuZmluZChELml0ZW0pfSxyZWZyZXNoRGF0YTpmdW5jdGlvbigpe2sudmVyYm9zZShcIlJlZnJlc2hpbmcgY2FjaGVkIG1ldGFkYXRhXCIpLFgucmVtb3ZlRGF0YShQLnRleHQpLnJlbW92ZURhdGEoUC52YWx1ZSl9LGNsZWFyRGF0YTpmdW5jdGlvbigpe2sudmVyYm9zZShcIkNsZWFyaW5nIG1ldGFkYXRhXCIpLFgucmVtb3ZlRGF0YShQLnRleHQpLnJlbW92ZURhdGEoUC52YWx1ZSksSS5yZW1vdmVEYXRhKFAuZGVmYXVsdFRleHQpLnJlbW92ZURhdGEoUC5kZWZhdWx0VmFsdWUpLnJlbW92ZURhdGEoUC5wbGFjZWhvbGRlclRleHQpfSx0b2dnbGU6ZnVuY3Rpb24oKXtrLnZlcmJvc2UoXCJUb2dnbGluZyBtZW51IHZpc2liaWxpdHlcIiksay5pcy5hY3RpdmUoKT9rLmhpZGUoKTprLnNob3coKX0sc2hvdzpmdW5jdGlvbih0KXtpZih0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxrLmNhbi5zaG93KCkmJiFrLmlzLmFjdGl2ZSgpKXtpZihrLmRlYnVnKFwiU2hvd2luZyBkcm9wZG93blwiKSwhay5oYXMubWVzc2FnZSgpfHxrLmhhcy5tYXhTZWxlY3Rpb25zKCl8fGsuaGFzLmFsbFJlc3VsdHNGaWx0ZXJlZCgpfHxrLnJlbW92ZS5tZXNzYWdlKCksay5pcy5hbGxGaWx0ZXJlZCgpKXJldHVybiEwO1Mub25TaG93LmNhbGwoWikhPT0hMSYmay5hbmltYXRlLnNob3coZnVuY3Rpb24oKXtrLmNhbi5jbGljaygpJiZrLmJpbmQuaW50ZW50KCksay5oYXMubWVudVNlYXJjaCgpJiZrLmZvY3VzU2VhcmNoKCksay5zZXQudmlzaWJsZSgpLHQuY2FsbChaKX0pfX0saGlkZTpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxrLmlzLmFjdGl2ZSgpJiYoay5kZWJ1ZyhcIkhpZGluZyBkcm9wZG93blwiKSxTLm9uSGlkZS5jYWxsKFopIT09ITEmJmsuYW5pbWF0ZS5oaWRlKGZ1bmN0aW9uKCl7ay5yZW1vdmUudmlzaWJsZSgpLHQuY2FsbChaKX0pKX0saGlkZU90aGVyczpmdW5jdGlvbigpe2sudmVyYm9zZShcIkZpbmRpbmcgb3RoZXIgZHJvcGRvd25zIHRvIGhpZGVcIiksci5ub3QoSSkuaGFzKEQubWVudStcIi5cIitULnZpc2libGUpLmRyb3Bkb3duKFwiaGlkZVwiKX0saGlkZU1lbnU6ZnVuY3Rpb24oKXtrLnZlcmJvc2UoXCJIaWRpbmcgbWVudSAgaW5zdGFudGFuZW91c2x5XCIpLGsucmVtb3ZlLmFjdGl2ZSgpLGsucmVtb3ZlLnZpc2libGUoKSxRLnRyYW5zaXRpb24oXCJoaWRlXCIpfSxoaWRlU3ViTWVudXM6ZnVuY3Rpb24oKXt2YXIgZT1RLmNoaWxkcmVuKEQuaXRlbSkuZmluZChELm1lbnUpO2sudmVyYm9zZShcIkhpZGluZyBzdWIgbWVudXNcIixlKSxlLnRyYW5zaXRpb24oXCJoaWRlXCIpfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXtjJiZrLmJpbmQudG91Y2hFdmVudHMoKSxrLmJpbmQua2V5Ym9hcmRFdmVudHMoKSxrLmJpbmQuaW5wdXRFdmVudHMoKSxrLmJpbmQubW91c2VFdmVudHMoKX0sdG91Y2hFdmVudHM6ZnVuY3Rpb24oKXtrLmRlYnVnKFwiVG91Y2ggZGV2aWNlIGRldGVjdGVkIGJpbmRpbmcgYWRkaXRpb25hbCB0b3VjaCBldmVudHNcIiksay5pcy5zZWFyY2hTZWxlY3Rpb24oKXx8ay5pcy5zaW5nbGUoKSYmSS5vbihcInRvdWNoc3RhcnRcIit6LGsuZXZlbnQudGVzdC50b2dnbGUpLFEub24oXCJ0b3VjaHN0YXJ0XCIreixELml0ZW0say5ldmVudC5pdGVtLm1vdXNlZW50ZXIpfSxrZXlib2FyZEV2ZW50czpmdW5jdGlvbigpe2sudmVyYm9zZShcIkJpbmRpbmcga2V5Ym9hcmQgZXZlbnRzXCIpLEkub24oXCJrZXlkb3duXCIreixrLmV2ZW50LmtleWRvd24pLGsuaGFzLnNlYXJjaCgpJiZJLm9uKGsuZ2V0LmlucHV0RXZlbnQoKSt6LEQuc2VhcmNoLGsuZXZlbnQuaW5wdXQpLGsuaXMubXVsdGlwbGUoKSYmcy5vbihcImtleWRvd25cIit5LGsuZXZlbnQuZG9jdW1lbnQua2V5ZG93bil9LGlucHV0RXZlbnRzOmZ1bmN0aW9uKCl7ay52ZXJib3NlKFwiQmluZGluZyBpbnB1dCBjaGFuZ2UgZXZlbnRzXCIpLEkub24oXCJjaGFuZ2VcIit6LEQuaW5wdXQsay5ldmVudC5jaGFuZ2UpfSxtb3VzZUV2ZW50czpmdW5jdGlvbigpe2sudmVyYm9zZShcIkJpbmRpbmcgbW91c2UgZXZlbnRzXCIpLGsuaXMubXVsdGlwbGUoKSYmSS5vbihcImNsaWNrXCIreixELmxhYmVsLGsuZXZlbnQubGFiZWwuY2xpY2spLm9uKFwiY2xpY2tcIit6LEQucmVtb3ZlLGsuZXZlbnQucmVtb3ZlLmNsaWNrKSxrLmlzLnNlYXJjaFNlbGVjdGlvbigpPyhJLm9uKFwibW91c2Vkb3duXCIreixrLmV2ZW50Lm1vdXNlZG93bikub24oXCJtb3VzZXVwXCIreixrLmV2ZW50Lm1vdXNldXApLm9uKFwibW91c2Vkb3duXCIreixELm1lbnUsay5ldmVudC5tZW51Lm1vdXNlZG93bikub24oXCJtb3VzZXVwXCIreixELm1lbnUsay5ldmVudC5tZW51Lm1vdXNldXApLm9uKFwiY2xpY2tcIit6LEQuaWNvbixrLmV2ZW50Lmljb24uY2xpY2spLm9uKFwiZm9jdXNcIit6LEQuc2VhcmNoLGsuZXZlbnQuc2VhcmNoLmZvY3VzKS5vbihcImNsaWNrXCIreixELnNlYXJjaCxrLmV2ZW50LnNlYXJjaC5mb2N1cykub24oXCJibHVyXCIreixELnNlYXJjaCxrLmV2ZW50LnNlYXJjaC5ibHVyKS5vbihcImNsaWNrXCIreixELnRleHQsay5ldmVudC50ZXh0LmZvY3VzKSxrLmlzLm11bHRpcGxlKCkmJkkub24oXCJjbGlja1wiK3osay5ldmVudC5jbGljaykpOihcImNsaWNrXCI9PVMub24/SS5vbihcImNsaWNrXCIreixELmljb24say5ldmVudC5pY29uLmNsaWNrKS5vbihcImNsaWNrXCIreixrLmV2ZW50LnRlc3QudG9nZ2xlKTpcImhvdmVyXCI9PVMub24/SS5vbihcIm1vdXNlZW50ZXJcIit6LGsuZGVsYXkuc2hvdykub24oXCJtb3VzZWxlYXZlXCIreixrLmRlbGF5LmhpZGUpOkkub24oUy5vbit6LGsudG9nZ2xlKSxJLm9uKFwibW91c2Vkb3duXCIreixrLmV2ZW50Lm1vdXNlZG93bikub24oXCJtb3VzZXVwXCIreixrLmV2ZW50Lm1vdXNldXApLm9uKFwiZm9jdXNcIit6LGsuZXZlbnQuZm9jdXMpLm9uKFwiYmx1clwiK3osay5ldmVudC5ibHVyKSksUS5vbihcIm1vdXNlZW50ZXJcIit6LEQuaXRlbSxrLmV2ZW50Lml0ZW0ubW91c2VlbnRlcikub24oXCJtb3VzZWxlYXZlXCIreixELml0ZW0say5ldmVudC5pdGVtLm1vdXNlbGVhdmUpLm9uKFwiY2xpY2tcIit6LEQuaXRlbSxrLmV2ZW50Lml0ZW0uY2xpY2spfSxpbnRlbnQ6ZnVuY3Rpb24oKXtrLnZlcmJvc2UoXCJCaW5kaW5nIGhpZGUgaW50ZW50IGV2ZW50IHRvIGRvY3VtZW50XCIpLGMmJnMub24oXCJ0b3VjaHN0YXJ0XCIreSxrLmV2ZW50LnRlc3QudG91Y2gpLm9uKFwidG91Y2htb3ZlXCIreSxrLmV2ZW50LnRlc3QudG91Y2gpLHMub24oXCJjbGlja1wiK3ksay5ldmVudC50ZXN0LmhpZGUpfX0sdW5iaW5kOntpbnRlbnQ6ZnVuY3Rpb24oKXtrLnZlcmJvc2UoXCJSZW1vdmluZyBoaWRlIGludGVudCBldmVudCBmcm9tIGRvY3VtZW50XCIpLGMmJnMub2ZmKFwidG91Y2hzdGFydFwiK3kpLm9mZihcInRvdWNobW92ZVwiK3kpLHMub2ZmKFwiY2xpY2tcIit5KX19LGZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdD1lIT09aT9lOmsuZ2V0LnF1ZXJ5KCksbj1mdW5jdGlvbigpe2suaXMubXVsdGlwbGUoKSYmay5maWx0ZXJBY3RpdmUoKSxrLnNlbGVjdC5maXJzdFVuZmlsdGVyZWQoKSxrLmhhcy5hbGxSZXN1bHRzRmlsdGVyZWQoKT9TLm9uTm9SZXN1bHRzLmNhbGwoWix0KT9TLmFsbG93QWRkaXRpb25zP1MuaGlkZUFkZGl0aW9ucyYmKGsudmVyYm9zZShcIlVzZXIgYWRkaXRpb24gd2l0aCBubyBtZW51LCBzZXR0aW5nIGVtcHR5IHN0eWxlXCIpLGsuc2V0LmVtcHR5KCksay5oaWRlTWVudSgpKTooay52ZXJib3NlKFwiQWxsIGl0ZW1zIGZpbHRlcmVkLCBzaG93aW5nIG1lc3NhZ2VcIix0KSxrLmFkZC5tZXNzYWdlKEEubm9SZXN1bHRzKSk6KGsudmVyYm9zZShcIkFsbCBpdGVtcyBmaWx0ZXJlZCwgaGlkaW5nIGRyb3Bkb3duXCIsdCksay5oaWRlTWVudSgpKTooay5yZW1vdmUuZW1wdHkoKSxrLnJlbW92ZS5tZXNzYWdlKCkpLFMuYWxsb3dBZGRpdGlvbnMmJmsuYWRkLnVzZXJTdWdnZXN0aW9uKGUpLGsuaXMuc2VhcmNoU2VsZWN0aW9uKCkmJmsuY2FuLnNob3coKSYmay5pcy5mb2N1c2VkT25TZWFyY2goKSYmay5zaG93KCl9O1MudXNlTGFiZWxzJiZrLmhhcy5tYXhTZWxlY3Rpb25zKCl8fChTLmFwaVNldHRpbmdzP2suY2FuLnVzZUFQSSgpP2sucXVlcnlSZW1vdGUodCxmdW5jdGlvbigpe24oKX0pOmsuZXJyb3IocS5ub0FQSSk6KGsuZmlsdGVySXRlbXModCksbigpKSl9LHF1ZXJ5UmVtb3RlOmZ1bmN0aW9uKHQsbil7dmFyIGk9e2Vycm9yRHVyYXRpb246ITEsY2FjaGU6XCJsb2NhbFwiLHRocm90dGxlOlMudGhyb3R0bGUsdXJsRGF0YTp7cXVlcnk6dH0sb25FcnJvcjpmdW5jdGlvbigpe2suYWRkLm1lc3NhZ2UoQS5zZXJ2ZXJFcnJvciksbigpfSxvbkZhaWx1cmU6ZnVuY3Rpb24oKXtrLmFkZC5tZXNzYWdlKEEuc2VydmVyRXJyb3IpLG4oKX0sb25TdWNjZXNzOmZ1bmN0aW9uKGUpe2sucmVtb3ZlLm1lc3NhZ2UoKSxrLnNldHVwLm1lbnUoe3ZhbHVlczplW1IucmVtb3RlVmFsdWVzXX0pLG4oKX19O0kuYXBpKFwiZ2V0IHJlcXVlc3RcIil8fGsuc2V0dXAuYXBpKCksaT1lLmV4dGVuZCghMCx7fSxpLFMuYXBpU2V0dGluZ3MpLEkuYXBpKFwic2V0dGluZ1wiLGkpLmFwaShcInF1ZXJ5XCIpfSxmaWx0ZXJJdGVtczpmdW5jdGlvbih0KXt2YXIgbj10IT09aT90OmsuZ2V0LnF1ZXJ5KCksbz1udWxsLGE9ay5lc2NhcGUucmVnRXhwKG4pLHI9bmV3IFJlZ0V4cChcIl5cIithLFwiaWdtXCIpO2suaGFzLnF1ZXJ5KCkmJihvPVtdLGsudmVyYm9zZShcIlNlYXJjaGluZyBmb3IgbWF0Y2hpbmcgdmFsdWVzXCIsbiksWC5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsaSxhPWUodGhpcyk7aWYoXCJib3RoXCI9PVMubWF0Y2h8fFwidGV4dFwiPT1TLm1hdGNoKXtpZih0PVN0cmluZyhrLmdldC5jaG9pY2VUZXh0KGEsITEpKSx0LnNlYXJjaChyKSE9PS0xKXJldHVybiBvLnB1c2godGhpcyksITA7aWYoXCJleGFjdFwiPT09Uy5mdWxsVGV4dFNlYXJjaCYmay5leGFjdFNlYXJjaChuLHQpKXJldHVybiBvLnB1c2godGhpcyksITA7aWYoUy5mdWxsVGV4dFNlYXJjaD09PSEwJiZrLmZ1enp5U2VhcmNoKG4sdCkpcmV0dXJuIG8ucHVzaCh0aGlzKSwhMH1pZihcImJvdGhcIj09Uy5tYXRjaHx8XCJ2YWx1ZVwiPT1TLm1hdGNoKXtpZihpPVN0cmluZyhrLmdldC5jaG9pY2VWYWx1ZShhLHQpKSxpLnNlYXJjaChyKSE9PS0xKXJldHVybiBvLnB1c2godGhpcyksITA7aWYoUy5mdWxsVGV4dFNlYXJjaCYmay5mdXp6eVNlYXJjaChuLGkpKXJldHVybiBvLnB1c2godGhpcyksITB9fSkpLGsuZGVidWcoXCJTaG93aW5nIG9ubHkgbWF0Y2hlZCBpdGVtc1wiLG4pLGsucmVtb3ZlLmZpbHRlcmVkSXRlbSgpLG8mJlgubm90KG8pLmFkZENsYXNzKFQuZmlsdGVyZWQpfSxmdXp6eVNlYXJjaDpmdW5jdGlvbihlLHQpe3ZhciBuPXQubGVuZ3RoLGk9ZS5sZW5ndGg7aWYoZT1lLnRvTG93ZXJDYXNlKCksdD10LnRvTG93ZXJDYXNlKCksaT5uKXJldHVybiExO2lmKGk9PT1uKXJldHVybiBlPT09dDtlOmZvcih2YXIgbz0wLGE9MDtvPGk7bysrKXtmb3IodmFyIHI9ZS5jaGFyQ29kZUF0KG8pO2E8bjspaWYodC5jaGFyQ29kZUF0KGErKyk9PT1yKWNvbnRpbnVlIGU7cmV0dXJuITF9cmV0dXJuITB9LGV4YWN0U2VhcmNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLHQ9dC50b0xvd2VyQ2FzZSgpLHQuaW5kZXhPZihlKT4tMX0sZmlsdGVyQWN0aXZlOmZ1bmN0aW9uKCl7Uy51c2VMYWJlbHMmJlguZmlsdGVyKFwiLlwiK1QuYWN0aXZlKS5hZGRDbGFzcyhULmZpbHRlcmVkKX0sZm9jdXNTZWFyY2g6ZnVuY3Rpb24oZSl7ay5oYXMuc2VhcmNoKCkmJiFrLmlzLmZvY3VzZWRPblNlYXJjaCgpJiYoZT8oSS5vZmYoXCJmb2N1c1wiK3osRC5zZWFyY2gpLFYuZm9jdXMoKSxJLm9uKFwiZm9jdXNcIit6LEQuc2VhcmNoLGsuZXZlbnQuc2VhcmNoLmZvY3VzKSk6Vi5mb2N1cygpKX0sZm9yY2VTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgZT1YLm5vdChULmZpbHRlcmVkKS5maWx0ZXIoXCIuXCIrVC5zZWxlY3RlZCkuZXEoMCksdD1YLm5vdChULmZpbHRlcmVkKS5maWx0ZXIoXCIuXCIrVC5hY3RpdmUpLmVxKDApLG49ZS5sZW5ndGg+MD9lOnQsaT1uLmxlbmd0aD4wO3JldHVybiBpPyhrLmRlYnVnKFwiRm9yY2luZyBwYXJ0aWFsIHNlbGVjdGlvbiB0byBzZWxlY3RlZCBpdGVtXCIsbiksdm9pZCBrLmV2ZW50Lml0ZW0uY2xpY2suY2FsbChuLHt9LCEwKSk6dm9pZChTLmFsbG93QWRkaXRpb25zPyhrLnNldC5zZWxlY3RlZChrLmdldC5xdWVyeSgpKSxrLnJlbW92ZS5zZWFyY2hUZXJtKCkpOmsucmVtb3ZlLnNlYXJjaFRlcm0oKSl9LGV2ZW50OntjaGFuZ2U6ZnVuY3Rpb24oKXtLfHwoay5kZWJ1ZyhcIklucHV0IGNoYW5nZWQsIHVwZGF0aW5nIHNlbGVjdGlvblwiKSxrLnNldC5zZWxlY3RlZCgpKX0sZm9jdXM6ZnVuY3Rpb24oKXtTLnNob3dPbkZvY3VzJiYhJCYmay5pcy5oaWRkZW4oKSYmIXYmJmsuc2hvdygpfSxibHVyOmZ1bmN0aW9uKGUpe3Y9bi5hY3RpdmVFbGVtZW50PT09dGhpcywkfHx2fHwoay5yZW1vdmUuYWN0aXZlTGFiZWwoKSxrLmhpZGUoKSl9LG1vdXNlZG93bjpmdW5jdGlvbigpe2suaXMuc2VhcmNoU2VsZWN0aW9uKCk/Yj0hMDokPSEwfSxtb3VzZXVwOmZ1bmN0aW9uKCl7ay5pcy5zZWFyY2hTZWxlY3Rpb24oKT9iPSExOiQ9ITF9LGNsaWNrOmZ1bmN0aW9uKHQpe3ZhciBuPWUodC50YXJnZXQpO24uaXMoSSkmJihrLmlzLmZvY3VzZWRPblNlYXJjaCgpP2suc2hvdygpOmsuZm9jdXNTZWFyY2goKSl9LHNlYXJjaDp7Zm9jdXM6ZnVuY3Rpb24oKXskPSEwLGsuaXMubXVsdGlwbGUoKSYmay5yZW1vdmUuYWN0aXZlTGFiZWwoKSxTLnNob3dPbkZvY3VzJiZrLnNlYXJjaCgpfSxibHVyOmZ1bmN0aW9uKGUpe3Y9bi5hY3RpdmVFbGVtZW50PT09dGhpcyxifHxZfHx2fHwoUy5mb3JjZVNlbGVjdGlvbiYmay5mb3JjZVNlbGVjdGlvbigpLGsuaGlkZSgpKSxiPSExfX0saWNvbjp7Y2xpY2s6ZnVuY3Rpb24oZSl7ay50b2dnbGUoKX19LHRleHQ6e2ZvY3VzOmZ1bmN0aW9uKGUpeyQ9ITAsay5mb2N1c1NlYXJjaCgpfX0saW5wdXQ6ZnVuY3Rpb24oZSl7KGsuaXMubXVsdGlwbGUoKXx8ay5pcy5zZWFyY2hTZWxlY3Rpb24oKSkmJmsuc2V0LmZpbHRlcmVkKCksY2xlYXJUaW1lb3V0KGsudGltZXIpLGsudGltZXI9c2V0VGltZW91dChrLnNlYXJjaCxTLmRlbGF5LnNlYXJjaCk7XG59LGxhYmVsOntjbGljazpmdW5jdGlvbih0KXt2YXIgbj1lKHRoaXMpLGk9SS5maW5kKEQubGFiZWwpLG89aS5maWx0ZXIoXCIuXCIrVC5hY3RpdmUpLGE9bi5uZXh0QWxsKFwiLlwiK1QuYWN0aXZlKSxyPW4ucHJldkFsbChcIi5cIitULmFjdGl2ZSkscz1hLmxlbmd0aD4wP24ubmV4dFVudGlsKGEpLmFkZChvKS5hZGQobik6bi5wcmV2VW50aWwocikuYWRkKG8pLmFkZChuKTt0LnNoaWZ0S2V5PyhvLnJlbW92ZUNsYXNzKFQuYWN0aXZlKSxzLmFkZENsYXNzKFQuYWN0aXZlKSk6dC5jdHJsS2V5P24udG9nZ2xlQ2xhc3MoVC5hY3RpdmUpOihvLnJlbW92ZUNsYXNzKFQuYWN0aXZlKSxuLmFkZENsYXNzKFQuYWN0aXZlKSksUy5vbkxhYmVsU2VsZWN0LmFwcGx5KHRoaXMsaS5maWx0ZXIoXCIuXCIrVC5hY3RpdmUpKX19LHJlbW92ZTp7Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLnBhcmVudCgpO3QuaGFzQ2xhc3MoVC5hY3RpdmUpP2sucmVtb3ZlLmFjdGl2ZUxhYmVscygpOmsucmVtb3ZlLmFjdGl2ZUxhYmVscyh0KX19LHRlc3Q6e3RvZ2dsZTpmdW5jdGlvbihlKXt2YXIgdD1rLmlzLm11bHRpcGxlKCk/ay5zaG93OmsudG9nZ2xlO2suaXMuYnViYmxlZExhYmVsQ2xpY2soZSl8fGsuaXMuYnViYmxlZEljb25DbGljayhlKXx8ay5kZXRlcm1pbmUuZXZlbnRPbkVsZW1lbnQoZSx0KSYmZS5wcmV2ZW50RGVmYXVsdCgpfSx0b3VjaDpmdW5jdGlvbihlKXtrLmRldGVybWluZS5ldmVudE9uRWxlbWVudChlLGZ1bmN0aW9uKCl7XCJ0b3VjaHN0YXJ0XCI9PWUudHlwZT9rLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLmhpZGUoKX0sUy5kZWxheS50b3VjaCk6XCJ0b3VjaG1vdmVcIj09ZS50eXBlJiZjbGVhclRpbWVvdXQoay50aW1lcil9KSxlLnN0b3BQcm9wYWdhdGlvbigpfSxoaWRlOmZ1bmN0aW9uKGUpe2suZGV0ZXJtaW5lLmV2ZW50SW5Nb2R1bGUoZSxrLmhpZGUpfX0sc2VsZWN0OnttdXRhdGlvbjpmdW5jdGlvbihlKXtrLmRlYnVnKFwiPHNlbGVjdD4gbW9kaWZpZWQsIHJlY3JlYXRpbmcgbWVudVwiKSxrLnNldHVwLnNlbGVjdCgpfX0sbWVudTp7bXV0YXRpb246ZnVuY3Rpb24odCl7dmFyIG49dFswXSxpPWUobi5hZGRlZE5vZGVzP24uYWRkZWROb2Rlc1swXTohMSksbz1lKG4ucmVtb3ZlZE5vZGVzP24ucmVtb3ZlZE5vZGVzWzBdOiExKSxhPWkuYWRkKG8pLHI9YS5pcyhELmFkZGl0aW9uKXx8YS5jbG9zZXN0KEQuYWRkaXRpb24pLmxlbmd0aD4wLHM9YS5pcyhELm1lc3NhZ2UpfHxhLmNsb3Nlc3QoRC5tZXNzYWdlKS5sZW5ndGg+MDtyfHxzPyhrLmRlYnVnKFwiVXBkYXRpbmcgaXRlbSBzZWxlY3RvciBjYWNoZVwiKSxrLnJlZnJlc2hJdGVtcygpKTooay5kZWJ1ZyhcIk1lbnUgbW9kaWZpZWQsIHVwZGF0aW5nIHNlbGVjdG9yIGNhY2hlXCIpLGsucmVmcmVzaCgpKX0sbW91c2Vkb3duOmZ1bmN0aW9uKCl7WT0hMH0sbW91c2V1cDpmdW5jdGlvbigpe1k9ITF9fSxpdGVtOnttb3VzZWVudGVyOmZ1bmN0aW9uKHQpe3ZhciBuPWUodC50YXJnZXQpLGk9ZSh0aGlzKSxvPWkuY2hpbGRyZW4oRC5tZW51KSxhPWkuc2libGluZ3MoRC5pdGVtKS5jaGlsZHJlbihELm1lbnUpLHI9by5sZW5ndGg+MCxzPW8uZmluZChuKS5sZW5ndGg+MDshcyYmciYmKGNsZWFyVGltZW91dChrLml0ZW1UaW1lciksay5pdGVtVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2sudmVyYm9zZShcIlNob3dpbmcgc3ViLW1lbnVcIixvKSxlLmVhY2goYSxmdW5jdGlvbigpe2suYW5pbWF0ZS5oaWRlKCExLGUodGhpcykpfSksay5hbmltYXRlLnNob3coITEsbyl9LFMuZGVsYXkuc2hvdyksdC5wcmV2ZW50RGVmYXVsdCgpKX0sbW91c2VsZWF2ZTpmdW5jdGlvbih0KXt2YXIgbj1lKHRoaXMpLmNoaWxkcmVuKEQubWVudSk7bi5sZW5ndGg+MCYmKGNsZWFyVGltZW91dChrLml0ZW1UaW1lciksay5pdGVtVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2sudmVyYm9zZShcIkhpZGluZyBzdWItbWVudVwiLG4pLGsuYW5pbWF0ZS5oaWRlKCExLG4pfSxTLmRlbGF5LmhpZGUpKX0sY2xpY2s6ZnVuY3Rpb24odCxuKXt2YXIgaT1lKHRoaXMpLG89ZSh0P3QudGFyZ2V0OlwiXCIpLGE9aS5maW5kKEQubWVudSkscj1rLmdldC5jaG9pY2VUZXh0KGkpLHM9ay5nZXQuY2hvaWNlVmFsdWUoaSxyKSxsPWEubGVuZ3RoPjAsYz1hLmZpbmQobykubGVuZ3RoPjA7Y3x8bCYmIVMuYWxsb3dDYXRlZ29yeVNlbGVjdGlvbnx8KGsuaXMuc2VhcmNoU2VsZWN0aW9uKCkmJihTLmFsbG93QWRkaXRpb25zJiZrLnJlbW92ZS51c2VyQWRkaXRpb24oKSxrLnJlbW92ZS5zZWFyY2hUZXJtKCksay5pcy5mb2N1c2VkT25TZWFyY2goKXx8MT09bnx8ay5mb2N1c1NlYXJjaCghMCkpLFMudXNlTGFiZWxzfHwoay5yZW1vdmUuZmlsdGVyZWRJdGVtKCksay5zZXQuc2Nyb2xsUG9zaXRpb24oaSkpLGsuZGV0ZXJtaW5lLnNlbGVjdEFjdGlvbi5jYWxsKHRoaXMscixzKSl9fSxkb2N1bWVudDp7a2V5ZG93bjpmdW5jdGlvbihlKXt2YXIgdD1lLndoaWNoLG49ay5pcy5pbk9iamVjdCh0LEUpO2lmKG4pe3ZhciBpPUkuZmluZChELmxhYmVsKSxvPWkuZmlsdGVyKFwiLlwiK1QuYWN0aXZlKSxhPShvLmRhdGEoUC52YWx1ZSksaS5pbmRleChvKSkscj1pLmxlbmd0aCxzPW8ubGVuZ3RoPjAsbD1vLmxlbmd0aD4xLGM9MD09PWEsdT1hKzE9PXIsZD1rLmlzLnNlYXJjaFNlbGVjdGlvbigpLGY9ay5pcy5mb2N1c2VkT25TZWFyY2goKSxtPWsuaXMuZm9jdXNlZCgpLGc9ZiYmMD09PWsuZ2V0LmNhcmV0UG9zaXRpb24oKTtpZihkJiYhcyYmIWYpcmV0dXJuO3Q9PUUubGVmdEFycm93PyFtJiYhZ3x8cz9zJiYoZS5zaGlmdEtleT9rLnZlcmJvc2UoXCJBZGRpbmcgcHJldmlvdXMgbGFiZWwgdG8gc2VsZWN0aW9uXCIpOihrLnZlcmJvc2UoXCJTZWxlY3RpbmcgcHJldmlvdXMgbGFiZWxcIiksaS5yZW1vdmVDbGFzcyhULmFjdGl2ZSkpLGMmJiFsP28uYWRkQ2xhc3MoVC5hY3RpdmUpOm8ucHJldihELnNpYmxpbmdMYWJlbCkuYWRkQ2xhc3MoVC5hY3RpdmUpLmVuZCgpLGUucHJldmVudERlZmF1bHQoKSk6KGsudmVyYm9zZShcIlNlbGVjdGluZyBwcmV2aW91cyBsYWJlbFwiKSxpLmxhc3QoKS5hZGRDbGFzcyhULmFjdGl2ZSkpOnQ9PUUucmlnaHRBcnJvdz8obSYmIXMmJmkuZmlyc3QoKS5hZGRDbGFzcyhULmFjdGl2ZSkscyYmKGUuc2hpZnRLZXk/ay52ZXJib3NlKFwiQWRkaW5nIG5leHQgbGFiZWwgdG8gc2VsZWN0aW9uXCIpOihrLnZlcmJvc2UoXCJTZWxlY3RpbmcgbmV4dCBsYWJlbFwiKSxpLnJlbW92ZUNsYXNzKFQuYWN0aXZlKSksdT9kP2Y/aS5yZW1vdmVDbGFzcyhULmFjdGl2ZSk6ay5mb2N1c1NlYXJjaCgpOmw/by5uZXh0KEQuc2libGluZ0xhYmVsKS5hZGRDbGFzcyhULmFjdGl2ZSk6by5hZGRDbGFzcyhULmFjdGl2ZSk6by5uZXh0KEQuc2libGluZ0xhYmVsKS5hZGRDbGFzcyhULmFjdGl2ZSksZS5wcmV2ZW50RGVmYXVsdCgpKSk6dD09RS5kZWxldGVLZXl8fHQ9PUUuYmFja3NwYWNlP3M/KGsudmVyYm9zZShcIlJlbW92aW5nIGFjdGl2ZSBsYWJlbHNcIiksdSYmZCYmIWYmJmsuZm9jdXNTZWFyY2goKSxvLmxhc3QoKS5uZXh0KEQuc2libGluZ0xhYmVsKS5hZGRDbGFzcyhULmFjdGl2ZSksay5yZW1vdmUuYWN0aXZlTGFiZWxzKG8pLGUucHJldmVudERlZmF1bHQoKSk6ZyYmIXMmJnQ9PUUuYmFja3NwYWNlJiYoay52ZXJib3NlKFwiUmVtb3ZpbmcgbGFzdCBsYWJlbCBvbiBpbnB1dCBiYWNrc3BhY2VcIiksbz1pLmxhc3QoKS5hZGRDbGFzcyhULmFjdGl2ZSksay5yZW1vdmUuYWN0aXZlTGFiZWxzKG8pKTpvLnJlbW92ZUNsYXNzKFQuYWN0aXZlKX19fSxrZXlkb3duOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2hpY2gsbj1rLmlzLmluT2JqZWN0KHQsRSk7aWYobil7dmFyIGksbyxhPVgubm90KEQudW5zZWxlY3RhYmxlKS5maWx0ZXIoXCIuXCIrVC5zZWxlY3RlZCkuZXEoMCkscj1RLmNoaWxkcmVuKFwiLlwiK1QuYWN0aXZlKS5lcSgwKSxzPWEubGVuZ3RoPjA/YTpyLGw9cy5sZW5ndGg+MD9zLnNpYmxpbmdzKFwiOm5vdCguXCIrVC5maWx0ZXJlZCtcIilcIikuYWRkQmFjaygpOlEuY2hpbGRyZW4oXCI6bm90KC5cIitULmZpbHRlcmVkK1wiKVwiKSxjPXMuY2hpbGRyZW4oRC5tZW51KSx1PXMuY2xvc2VzdChELm1lbnUpLGQ9dS5oYXNDbGFzcyhULnZpc2libGUpfHx1Lmhhc0NsYXNzKFQuYW5pbWF0aW5nKXx8dS5wYXJlbnQoRC5tZW51KS5sZW5ndGg+MCxmPWMubGVuZ3RoPjAsbT1zLmxlbmd0aD4wLGc9cy5ub3QoRC51bnNlbGVjdGFibGUpLmxlbmd0aD4wLHA9dD09RS5kZWxpbWl0ZXImJlMuYWxsb3dBZGRpdGlvbnMmJmsuaXMubXVsdGlwbGUoKSxoPVMuYWxsb3dBZGRpdGlvbnMmJlMuaGlkZUFkZGl0aW9ucyYmKHQ9PUUuZW50ZXJ8fHApJiZnO2lmKGgmJihrLnZlcmJvc2UoXCJTZWxlY3RpbmcgaXRlbSBmcm9tIGtleWJvYXJkIHNob3J0Y3V0XCIscyksay5ldmVudC5pdGVtLmNsaWNrLmNhbGwocyxlKSxrLmlzLnNlYXJjaFNlbGVjdGlvbigpJiZrLnJlbW92ZS5zZWFyY2hUZXJtKCkpLGsuaXMudmlzaWJsZSgpKXtpZigodD09RS5lbnRlcnx8cCkmJih0PT1FLmVudGVyJiZtJiZmJiYhUy5hbGxvd0NhdGVnb3J5U2VsZWN0aW9uPyhrLnZlcmJvc2UoXCJQcmVzc2VkIGVudGVyIG9uIHVuc2VsZWN0YWJsZSBjYXRlZ29yeSwgb3BlbmluZyBzdWIgbWVudVwiKSx0PUUucmlnaHRBcnJvdyk6ZyYmKGsudmVyYm9zZShcIlNlbGVjdGluZyBpdGVtIGZyb20ga2V5Ym9hcmQgc2hvcnRjdXRcIixzKSxrLmV2ZW50Lml0ZW0uY2xpY2suY2FsbChzLGUpLGsuaXMuc2VhcmNoU2VsZWN0aW9uKCkmJmsucmVtb3ZlLnNlYXJjaFRlcm0oKSksZS5wcmV2ZW50RGVmYXVsdCgpKSxtJiYodD09RS5sZWZ0QXJyb3cmJihvPXVbMF0hPT1RWzBdLG8mJihrLnZlcmJvc2UoXCJMZWZ0IGtleSBwcmVzc2VkLCBjbG9zaW5nIHN1Yi1tZW51XCIpLGsuYW5pbWF0ZS5oaWRlKCExLHUpLHMucmVtb3ZlQ2xhc3MoVC5zZWxlY3RlZCksdS5jbG9zZXN0KEQuaXRlbSkuYWRkQ2xhc3MoVC5zZWxlY3RlZCksZS5wcmV2ZW50RGVmYXVsdCgpKSksdD09RS5yaWdodEFycm93JiZmJiYoay52ZXJib3NlKFwiUmlnaHQga2V5IHByZXNzZWQsIG9wZW5pbmcgc3ViLW1lbnVcIiksay5hbmltYXRlLnNob3coITEsYykscy5yZW1vdmVDbGFzcyhULnNlbGVjdGVkKSxjLmZpbmQoRC5pdGVtKS5lcSgwKS5hZGRDbGFzcyhULnNlbGVjdGVkKSxlLnByZXZlbnREZWZhdWx0KCkpKSx0PT1FLnVwQXJyb3cpe2lmKGk9bSYmZD9zLnByZXZBbGwoRC5pdGVtK1wiOm5vdChcIitELnVuc2VsZWN0YWJsZStcIilcIikuZXEoMCk6WC5lcSgwKSxsLmluZGV4KGkpPDApcmV0dXJuIGsudmVyYm9zZShcIlVwIGtleSBwcmVzc2VkIGJ1dCByZWFjaGVkIHRvcCBvZiBjdXJyZW50IG1lbnVcIiksdm9pZCBlLnByZXZlbnREZWZhdWx0KCk7ay52ZXJib3NlKFwiVXAga2V5IHByZXNzZWQsIGNoYW5naW5nIGFjdGl2ZSBpdGVtXCIpLHMucmVtb3ZlQ2xhc3MoVC5zZWxlY3RlZCksaS5hZGRDbGFzcyhULnNlbGVjdGVkKSxrLnNldC5zY3JvbGxQb3NpdGlvbihpKSxTLnNlbGVjdE9uS2V5ZG93biYmay5pcy5zaW5nbGUoKSYmay5zZXQuc2VsZWN0ZWRJdGVtKGkpLGUucHJldmVudERlZmF1bHQoKX1pZih0PT1FLmRvd25BcnJvdyl7aWYoaT1tJiZkP2k9cy5uZXh0QWxsKEQuaXRlbStcIjpub3QoXCIrRC51bnNlbGVjdGFibGUrXCIpXCIpLmVxKDApOlguZXEoMCksMD09PWkubGVuZ3RoKXJldHVybiBrLnZlcmJvc2UoXCJEb3duIGtleSBwcmVzc2VkIGJ1dCByZWFjaGVkIGJvdHRvbSBvZiBjdXJyZW50IG1lbnVcIiksdm9pZCBlLnByZXZlbnREZWZhdWx0KCk7ay52ZXJib3NlKFwiRG93biBrZXkgcHJlc3NlZCwgY2hhbmdpbmcgYWN0aXZlIGl0ZW1cIiksWC5yZW1vdmVDbGFzcyhULnNlbGVjdGVkKSxpLmFkZENsYXNzKFQuc2VsZWN0ZWQpLGsuc2V0LnNjcm9sbFBvc2l0aW9uKGkpLFMuc2VsZWN0T25LZXlkb3duJiZrLmlzLnNpbmdsZSgpJiZrLnNldC5zZWxlY3RlZEl0ZW0oaSksZS5wcmV2ZW50RGVmYXVsdCgpfXQ9PUUucGFnZVVwJiYoay5zY3JvbGxQYWdlKFwidXBcIiksZS5wcmV2ZW50RGVmYXVsdCgpKSx0PT1FLnBhZ2VEb3duJiYoay5zY3JvbGxQYWdlKFwiZG93blwiKSxlLnByZXZlbnREZWZhdWx0KCkpLHQ9PUUuZXNjYXBlJiYoay52ZXJib3NlKFwiRXNjYXBlIGtleSBwcmVzc2VkLCBjbG9zaW5nIGRyb3Bkb3duXCIpLGsuaGlkZSgpKX1lbHNlIHAmJmUucHJldmVudERlZmF1bHQoKSx0IT1FLmRvd25BcnJvd3x8ay5pcy52aXNpYmxlKCl8fChrLnZlcmJvc2UoXCJEb3duIGtleSBwcmVzc2VkLCBzaG93aW5nIGRyb3Bkb3duXCIpLGsuc2VsZWN0LmZpcnN0VW5maWx0ZXJlZCgpLGsuc2hvdygpLGUucHJldmVudERlZmF1bHQoKSl9ZWxzZSBrLmhhcy5zZWFyY2goKXx8ay5zZXQuc2VsZWN0ZWRMZXR0ZXIoU3RyaW5nLmZyb21DaGFyQ29kZSh0KSl9fSx0cmlnZ2VyOntjaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT1uLmNyZWF0ZUV2ZW50KFwiSFRNTEV2ZW50c1wiKSx0PVVbMF07dCYmKGsudmVyYm9zZShcIlRyaWdnZXJpbmcgbmF0aXZlIGNoYW5nZSBldmVudFwiKSxlLmluaXRFdmVudChcImNoYW5nZVwiLCEwLCExKSx0LmRpc3BhdGNoRXZlbnQoZSkpfX0sZGV0ZXJtaW5lOntzZWxlY3RBY3Rpb246ZnVuY3Rpb24odCxuKXtrLnZlcmJvc2UoXCJEZXRlcm1pbmluZyBhY3Rpb25cIixTLmFjdGlvbiksZS5pc0Z1bmN0aW9uKGsuYWN0aW9uW1MuYWN0aW9uXSk/KGsudmVyYm9zZShcIlRyaWdnZXJpbmcgcHJlc2V0IGFjdGlvblwiLFMuYWN0aW9uLHQsbiksay5hY3Rpb25bUy5hY3Rpb25dLmNhbGwoWix0LG4sdGhpcykpOmUuaXNGdW5jdGlvbihTLmFjdGlvbik/KGsudmVyYm9zZShcIlRyaWdnZXJpbmcgdXNlciBhY3Rpb25cIixTLmFjdGlvbix0LG4pLFMuYWN0aW9uLmNhbGwoWix0LG4sdGhpcykpOmsuZXJyb3IocS5hY3Rpb24sUy5hY3Rpb24pfSxldmVudEluTW9kdWxlOmZ1bmN0aW9uKHQsaSl7dmFyIG89ZSh0LnRhcmdldCksYT1vLmNsb3Nlc3Qobi5kb2N1bWVudEVsZW1lbnQpLmxlbmd0aD4wLHI9by5jbG9zZXN0KEkpLmxlbmd0aD4wO3JldHVybiBpPWUuaXNGdW5jdGlvbihpKT9pOmZ1bmN0aW9uKCl7fSxhJiYhcj8oay52ZXJib3NlKFwiVHJpZ2dlcmluZyBldmVudFwiLGkpLGkoKSwhMCk6KGsudmVyYm9zZShcIkV2ZW50IG9jY3VycmVkIGluIGRyb3Bkb3duLCBjYW5jZWxpbmcgY2FsbGJhY2tcIiksITEpfSxldmVudE9uRWxlbWVudDpmdW5jdGlvbih0LGkpe3ZhciBvPWUodC50YXJnZXQpLGE9by5jbG9zZXN0KEQuc2libGluZ0xhYmVsKSxyPW4uYm9keS5jb250YWlucyh0LnRhcmdldCkscz0wPT09SS5maW5kKGEpLmxlbmd0aCxsPTA9PT1vLmNsb3Nlc3QoUSkubGVuZ3RoO3JldHVybiBpPWUuaXNGdW5jdGlvbihpKT9pOmZ1bmN0aW9uKCl7fSxyJiZzJiZsPyhrLnZlcmJvc2UoXCJUcmlnZ2VyaW5nIGV2ZW50XCIsaSksaSgpLCEwKTooay52ZXJib3NlKFwiRXZlbnQgb2NjdXJyZWQgaW4gZHJvcGRvd24gbWVudSwgY2FuY2VsaW5nIGNhbGxiYWNrXCIpLCExKX19LGFjdGlvbjp7bm90aGluZzpmdW5jdGlvbigpe30sYWN0aXZhdGU6ZnVuY3Rpb24odCxuLG8pe2lmKG49biE9PWk/bjp0LGsuY2FuLmFjdGl2YXRlKGUobykpKXtpZihrLnNldC5zZWxlY3RlZChuLGUobykpLGsuaXMubXVsdGlwbGUoKSYmIWsuaXMuYWxsRmlsdGVyZWQoKSlyZXR1cm47ay5oaWRlQW5kQ2xlYXIoKX19LHNlbGVjdDpmdW5jdGlvbih0LG4sbyl7aWYobj1uIT09aT9uOnQsay5jYW4uYWN0aXZhdGUoZShvKSkpe2lmKGsuc2V0LnZhbHVlKG4sZShvKSksay5pcy5tdWx0aXBsZSgpJiYhay5pcy5hbGxGaWx0ZXJlZCgpKXJldHVybjtrLmhpZGVBbmRDbGVhcigpfX0sY29tYm86ZnVuY3Rpb24odCxuLG8pe249biE9PWk/bjp0LGsuc2V0LnNlbGVjdGVkKG4sZShvKSksay5oaWRlQW5kQ2xlYXIoKX0saGlkZTpmdW5jdGlvbihlLHQsbil7ay5zZXQudmFsdWUodCxlKSxrLmhpZGVBbmRDbGVhcigpfX0sZ2V0OntpZDpmdW5jdGlvbigpe3JldHVybiB4fSxkZWZhdWx0VGV4dDpmdW5jdGlvbigpe3JldHVybiBJLmRhdGEoUC5kZWZhdWx0VGV4dCl9LGRlZmF1bHRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBJLmRhdGEoUC5kZWZhdWx0VmFsdWUpfSxwbGFjZWhvbGRlclRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gSS5kYXRhKFAucGxhY2Vob2xkZXJUZXh0KXx8XCJcIn0sdGV4dDpmdW5jdGlvbigpe3JldHVybiBOLnRleHQoKX0scXVlcnk6ZnVuY3Rpb24oKXtyZXR1cm4gZS50cmltKFYudmFsKCkpfSxzZWFyY2hXaWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lIT09aT9lOlYudmFsKCksSC50ZXh0KGUpLE1hdGguY2VpbChILndpZHRoKCkrMSl9LHNlbGVjdGlvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIHQsbj1rLmdldC52YWx1ZXMoKTtyZXR1cm4gdD1rLmlzLm11bHRpcGxlKCk/ZS5pc0FycmF5KG4pP24ubGVuZ3RoOjA6XCJcIiE9PWsuZ2V0LnZhbHVlKCk/MTowfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3JldHVyblwiYXV0b1wiPT1TLnRyYW5zaXRpb24/ay5pcy51cHdhcmQoZSk/XCJzbGlkZSB1cFwiOlwic2xpZGUgZG93blwiOlMudHJhbnNpdGlvbn0sdXNlclZhbHVlczpmdW5jdGlvbigpe3ZhciB0PWsuZ2V0LnZhbHVlcygpO3JldHVybiEhdCYmKHQ9ZS5pc0FycmF5KHQpP3Q6W3RdLGUuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBrLmdldC5pdGVtKGUpPT09ITF9KSl9LHVuaXF1ZUFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBlLmdyZXAodCxmdW5jdGlvbihuLGkpe3JldHVybiBlLmluQXJyYXkobix0KT09PWl9KX0sY2FyZXRQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBlLHQsaT1WLmdldCgwKTtyZXR1cm5cInNlbGVjdGlvblN0YXJ0XCJpbiBpP2kuc2VsZWN0aW9uU3RhcnQ6bi5zZWxlY3Rpb24/KGkuZm9jdXMoKSxlPW4uc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksdD1lLnRleHQubGVuZ3RoLGUubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLWkudmFsdWUubGVuZ3RoKSxlLnRleHQubGVuZ3RoLXQpOnZvaWQgMH0sdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1VLmxlbmd0aD4wP1UudmFsKCk6SS5kYXRhKFAudmFsdWUpLG49ZS5pc0FycmF5KHQpJiYxPT09dC5sZW5ndGgmJlwiXCI9PT10WzBdO3JldHVybiB0PT09aXx8bj9cIlwiOnR9LHZhbHVlczpmdW5jdGlvbigpe3ZhciBlPWsuZ2V0LnZhbHVlKCk7cmV0dXJuXCJcIj09PWU/XCJcIjohay5oYXMuc2VsZWN0SW5wdXQoKSYmay5pcy5tdWx0aXBsZSgpP1wic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoUy5kZWxpbWl0ZXIpOlwiXCI6ZX0scmVtb3RlVmFsdWVzOmZ1bmN0aW9uKCl7dmFyIHQ9ay5nZXQudmFsdWVzKCksbj0hMTtyZXR1cm4gdCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1bdF0pLGUuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7dmFyIGk9ay5yZWFkLnJlbW90ZURhdGEodCk7ay52ZXJib3NlKFwiUmVzdG9yaW5nIHZhbHVlIGZyb20gc2Vzc2lvbiBkYXRhXCIsaSx0KSxpJiYobnx8KG49e30pLG5bdF09aSl9KSksbn0sY2hvaWNlVGV4dDpmdW5jdGlvbih0LG4pe2lmKG49biE9PWk/bjpTLnByZXNlcnZlSFRNTCx0KXJldHVybiB0LmZpbmQoRC5tZW51KS5sZW5ndGg+MCYmKGsudmVyYm9zZShcIlJldHJpZXZpbmcgdGV4dCBvZiBlbGVtZW50IHdpdGggc3ViLW1lbnVcIiksdD10LmNsb25lKCksdC5maW5kKEQubWVudSkucmVtb3ZlKCksdC5maW5kKEQubWVudUljb24pLnJlbW92ZSgpKSx0LmRhdGEoUC50ZXh0KSE9PWk/dC5kYXRhKFAudGV4dCk6bj9lLnRyaW0odC5odG1sKCkpOmUudHJpbSh0LnRleHQoKSl9LGNob2ljZVZhbHVlOmZ1bmN0aW9uKHQsbil7cmV0dXJuIG49bnx8ay5nZXQuY2hvaWNlVGV4dCh0KSwhIXQmJih0LmRhdGEoUC52YWx1ZSkhPT1pP1N0cmluZyh0LmRhdGEoUC52YWx1ZSkpOlwic3RyaW5nXCI9PXR5cGVvZiBuP2UudHJpbShuLnRvTG93ZXJDYXNlKCkpOlN0cmluZyhuKSl9LGlucHV0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT1WWzBdO3JldHVybiEhZSYmKGUub25pbnB1dCE9PWk/XCJpbnB1dFwiOmUub25wcm9wZXJ0eWNoYW5nZSE9PWk/XCJwcm9wZXJ0eWNoYW5nZVwiOlwia2V5dXBcIil9LHNlbGVjdFZhbHVlczpmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0LnZhbHVlcz1bXSxJLmZpbmQoXCJvcHRpb25cIikuZWFjaChmdW5jdGlvbigpe3ZhciBuPWUodGhpcyksbz1uLmh0bWwoKSxhPW4uYXR0cihcImRpc2FibGVkXCIpLHI9bi5hdHRyKFwidmFsdWVcIikhPT1pP24uYXR0cihcInZhbHVlXCIpOm87XCJhdXRvXCI9PT1TLnBsYWNlaG9sZGVyJiZcIlwiPT09cj90LnBsYWNlaG9sZGVyPW86dC52YWx1ZXMucHVzaCh7bmFtZTpvLHZhbHVlOnIsZGlzYWJsZWQ6YX0pfSksUy5wbGFjZWhvbGRlciYmXCJhdXRvXCIhPT1TLnBsYWNlaG9sZGVyJiYoay5kZWJ1ZyhcIlNldHRpbmcgcGxhY2Vob2xkZXIgdmFsdWUgdG9cIixTLnBsYWNlaG9sZGVyKSx0LnBsYWNlaG9sZGVyPVMucGxhY2Vob2xkZXIpLFMuc29ydFNlbGVjdD8odC52YWx1ZXMuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLm5hbWU+dC5uYW1lPzE6LTF9KSxrLmRlYnVnKFwiUmV0cmlldmVkIGFuZCBzb3J0ZWQgdmFsdWVzIGZyb20gc2VsZWN0XCIsdCkpOmsuZGVidWcoXCJSZXRyaWV2ZWQgdmFsdWVzIGZyb20gc2VsZWN0XCIsdCksdH0sYWN0aXZlSXRlbTpmdW5jdGlvbigpe3JldHVybiBYLmZpbHRlcihcIi5cIitULmFjdGl2ZSl9LHNlbGVjdGVkSXRlbTpmdW5jdGlvbigpe3ZhciBlPVgubm90KEQudW5zZWxlY3RhYmxlKS5maWx0ZXIoXCIuXCIrVC5zZWxlY3RlZCk7cmV0dXJuIGUubGVuZ3RoPjA/ZTpYLmVxKDApfSxpdGVtV2l0aEFkZGl0aW9uczpmdW5jdGlvbihlKXt2YXIgdD1rLmdldC5pdGVtKGUpLG49ay5jcmVhdGUudXNlckNob2ljZShlKSxpPW4mJm4ubGVuZ3RoPjA7cmV0dXJuIGkmJih0PXQubGVuZ3RoPjA/dC5hZGQobik6biksdH0saXRlbTpmdW5jdGlvbih0LG4pe3ZhciBvLGEscj0hMTtyZXR1cm4gdD10IT09aT90OmsuZ2V0LnZhbHVlcygpIT09aT9rLmdldC52YWx1ZXMoKTprLmdldC50ZXh0KCksbz1hP3QubGVuZ3RoPjA6dCE9PWkmJm51bGwhPT10LGE9ay5pcy5tdWx0aXBsZSgpJiZlLmlzQXJyYXkodCksbj1cIlwiPT09dHx8MD09PXR8fChufHwhMSksbyYmWC5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89ZSh0aGlzKSxzPWsuZ2V0LmNob2ljZVRleHQobyksbD1rLmdldC5jaG9pY2VWYWx1ZShvLHMpO2lmKG51bGwhPT1sJiZsIT09aSlpZihhKWUuaW5BcnJheShTdHJpbmcobCksdCk9PT0tMSYmZS5pbkFycmF5KHMsdCk9PT0tMXx8KHI9cj9yLmFkZChvKTpvKTtlbHNlIGlmKG4pe2lmKGsudmVyYm9zZShcIkFtYmlndW91cyBkcm9wZG93biB2YWx1ZSB1c2luZyBzdHJpY3QgdHlwZSBjaGVja1wiLG8sdCksbD09PXR8fHM9PT10KXJldHVybiByPW8sITB9ZWxzZSBpZihTdHJpbmcobCk9PVN0cmluZyh0KXx8cz09dClyZXR1cm4gay52ZXJib3NlKFwiRm91bmQgc2VsZWN0IGl0ZW0gYnkgdmFsdWVcIixsLHQpLHI9bywhMH0pLHJ9fSxjaGVjazp7bWF4U2VsZWN0aW9uczpmdW5jdGlvbihlKXtyZXR1cm4hUy5tYXhTZWxlY3Rpb25zfHwoZT1lIT09aT9lOmsuZ2V0LnNlbGVjdGlvbkNvdW50KCksZT49Uy5tYXhTZWxlY3Rpb25zPyhrLmRlYnVnKFwiTWF4aW11bSBzZWxlY3Rpb24gY291bnQgcmVhY2hlZFwiKSxTLnVzZUxhYmVscyYmKFguYWRkQ2xhc3MoVC5maWx0ZXJlZCksay5hZGQubWVzc2FnZShBLm1heFNlbGVjdGlvbnMpKSwhMCk6KGsudmVyYm9zZShcIk5vIGxvbmdlciBhdCBtYXhpbXVtIHNlbGVjdGlvbiBjb3VudFwiKSxrLnJlbW92ZS5tZXNzYWdlKCksay5yZW1vdmUuZmlsdGVyZWRJdGVtKCksay5pcy5zZWFyY2hTZWxlY3Rpb24oKSYmay5maWx0ZXJJdGVtcygpLCExKSl9fSxyZXN0b3JlOntkZWZhdWx0czpmdW5jdGlvbigpe2suY2xlYXIoKSxrLnJlc3RvcmUuZGVmYXVsdFRleHQoKSxrLnJlc3RvcmUuZGVmYXVsdFZhbHVlKCl9LGRlZmF1bHRUZXh0OmZ1bmN0aW9uKCl7dmFyIGU9ay5nZXQuZGVmYXVsdFRleHQoKSx0PWsuZ2V0LnBsYWNlaG9sZGVyVGV4dDtlPT09dD8oay5kZWJ1ZyhcIlJlc3RvcmluZyBkZWZhdWx0IHBsYWNlaG9sZGVyIHRleHRcIixlKSxrLnNldC5wbGFjZWhvbGRlclRleHQoZSkpOihrLmRlYnVnKFwiUmVzdG9yaW5nIGRlZmF1bHQgdGV4dFwiLGUpLGsuc2V0LnRleHQoZSkpfSxwbGFjZWhvbGRlclRleHQ6ZnVuY3Rpb24oKXtrLnNldC5wbGFjZWhvbGRlclRleHQoKX0sZGVmYXVsdFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ay5nZXQuZGVmYXVsdFZhbHVlKCk7ZSE9PWkmJihrLmRlYnVnKFwiUmVzdG9yaW5nIGRlZmF1bHQgdmFsdWVcIixlKSxcIlwiIT09ZT8oay5zZXQudmFsdWUoZSksay5zZXQuc2VsZWN0ZWQoKSk6KGsucmVtb3ZlLmFjdGl2ZUl0ZW0oKSxrLnJlbW92ZS5zZWxlY3RlZEl0ZW0oKSkpfSxsYWJlbHM6ZnVuY3Rpb24oKXtTLmFsbG93QWRkaXRpb25zJiYoUy51c2VMYWJlbHN8fChrLmVycm9yKHEubGFiZWxzKSxTLnVzZUxhYmVscz0hMCksay5kZWJ1ZyhcIlJlc3RvcmluZyBzZWxlY3RlZCB2YWx1ZXNcIiksay5jcmVhdGUudXNlckxhYmVscygpKSxrLmNoZWNrLm1heFNlbGVjdGlvbnMoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtrLnJlc3RvcmUudmFsdWVzKCksay5pcy5tdWx0aXBsZSgpPyhrLmRlYnVnKFwiUmVzdG9yaW5nIHByZXZpb3VzbHkgc2VsZWN0ZWQgdmFsdWVzIGFuZCBsYWJlbHNcIiksay5yZXN0b3JlLmxhYmVscygpKTprLmRlYnVnKFwiUmVzdG9yaW5nIHByZXZpb3VzbHkgc2VsZWN0ZWQgdmFsdWVzXCIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtrLnNldC5pbml0aWFsTG9hZCgpLFMuYXBpU2V0dGluZ3MmJlMuc2F2ZVJlbW90ZURhdGEmJmsuZ2V0LnJlbW90ZVZhbHVlcygpP2sucmVzdG9yZS5yZW1vdGVWYWx1ZXMoKTprLnNldC5zZWxlY3RlZCgpLGsucmVtb3ZlLmluaXRpYWxMb2FkKCl9LHJlbW90ZVZhbHVlczpmdW5jdGlvbigpe3ZhciB0PWsuZ2V0LnJlbW90ZVZhbHVlcygpO2suZGVidWcoXCJSZWNyZWF0aW5nIHNlbGVjdGVkIGZyb20gc2Vzc2lvbiBkYXRhXCIsdCksdCYmKGsuaXMuc2luZ2xlKCk/ZS5lYWNoKHQsZnVuY3Rpb24oZSx0KXtrLnNldC50ZXh0KHQpfSk6ZS5lYWNoKHQsZnVuY3Rpb24oZSx0KXtrLmFkZC5sYWJlbChlLHQpfSkpfX0scmVhZDp7cmVtb3RlRGF0YTpmdW5jdGlvbihlKXt2YXIgbjtyZXR1cm4gdC5TdG9yYWdlPT09aT92b2lkIGsuZXJyb3IocS5ub1N0b3JhZ2UpOihuPXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZSksbiE9PWkmJm4pfX0sc2F2ZTp7ZGVmYXVsdHM6ZnVuY3Rpb24oKXtrLnNhdmUuZGVmYXVsdFRleHQoKSxrLnNhdmUucGxhY2Vob2xkZXJUZXh0KCksay5zYXZlLmRlZmF1bHRWYWx1ZSgpfSxkZWZhdWx0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1rLmdldC52YWx1ZSgpO2sudmVyYm9zZShcIlNhdmluZyBkZWZhdWx0IHZhbHVlIGFzXCIsZSksSS5kYXRhKFAuZGVmYXVsdFZhbHVlLGUpfSxkZWZhdWx0VGV4dDpmdW5jdGlvbigpe3ZhciBlPWsuZ2V0LnRleHQoKTtrLnZlcmJvc2UoXCJTYXZpbmcgZGVmYXVsdCB0ZXh0IGFzXCIsZSksSS5kYXRhKFAuZGVmYXVsdFRleHQsZSl9LHBsYWNlaG9sZGVyVGV4dDpmdW5jdGlvbigpe3ZhciBlO1MucGxhY2Vob2xkZXIhPT0hMSYmTi5oYXNDbGFzcyhULnBsYWNlaG9sZGVyKSYmKGU9ay5nZXQudGV4dCgpLGsudmVyYm9zZShcIlNhdmluZyBwbGFjZWhvbGRlciB0ZXh0IGFzXCIsZSksSS5kYXRhKFAucGxhY2Vob2xkZXJUZXh0LGUpKX0scmVtb3RlRGF0YTpmdW5jdGlvbihlLG4pe3JldHVybiB0LlN0b3JhZ2U9PT1pP3ZvaWQgay5lcnJvcihxLm5vU3RvcmFnZSk6KGsudmVyYm9zZShcIlNhdmluZyByZW1vdGUgZGF0YSB0byBzZXNzaW9uIHN0b3JhZ2VcIixuLGUpLHZvaWQgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShuLGUpKX19LGNsZWFyOmZ1bmN0aW9uKCl7ay5pcy5tdWx0aXBsZSgpJiZTLnVzZUxhYmVscz9rLnJlbW92ZS5sYWJlbHMoKTooay5yZW1vdmUuYWN0aXZlSXRlbSgpLGsucmVtb3ZlLnNlbGVjdGVkSXRlbSgpKSxrLnNldC5wbGFjZWhvbGRlclRleHQoKSxrLmNsZWFyVmFsdWUoKX0sY2xlYXJWYWx1ZTpmdW5jdGlvbigpe2suc2V0LnZhbHVlKFwiXCIpfSxzY3JvbGxQYWdlOmZ1bmN0aW9uKGUsdCl7dmFyIG4saSxvLGE9dHx8ay5nZXQuc2VsZWN0ZWRJdGVtKCkscj1hLmNsb3Nlc3QoRC5tZW51KSxzPXIub3V0ZXJIZWlnaHQoKSxsPXIuc2Nyb2xsVG9wKCksYz1YLmVxKDApLm91dGVySGVpZ2h0KCksdT1NYXRoLmZsb29yKHMvYyksZD0oci5wcm9wKFwic2Nyb2xsSGVpZ2h0XCIpLFwidXBcIj09ZT9sLWMqdTpsK2MqdSksZj1YLm5vdChELnVuc2VsZWN0YWJsZSk7bz1cInVwXCI9PWU/Zi5pbmRleChhKS11OmYuaW5kZXgoYSkrdSxuPVwidXBcIj09ZT9vPj0wOm88Zi5sZW5ndGgsaT1uP2YuZXEobyk6XCJ1cFwiPT1lP2YuZmlyc3QoKTpmLmxhc3QoKSxpLmxlbmd0aD4wJiYoay5kZWJ1ZyhcIlNjcm9sbGluZyBwYWdlXCIsZSxpKSxhLnJlbW92ZUNsYXNzKFQuc2VsZWN0ZWQpLGkuYWRkQ2xhc3MoVC5zZWxlY3RlZCksUy5zZWxlY3RPbktleWRvd24mJmsuaXMuc2luZ2xlKCkmJmsuc2V0LnNlbGVjdGVkSXRlbShpKSxyLnNjcm9sbFRvcChkKSl9LHNldDp7ZmlsdGVyZWQ6ZnVuY3Rpb24oKXt2YXIgZT1rLmlzLm11bHRpcGxlKCksdD1rLmlzLnNlYXJjaFNlbGVjdGlvbigpLG49ZSYmdCxpPXQ/ay5nZXQucXVlcnkoKTpcIlwiLG89XCJzdHJpbmdcIj09dHlwZW9mIGkmJmkubGVuZ3RoPjAsYT1rLmdldC5zZWFyY2hXaWR0aCgpLHI9XCJcIiE9PWk7ZSYmbyYmKGsudmVyYm9zZShcIkFkanVzdGluZyBpbnB1dCB3aWR0aFwiLGEsUy5nbHlwaFdpZHRoKSxWLmNzcyhcIndpZHRoXCIsYSkpLG98fG4mJnI/KGsudmVyYm9zZShcIkhpZGluZyBwbGFjZWhvbGRlciB0ZXh0XCIpLE4uYWRkQ2xhc3MoVC5maWx0ZXJlZCkpOighZXx8biYmIXIpJiYoay52ZXJib3NlKFwiU2hvd2luZyBwbGFjZWhvbGRlciB0ZXh0XCIpLE4ucmVtb3ZlQ2xhc3MoVC5maWx0ZXJlZCkpfSxlbXB0eTpmdW5jdGlvbigpe0kuYWRkQ2xhc3MoVC5lbXB0eSl9LGxvYWRpbmc6ZnVuY3Rpb24oKXtJLmFkZENsYXNzKFQubG9hZGluZyl9LHBsYWNlaG9sZGVyVGV4dDpmdW5jdGlvbihlKXtlPWV8fGsuZ2V0LnBsYWNlaG9sZGVyVGV4dCgpLGsuZGVidWcoXCJTZXR0aW5nIHBsYWNlaG9sZGVyIHRleHRcIixlKSxrLnNldC50ZXh0KGUpLE4uYWRkQ2xhc3MoVC5wbGFjZWhvbGRlcil9LHRhYmJhYmxlOmZ1bmN0aW9uKCl7ay5oYXMuc2VhcmNoKCk/KGsuZGVidWcoXCJBZGRlZCB0YWJpbmRleCB0byBzZWFyY2hhYmxlIGRyb3Bkb3duXCIpLFYudmFsKFwiXCIpLmF0dHIoXCJ0YWJpbmRleFwiLDApLFEuYXR0cihcInRhYmluZGV4XCIsLTEpKTooay5kZWJ1ZyhcIkFkZGVkIHRhYmluZGV4IHRvIGRyb3Bkb3duXCIpLEkuYXR0cihcInRhYmluZGV4XCIpPT09aSYmKEkuYXR0cihcInRhYmluZGV4XCIsMCksUS5hdHRyKFwidGFiaW5kZXhcIiwtMSkpKX0saW5pdGlhbExvYWQ6ZnVuY3Rpb24oKXtrLnZlcmJvc2UoXCJTZXR0aW5nIGluaXRpYWwgbG9hZFwiKSxoPSEwfSxhY3RpdmVJdGVtOmZ1bmN0aW9uKGUpe1MuYWxsb3dBZGRpdGlvbnMmJmUuZmlsdGVyKEQuYWRkaXRpb24pLmxlbmd0aD4wP2UuYWRkQ2xhc3MoVC5maWx0ZXJlZCk6ZS5hZGRDbGFzcyhULmFjdGl2ZSl9LHBhcnRpYWxTZWFyY2g6ZnVuY3Rpb24oZSl7dmFyIHQ9ay5nZXQucXVlcnkoKS5sZW5ndGg7Vi52YWwoZS5zdWJzdHIoMCx0KSl9LHNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxhLHIscyxsLGMsdSxkLGY9NTtlPWV8fGsuZ2V0LnNlbGVjdGVkSXRlbSgpLG49ZS5jbG9zZXN0KEQubWVudSksbz1lJiZlLmxlbmd0aD4wLHQ9dCE9PWkmJnQsZSYmbi5sZW5ndGg+MCYmbyYmKHI9ZS5wb3NpdGlvbigpLnRvcCxuLmFkZENsYXNzKFQubG9hZGluZyksbD1uLnNjcm9sbFRvcCgpLHM9bi5vZmZzZXQoKS50b3Ascj1lLm9mZnNldCgpLnRvcCxhPWwtcytyLHR8fChjPW4uaGVpZ2h0KCksZD1sK2M8YStmLHU9YS1mPGwpLGsuZGVidWcoXCJTY3JvbGxpbmcgdG8gYWN0aXZlIGl0ZW1cIixhKSwodHx8dXx8ZCkmJm4uc2Nyb2xsVG9wKGEpLG4ucmVtb3ZlQ2xhc3MoVC5sb2FkaW5nKSl9LHRleHQ6ZnVuY3Rpb24oZSl7XCJzZWxlY3RcIiE9PVMuYWN0aW9uJiYoXCJjb21ib1wiPT1TLmFjdGlvbj8oay5kZWJ1ZyhcIkNoYW5naW5nIGNvbWJvIGJ1dHRvbiB0ZXh0XCIsZSxCKSxTLnByZXNlcnZlSFRNTD9CLmh0bWwoZSk6Qi50ZXh0KGUpKTooZSE9PWsuZ2V0LnBsYWNlaG9sZGVyVGV4dCgpJiZOLnJlbW92ZUNsYXNzKFQucGxhY2Vob2xkZXIpLGsuZGVidWcoXCJDaGFuZ2luZyB0ZXh0XCIsZSxOKSxOLnJlbW92ZUNsYXNzKFQuZmlsdGVyZWQpLFMucHJlc2VydmVIVE1MP04uaHRtbChlKTpOLnRleHQoZSkpKX0sc2VsZWN0ZWRJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PWsuZ2V0LmNob2ljZVZhbHVlKGUpLG49ay5nZXQuY2hvaWNlVGV4dChlLCExKTtrLmRlYnVnKFwiU2V0dGluZyB1c2VyIHNlbGVjdGlvbiB0byBpdGVtXCIsZSksay5yZW1vdmUuYWN0aXZlSXRlbSgpLGsuc2V0LnBhcnRpYWxTZWFyY2gobiksay5zZXQuYWN0aXZlSXRlbShlKSxrLnNldC5zZWxlY3RlZCh0LGUpLGsuc2V0LnRleHQobil9LHNlbGVjdGVkTGV0dGVyOmZ1bmN0aW9uKHQpe3ZhciBuLGk9WC5maWx0ZXIoXCIuXCIrVC5zZWxlY3RlZCksbz1pLmxlbmd0aD4wJiZrLmhhcy5maXJzdExldHRlcihpLHQpLGE9ITE7byYmKG49aS5uZXh0QWxsKFgpLmVxKDApLGsuaGFzLmZpcnN0TGV0dGVyKG4sdCkmJihhPW4pKSxhfHxYLmVhY2goZnVuY3Rpb24oKXtpZihrLmhhcy5maXJzdExldHRlcihlKHRoaXMpLHQpKXJldHVybiBhPWUodGhpcyksITF9KSxhJiYoay52ZXJib3NlKFwiU2Nyb2xsaW5nIHRvIG5leHQgdmFsdWUgd2l0aCBsZXR0ZXJcIix0KSxrLnNldC5zY3JvbGxQb3NpdGlvbihhKSxpLnJlbW92ZUNsYXNzKFQuc2VsZWN0ZWQpLGEuYWRkQ2xhc3MoVC5zZWxlY3RlZCksUy5zZWxlY3RPbktleWRvd24mJmsuaXMuc2luZ2xlKCkmJmsuc2V0LnNlbGVjdGVkSXRlbShhKSl9LGRpcmVjdGlvbjpmdW5jdGlvbihlKXtcImF1dG9cIj09Uy5kaXJlY3Rpb24/ay5pcy5vblNjcmVlbihlKT9rLnJlbW92ZS51cHdhcmQoZSk6ay5zZXQudXB3YXJkKGUpOlwidXB3YXJkXCI9PVMuZGlyZWN0aW9uJiZrLnNldC51cHdhcmQoZSl9LHVwd2FyZDpmdW5jdGlvbihlKXt2YXIgdD1lfHxJO3QuYWRkQ2xhc3MoVC51cHdhcmQpfSx2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIG89ay5lc2NhcGUudmFsdWUoZSksYT1VLmxlbmd0aD4wLHI9KCFrLmhhcy52YWx1ZShlKSxrLmdldC52YWx1ZXMoKSkscz1lIT09aT9TdHJpbmcoZSk6ZTtpZihhKXtpZighUy5hbGxvd1Jlc2VsZWN0aW9uJiZzPT1yJiYoay52ZXJib3NlKFwiU2tpcHBpbmcgdmFsdWUgdXBkYXRlIGFscmVhZHkgc2FtZSB2YWx1ZVwiLGUsciksIWsuaXMuaW5pdGlhbExvYWQoKSkpcmV0dXJuO2suaXMuc2luZ2xlKCkmJmsuaGFzLnNlbGVjdElucHV0KCkmJmsuY2FuLmV4dGVuZFNlbGVjdCgpJiYoay5kZWJ1ZyhcIkFkZGluZyB1c2VyIG9wdGlvblwiLGUpLGsuYWRkLm9wdGlvblZhbHVlKGUpKSxrLmRlYnVnKFwiVXBkYXRpbmcgaW5wdXQgdmFsdWVcIixvLHIpLEs9ITAsVS52YWwobyksUy5maXJlT25Jbml0PT09ITEmJmsuaXMuaW5pdGlhbExvYWQoKT9rLmRlYnVnKFwiSW5wdXQgbmF0aXZlIGNoYW5nZSBldmVudCBpZ25vcmVkIG9uIGluaXRpYWwgbG9hZFwiKTprLnRyaWdnZXIuY2hhbmdlKCksSz0hMX1lbHNlIGsudmVyYm9zZShcIlN0b3JpbmcgdmFsdWUgaW4gbWV0YWRhdGFcIixvLFUpLG8hPT1yJiZJLmRhdGEoUC52YWx1ZSxzKTtTLmZpcmVPbkluaXQ9PT0hMSYmay5pcy5pbml0aWFsTG9hZCgpP2sudmVyYm9zZShcIk5vIGNhbGxiYWNrIG9uIGluaXRpYWwgbG9hZFwiLFMub25DaGFuZ2UpOlMub25DaGFuZ2UuY2FsbChaLGUsdCxuKX0sYWN0aXZlOmZ1bmN0aW9uKCl7SS5hZGRDbGFzcyhULmFjdGl2ZSl9LG11bHRpcGxlOmZ1bmN0aW9uKCl7SS5hZGRDbGFzcyhULm11bHRpcGxlKX0sdmlzaWJsZTpmdW5jdGlvbigpe0kuYWRkQ2xhc3MoVC52aXNpYmxlKX0sZXhhY3RseTpmdW5jdGlvbihlLHQpe2suZGVidWcoXCJTZXR0aW5nIHNlbGVjdGVkIHRvIGV4YWN0IHZhbHVlc1wiKSxrLmNsZWFyKCksay5zZXQuc2VsZWN0ZWQoZSx0KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24odCxuKXt2YXIgaT1rLmlzLm11bHRpcGxlKCk7bj1TLmFsbG93QWRkaXRpb25zP258fGsuZ2V0Lml0ZW1XaXRoQWRkaXRpb25zKHQpOm58fGsuZ2V0Lml0ZW0odCksbiYmKGsuZGVidWcoXCJTZXR0aW5nIHNlbGVjdGVkIG1lbnUgaXRlbSB0b1wiLG4pLGsuaXMubXVsdGlwbGUoKSYmay5yZW1vdmUuc2VhcmNoV2lkdGgoKSxrLmlzLnNpbmdsZSgpPyhrLnJlbW92ZS5hY3RpdmVJdGVtKCksay5yZW1vdmUuc2VsZWN0ZWRJdGVtKCkpOlMudXNlTGFiZWxzJiZrLnJlbW92ZS5zZWxlY3RlZEl0ZW0oKSxuLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG89ay5nZXQuY2hvaWNlVGV4dCh0KSxhPWsuZ2V0LmNob2ljZVZhbHVlKHQsbykscj10Lmhhc0NsYXNzKFQuZmlsdGVyZWQpLHM9dC5oYXNDbGFzcyhULmFjdGl2ZSksbD10Lmhhc0NsYXNzKFQuYWRkaXRpb24pLGM9aSYmMT09bi5sZW5ndGg7aT8hc3x8bD8oUy5hcGlTZXR0aW5ncyYmUy5zYXZlUmVtb3RlRGF0YSYmay5zYXZlLnJlbW90ZURhdGEobyxhKSxTLnVzZUxhYmVscz8oay5hZGQudmFsdWUoYSxvLHQpLGsuYWRkLmxhYmVsKGEsbyxjKSxrLnNldC5hY3RpdmVJdGVtKHQpLGsuZmlsdGVyQWN0aXZlKCksay5zZWxlY3QubmV4dEF2YWlsYWJsZShuKSk6KGsuYWRkLnZhbHVlKGEsbyx0KSxrLnNldC50ZXh0KGsuYWRkLnZhcmlhYmxlcyhBLmNvdW50KSksay5zZXQuYWN0aXZlSXRlbSh0KSkpOnJ8fChrLmRlYnVnKFwiU2VsZWN0ZWQgYWN0aXZlIHZhbHVlLCByZW1vdmluZyBsYWJlbFwiKSxrLnJlbW92ZS5zZWxlY3RlZChhKSk6KFMuYXBpU2V0dGluZ3MmJlMuc2F2ZVJlbW90ZURhdGEmJmsuc2F2ZS5yZW1vdGVEYXRhKG8sYSksay5zZXQudGV4dChvKSxrLnNldC52YWx1ZShhLG8sdCksdC5hZGRDbGFzcyhULmFjdGl2ZSkuYWRkQ2xhc3MoVC5zZWxlY3RlZCkpfSkpfX0sYWRkOntsYWJlbDpmdW5jdGlvbih0LG4saSl7dmFyIG8sYT1rLmlzLnNlYXJjaFNlbGVjdGlvbigpP1Y6TixyPWsuZXNjYXBlLnZhbHVlKHQpO3JldHVybiBvPWUoXCI8YSAvPlwiKS5hZGRDbGFzcyhULmxhYmVsKS5hdHRyKFwiZGF0YS12YWx1ZVwiLHIpLmh0bWwoai5sYWJlbChyLG4pKSxvPVMub25MYWJlbENyZWF0ZS5jYWxsKG8scixuKSxrLmhhcy5sYWJlbCh0KT92b2lkIGsuZGVidWcoXCJMYWJlbCBhbHJlYWR5IGV4aXN0cywgc2tpcHBpbmdcIixyKTooUy5sYWJlbC52YXJpYXRpb24mJm8uYWRkQ2xhc3MoUy5sYWJlbC52YXJpYXRpb24pLHZvaWQoaT09PSEwPyhrLmRlYnVnKFwiQW5pbWF0aW5nIGluIGxhYmVsXCIsbyksby5hZGRDbGFzcyhULmhpZGRlbikuaW5zZXJ0QmVmb3JlKGEpLnRyYW5zaXRpb24oUy5sYWJlbC50cmFuc2l0aW9uLFMubGFiZWwuZHVyYXRpb24pKTooay5kZWJ1ZyhcIkFkZGluZyBzZWxlY3Rpb24gbGFiZWxcIixvKSxvLmluc2VydEJlZm9yZShhKSkpKX0sbWVzc2FnZTpmdW5jdGlvbih0KXt2YXIgbj1RLmNoaWxkcmVuKEQubWVzc2FnZSksaT1TLnRlbXBsYXRlcy5tZXNzYWdlKGsuYWRkLnZhcmlhYmxlcyh0KSk7bi5sZW5ndGg+MD9uLmh0bWwoaSk6bj1lKFwiPGRpdi8+XCIpLmh0bWwoaSkuYWRkQ2xhc3MoVC5tZXNzYWdlKS5hcHBlbmRUbyhRKX0sb3B0aW9uVmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49ay5lc2NhcGUudmFsdWUodCksaT1VLmZpbmQoJ29wdGlvblt2YWx1ZT1cIicrbisnXCJdJyksbz1pLmxlbmd0aD4wO298fChrLmRpc2Nvbm5lY3Quc2VsZWN0T2JzZXJ2ZXIoKSxrLmlzLnNpbmdsZSgpJiYoay52ZXJib3NlKFwiUmVtb3ZpbmcgcHJldmlvdXMgdXNlciBhZGRpdGlvblwiKSxVLmZpbmQoXCJvcHRpb24uXCIrVC5hZGRpdGlvbikucmVtb3ZlKCkpLGUoXCI8b3B0aW9uLz5cIikucHJvcChcInZhbHVlXCIsbikuYWRkQ2xhc3MoVC5hZGRpdGlvbikuaHRtbCh0KS5hcHBlbmRUbyhVKSxrLnZlcmJvc2UoXCJBZGRpbmcgdXNlciBhZGRpdGlvbiBhcyBhbiA8b3B0aW9uPlwiLHQpLGsub2JzZXJ2ZS5zZWxlY3QoKSl9LHVzZXJTdWdnZXN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0LG49US5jaGlsZHJlbihELmFkZGl0aW9uKSxpPWsuZ2V0Lml0ZW0oZSksbz1pJiZpLm5vdChELmFkZGl0aW9uKS5sZW5ndGgsYT1uLmxlbmd0aD4wO2lmKCFTLnVzZUxhYmVsc3x8IWsuaGFzLm1heFNlbGVjdGlvbnMoKSl7aWYoXCJcIj09PWV8fG8pcmV0dXJuIHZvaWQgbi5yZW1vdmUoKTthPyhuLmRhdGEoUC52YWx1ZSxlKS5kYXRhKFAudGV4dCxlKS5hdHRyKFwiZGF0YS1cIitQLnZhbHVlLGUpLmF0dHIoXCJkYXRhLVwiK1AudGV4dCxlKS5yZW1vdmVDbGFzcyhULmZpbHRlcmVkKSxTLmhpZGVBZGRpdGlvbnN8fCh0PVMudGVtcGxhdGVzLmFkZGl0aW9uKGsuYWRkLnZhcmlhYmxlcyhBLmFkZFJlc3VsdCxlKSksbi5odG1sKHQpKSxrLnZlcmJvc2UoXCJSZXBsYWNpbmcgdXNlciBzdWdnZXN0aW9uIHdpdGggbmV3IHZhbHVlXCIsbikpOihuPWsuY3JlYXRlLnVzZXJDaG9pY2UoZSksbi5wcmVwZW5kVG8oUSksay52ZXJib3NlKFwiQWRkaW5nIGl0ZW0gY2hvaWNlIHRvIG1lbnUgY29ycmVzcG9uZGluZyB3aXRoIHVzZXIgY2hvaWNlIGFkZGl0aW9uXCIsbikpLFMuaGlkZUFkZGl0aW9ucyYmIWsuaXMuYWxsRmlsdGVyZWQoKXx8bi5hZGRDbGFzcyhULnNlbGVjdGVkKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFQuc2VsZWN0ZWQpLGsucmVmcmVzaEl0ZW1zKCl9fSx2YXJpYWJsZXM6ZnVuY3Rpb24oZSx0KXt2YXIgbixpLG89ZS5zZWFyY2goXCJ7Y291bnR9XCIpIT09LTEsYT1lLnNlYXJjaChcInttYXhDb3VudH1cIikhPT0tMSxyPWUuc2VhcmNoKFwie3Rlcm19XCIpIT09LTE7cmV0dXJuIGsudmVyYm9zZShcIkFkZGluZyB0ZW1wbGF0ZWQgdmFyaWFibGVzIHRvIG1lc3NhZ2VcIixlKSxvJiYobj1rLmdldC5zZWxlY3Rpb25Db3VudCgpLGU9ZS5yZXBsYWNlKFwie2NvdW50fVwiLG4pKSxhJiYobj1rLmdldC5zZWxlY3Rpb25Db3VudCgpLGU9ZS5yZXBsYWNlKFwie21heENvdW50fVwiLFMubWF4U2VsZWN0aW9ucykpLHImJihpPXR8fGsuZ2V0LnF1ZXJ5KCksZT1lLnJlcGxhY2UoXCJ7dGVybX1cIixpKSksZX0sdmFsdWU6ZnVuY3Rpb24odCxuLGkpe3ZhciBvLGE9ay5nZXQudmFsdWVzKCk7cmV0dXJuXCJcIj09PXQ/dm9pZCBrLmRlYnVnKFwiQ2Fubm90IHNlbGVjdCBibGFuayB2YWx1ZXMgZnJvbSBtdWx0aXNlbGVjdFwiKTooZS5pc0FycmF5KGEpPyhvPWEuY29uY2F0KFt0XSksbz1rLmdldC51bmlxdWVBcnJheShvKSk6bz1bdF0say5oYXMuc2VsZWN0SW5wdXQoKT9rLmNhbi5leHRlbmRTZWxlY3QoKSYmKGsuZGVidWcoXCJBZGRpbmcgdmFsdWUgdG8gc2VsZWN0XCIsdCxvLFUpLGsuYWRkLm9wdGlvblZhbHVlKHQpKToobz1vLmpvaW4oUy5kZWxpbWl0ZXIpLGsuZGVidWcoXCJTZXR0aW5nIGhpZGRlbiBpbnB1dCB0byBkZWxpbWl0ZWQgdmFsdWVcIixvLFUpKSxTLmZpcmVPbkluaXQ9PT0hMSYmay5pcy5pbml0aWFsTG9hZCgpP2sudmVyYm9zZShcIlNraXBwaW5nIG9uYWRkIGNhbGxiYWNrIG9uIGluaXRpYWwgbG9hZFwiLFMub25BZGQpOlMub25BZGQuY2FsbChaLHQsbixpKSxrLnNldC52YWx1ZShvLHQsbixpKSx2b2lkIGsuY2hlY2subWF4U2VsZWN0aW9ucygpKX19LHJlbW92ZTp7YWN0aXZlOmZ1bmN0aW9uKCl7SS5yZW1vdmVDbGFzcyhULmFjdGl2ZSl9LGFjdGl2ZUxhYmVsOmZ1bmN0aW9uKCl7SS5maW5kKEQubGFiZWwpLnJlbW92ZUNsYXNzKFQuYWN0aXZlKX0sZW1wdHk6ZnVuY3Rpb24oKXtJLnJlbW92ZUNsYXNzKFQuZW1wdHkpfSxsb2FkaW5nOmZ1bmN0aW9uKCl7SS5yZW1vdmVDbGFzcyhULmxvYWRpbmcpfSxpbml0aWFsTG9hZDpmdW5jdGlvbigpe2g9ITF9LHVwd2FyZDpmdW5jdGlvbihlKXt2YXIgdD1lfHxJO3QucmVtb3ZlQ2xhc3MoVC51cHdhcmQpfSx2aXNpYmxlOmZ1bmN0aW9uKCl7SS5yZW1vdmVDbGFzcyhULnZpc2libGUpfSxhY3RpdmVJdGVtOmZ1bmN0aW9uKCl7WC5yZW1vdmVDbGFzcyhULmFjdGl2ZSl9LGZpbHRlcmVkSXRlbTpmdW5jdGlvbigpe1MudXNlTGFiZWxzJiZrLmhhcy5tYXhTZWxlY3Rpb25zKCl8fChTLnVzZUxhYmVscyYmay5pcy5tdWx0aXBsZSgpP1gubm90KFwiLlwiK1QuYWN0aXZlKS5yZW1vdmVDbGFzcyhULmZpbHRlcmVkKTpYLnJlbW92ZUNsYXNzKFQuZmlsdGVyZWQpLGsucmVtb3ZlLmVtcHR5KCkpfSxvcHRpb25WYWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1rLmVzY2FwZS52YWx1ZShlKSxuPVUuZmluZCgnb3B0aW9uW3ZhbHVlPVwiJyt0KydcIl0nKSxpPW4ubGVuZ3RoPjA7aSYmbi5oYXNDbGFzcyhULmFkZGl0aW9uKSYmKEMmJihDLmRpc2Nvbm5lY3QoKSxrLnZlcmJvc2UoXCJUZW1wb3JhcmlseSBkaXNjb25uZWN0aW5nIG11dGF0aW9uIG9ic2VydmVyXCIpKSxuLnJlbW92ZSgpLGsudmVyYm9zZShcIlJlbW92aW5nIHVzZXIgYWRkaXRpb24gYXMgYW4gPG9wdGlvbj5cIix0KSxDJiZDLm9ic2VydmUoVVswXSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSl9LG1lc3NhZ2U6ZnVuY3Rpb24oKXtRLmNoaWxkcmVuKEQubWVzc2FnZSkucmVtb3ZlKCl9LHNlYXJjaFdpZHRoOmZ1bmN0aW9uKCl7Vi5jc3MoXCJ3aWR0aFwiLFwiXCIpfSxzZWFyY2hUZXJtOmZ1bmN0aW9uKCl7ay52ZXJib3NlKFwiQ2xlYXJlZCBzZWFyY2ggdGVybVwiKSxWLnZhbChcIlwiKSxrLnNldC5maWx0ZXJlZCgpfSx1c2VyQWRkaXRpb246ZnVuY3Rpb24oKXtYLmZpbHRlcihELmFkZGl0aW9uKS5yZW1vdmUoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4hIShuPVMuYWxsb3dBZGRpdGlvbnM/bnx8ay5nZXQuaXRlbVdpdGhBZGRpdGlvbnModCk6bnx8ay5nZXQuaXRlbSh0KSkmJnZvaWQgbi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxuPWsuZ2V0LmNob2ljZVRleHQodCksaT1rLmdldC5jaG9pY2VWYWx1ZSh0LG4pO2suaXMubXVsdGlwbGUoKT9TLnVzZUxhYmVscz8oay5yZW1vdmUudmFsdWUoaSxuLHQpLGsucmVtb3ZlLmxhYmVsKGkpKTooay5yZW1vdmUudmFsdWUoaSxuLHQpLDA9PT1rLmdldC5zZWxlY3Rpb25Db3VudCgpP2suc2V0LnBsYWNlaG9sZGVyVGV4dCgpOmsuc2V0LnRleHQoay5hZGQudmFyaWFibGVzKEEuY291bnQpKSk6ay5yZW1vdmUudmFsdWUoaSxuLHQpLHQucmVtb3ZlQ2xhc3MoVC5maWx0ZXJlZCkucmVtb3ZlQ2xhc3MoVC5hY3RpdmUpLFMudXNlTGFiZWxzJiZ0LnJlbW92ZUNsYXNzKFQuc2VsZWN0ZWQpfSl9LHNlbGVjdGVkSXRlbTpmdW5jdGlvbigpe1gucmVtb3ZlQ2xhc3MoVC5zZWxlY3RlZCl9LHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxvPWsuZ2V0LnZhbHVlcygpO2suaGFzLnNlbGVjdElucHV0KCk/KGsudmVyYm9zZShcIklucHV0IGlzIDxzZWxlY3Q+IHJlbW92aW5nIHNlbGVjdGVkIG9wdGlvblwiLGUpLGk9ay5yZW1vdmUuYXJyYXlWYWx1ZShlLG8pLGsucmVtb3ZlLm9wdGlvblZhbHVlKGUpKTooay52ZXJib3NlKFwiUmVtb3ZpbmcgZnJvbSBkZWxpbWl0ZWQgdmFsdWVzXCIsZSksaT1rLnJlbW92ZS5hcnJheVZhbHVlKGUsbyksaT1pLmpvaW4oUy5kZWxpbWl0ZXIpKSxTLmZpcmVPbkluaXQ9PT0hMSYmay5pcy5pbml0aWFsTG9hZCgpP2sudmVyYm9zZShcIk5vIGNhbGxiYWNrIG9uIGluaXRpYWwgbG9hZFwiLFMub25SZW1vdmUpOlMub25SZW1vdmUuY2FsbChaLGUsdCxuKSxrLnNldC52YWx1ZShpLHQsbiksay5jaGVjay5tYXhTZWxlY3Rpb25zKCl9LGFycmF5VmFsdWU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5pc0FycmF5KG4pfHwobj1bbl0pLG49ZS5ncmVwKG4sZnVuY3Rpb24oZSl7cmV0dXJuIHQhPWV9KSxrLnZlcmJvc2UoXCJSZW1vdmVkIHZhbHVlIGZyb20gZGVsaW1pdGVkIHN0cmluZ1wiLHQsbiksbn0sbGFiZWw6ZnVuY3Rpb24oZSx0KXt2YXIgbj1JLmZpbmQoRC5sYWJlbCksaT1uLmZpbHRlcignW2RhdGEtdmFsdWU9XCInK2UrJ1wiXScpO2sudmVyYm9zZShcIlJlbW92aW5nIGxhYmVsXCIsaSksaS5yZW1vdmUoKX0sYWN0aXZlTGFiZWxzOmZ1bmN0aW9uKGUpe2U9ZXx8SS5maW5kKEQubGFiZWwpLmZpbHRlcihcIi5cIitULmFjdGl2ZSksay52ZXJib3NlKFwiUmVtb3ZpbmcgYWN0aXZlIGxhYmVsIHNlbGVjdGlvbnNcIixlKSxrLnJlbW92ZS5sYWJlbHMoZSl9LGxhYmVsczpmdW5jdGlvbih0KXt0PXR8fEkuZmluZChELmxhYmVsKSxrLnZlcmJvc2UoXCJSZW1vdmluZyBsYWJlbHNcIix0KSx0LmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG49dC5kYXRhKFAudmFsdWUpLG89biE9PWk/U3RyaW5nKG4pOm4sYT1rLmlzLnVzZXJWYWx1ZShvKTtyZXR1cm4gUy5vbkxhYmVsUmVtb3ZlLmNhbGwodCxuKT09PSExP3ZvaWQgay5kZWJ1ZyhcIkxhYmVsIHJlbW92ZSBjYWxsYmFjayBjYW5jZWxsZWQgcmVtb3ZhbFwiKTooay5yZW1vdmUubWVzc2FnZSgpLHZvaWQoYT8oay5yZW1vdmUudmFsdWUobyksay5yZW1vdmUubGFiZWwobykpOmsucmVtb3ZlLnNlbGVjdGVkKG8pKSl9KX0sdGFiYmFibGU6ZnVuY3Rpb24oKXtrLmhhcy5zZWFyY2goKT8oay5kZWJ1ZyhcIlNlYXJjaGFibGUgZHJvcGRvd24gaW5pdGlhbGl6ZWRcIiksVi5yZW1vdmVBdHRyKFwidGFiaW5kZXhcIiksUS5yZW1vdmVBdHRyKFwidGFiaW5kZXhcIikpOihrLmRlYnVnKFwiU2ltcGxlIHNlbGVjdGlvbiBkcm9wZG93biBpbml0aWFsaXplZFwiKSxJLnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiKSxRLnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiKSl9fSxoYXM6e21lbnVTZWFyY2g6ZnVuY3Rpb24oKXtyZXR1cm4gay5oYXMuc2VhcmNoKCkmJlYuY2xvc2VzdChRKS5sZW5ndGg+MH0sc2VhcmNoOmZ1bmN0aW9uKCl7cmV0dXJuIFYubGVuZ3RoPjB9LHNpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIEgubGVuZ3RoPjB9LHNlbGVjdElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIFUuaXMoXCJzZWxlY3RcIil9LG1pbkNoYXJhY3RlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIVMubWluQ2hhcmFjdGVyc3x8KGU9ZSE9PWk/U3RyaW5nKGUpOlN0cmluZyhrLmdldC5xdWVyeSgpKSxlLmxlbmd0aD49Uy5taW5DaGFyYWN0ZXJzKX0sZmlyc3RMZXR0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbixpO3JldHVybiEoIWV8fDA9PT1lLmxlbmd0aHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpJiYobj1rLmdldC5jaG9pY2VUZXh0KGUsITEpLHQ9dC50b0xvd2VyQ2FzZSgpLGk9U3RyaW5nKG4pLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpLHQ9PWkpfSxpbnB1dDpmdW5jdGlvbigpe3JldHVybiBVLmxlbmd0aD4wfSxpdGVtczpmdW5jdGlvbigpe3JldHVybiBYLmxlbmd0aD4wfSxtZW51OmZ1bmN0aW9uKCl7cmV0dXJuIFEubGVuZ3RoPjB9LG1lc3NhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PVEuY2hpbGRyZW4oRC5tZXNzYWdlKS5sZW5ndGh9LGxhYmVsOmZ1bmN0aW9uKGUpe3ZhciB0PWsuZXNjYXBlLnZhbHVlKGUpLG49SS5maW5kKEQubGFiZWwpO3JldHVybiBuLmZpbHRlcignW2RhdGEtdmFsdWU9XCInK3QrJ1wiXScpLmxlbmd0aD4wfSxtYXhTZWxlY3Rpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIFMubWF4U2VsZWN0aW9ucyYmay5nZXQuc2VsZWN0aW9uQ291bnQoKT49Uy5tYXhTZWxlY3Rpb25zfSxhbGxSZXN1bHRzRmlsdGVyZWQ6ZnVuY3Rpb24oKXt2YXIgZT1YLm5vdChELmFkZGl0aW9uKTtyZXR1cm4gZS5maWx0ZXIoRC51bnNlbGVjdGFibGUpLmxlbmd0aD09PWUubGVuZ3RofSx1c2VyU3VnZ2VzdGlvbjpmdW5jdGlvbigpe3JldHVybiBRLmNoaWxkcmVuKEQuYWRkaXRpb24pLmxlbmd0aD4wfSxxdWVyeTpmdW5jdGlvbigpe3JldHVyblwiXCIhPT1rLmdldC5xdWVyeSgpfSx2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1rLmdldC52YWx1ZXMoKSxpPWUuaXNBcnJheShuKT9uJiZlLmluQXJyYXkodCxuKSE9PS0xOm49PXQ7cmV0dXJuISFpfX0saXM6e2FjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBJLmhhc0NsYXNzKFQuYWN0aXZlKX0sYnViYmxlZExhYmVsQ2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIGUodC50YXJnZXQpLmlzKFwic2VsZWN0LCBpbnB1dFwiKSYmSS5jbG9zZXN0KFwibGFiZWxcIikubGVuZ3RoPjB9LGJ1YmJsZWRJY29uQ2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIGUodC50YXJnZXQpLmNsb3Nlc3QoVykubGVuZ3RoPjB9LGFscmVhZHlTZXR1cDpmdW5jdGlvbigpe3JldHVybiBJLmlzKFwic2VsZWN0XCIpJiZJLnBhcmVudChELmRyb3Bkb3duKS5sZW5ndGg+MCYmMD09PUkucHJldigpLmxlbmd0aH0sYW5pbWF0aW5nOmZ1bmN0aW9uKGUpe3JldHVybiBlP2UudHJhbnNpdGlvbiYmZS50cmFuc2l0aW9uKFwiaXMgYW5pbWF0aW5nXCIpOlEudHJhbnNpdGlvbiYmUS50cmFuc2l0aW9uKFwiaXMgYW5pbWF0aW5nXCIpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiBJLmhhc0NsYXNzKFQuZGlzYWJsZWQpfSxmb2N1c2VkOmZ1bmN0aW9uKCl7cmV0dXJuIG4uYWN0aXZlRWxlbWVudD09PUlbMF19LGZvY3VzZWRPblNlYXJjaDpmdW5jdGlvbigpe3JldHVybiBuLmFjdGl2ZUVsZW1lbnQ9PT1WWzBdfSxhbGxGaWx0ZXJlZDpmdW5jdGlvbigpe3JldHVybihrLmlzLm11bHRpcGxlKCl8fGsuaGFzLnNlYXJjaCgpKSYmISgwPT1TLmhpZGVBZGRpdGlvbnMmJmsuaGFzLnVzZXJTdWdnZXN0aW9uKCkpJiYhay5oYXMubWVzc2FnZSgpJiZrLmhhcy5hbGxSZXN1bHRzRmlsdGVyZWQoKX0saGlkZGVuOmZ1bmN0aW9uKGUpe3JldHVybiFrLmlzLnZpc2libGUoZSl9LGluaXRpYWxMb2FkOmZ1bmN0aW9uKCl7cmV0dXJuIGh9LG9uU2NyZWVuOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZXx8USxpPSEwLG89e307cmV0dXJuIG4uYWRkQ2xhc3MoVC5sb2FkaW5nKSx0PXtjb250ZXh0OntzY3JvbGxUb3A6TC5zY3JvbGxUb3AoKSxoZWlnaHQ6TC5vdXRlckhlaWdodCgpfSxtZW51OntvZmZzZXQ6bi5vZmZzZXQoKSxoZWlnaHQ6bi5vdXRlckhlaWdodCgpfX0sbz17YWJvdmU6dC5jb250ZXh0LnNjcm9sbFRvcDw9dC5tZW51Lm9mZnNldC50b3AtdC5tZW51LmhlaWdodCxiZWxvdzp0LmNvbnRleHQuc2Nyb2xsVG9wK3QuY29udGV4dC5oZWlnaHQ+PXQubWVudS5vZmZzZXQudG9wK3QubWVudS5oZWlnaHR9LG8uYmVsb3c/KGsudmVyYm9zZShcIkRyb3Bkb3duIGNhbiBmaXQgaW4gY29udGV4dCBkb3dud2FyZFwiLG8pLGk9ITApOm8uYmVsb3d8fG8uYWJvdmU/KGsudmVyYm9zZShcIkRyb3Bkb3duIGNhbm5vdCBmaXQgYmVsb3csIG9wZW5pbmcgdXB3YXJkXCIsbyksaT0hMSk6KGsudmVyYm9zZShcIkRyb3Bkb3duIGNhbm5vdCBmaXQgaW4gZWl0aGVyIGRpcmVjdGlvbiwgZmF2b3JpbmcgZG93bndhcmRcIixvKSxpPSEwKSxuLnJlbW92ZUNsYXNzKFQubG9hZGluZyksaX0saW5PYmplY3Q6ZnVuY3Rpb24odCxuKXt2YXIgaT0hMTtyZXR1cm4gZS5lYWNoKG4sZnVuY3Rpb24oZSxuKXtpZihuPT10KXJldHVybiBpPSEwLCEwfSksaX0sbXVsdGlwbGU6ZnVuY3Rpb24oKXtyZXR1cm4gSS5oYXNDbGFzcyhULm11bHRpcGxlKX0sc2luZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIWsuaXMubXVsdGlwbGUoKX0sc2VsZWN0TXV0YXRpb246ZnVuY3Rpb24odCl7dmFyIG49ITE7cmV0dXJuIGUuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7aWYoaS50YXJnZXQmJmUoaS50YXJnZXQpLmlzKFwic2VsZWN0XCIpKXJldHVybiBuPSEwLCEwfSksbn0sc2VhcmNoOmZ1bmN0aW9uKCl7cmV0dXJuIEkuaGFzQ2xhc3MoVC5zZWFyY2gpfSxzZWFyY2hTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gay5oYXMuc2VhcmNoKCkmJjE9PT1WLnBhcmVudChELmRyb3Bkb3duKS5sZW5ndGh9LHNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBJLmhhc0NsYXNzKFQuc2VsZWN0aW9uKX0sdXNlclZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmluQXJyYXkodCxrLmdldC51c2VyVmFsdWVzKCkpIT09LTF9LHVwd2FyZDpmdW5jdGlvbihlKXt2YXIgdD1lfHxJO3JldHVybiB0Lmhhc0NsYXNzKFQudXB3YXJkKX0sdmlzaWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gZT9lLmhhc0NsYXNzKFQudmlzaWJsZSk6US5oYXNDbGFzcyhULnZpc2libGUpfX0sY2FuOnthY3RpdmF0ZTpmdW5jdGlvbihlKXtyZXR1cm4hIVMudXNlTGFiZWxzfHwoIWsuaGFzLm1heFNlbGVjdGlvbnMoKXx8ISghay5oYXMubWF4U2VsZWN0aW9ucygpfHwhZS5oYXNDbGFzcyhULmFjdGl2ZSkpKX0sY2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gY3x8XCJjbGlja1wiPT1TLm9ufSxleHRlbmRTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gUy5hbGxvd0FkZGl0aW9uc3x8Uy5hcGlTZXR0aW5nc30sc2hvdzpmdW5jdGlvbigpe3JldHVybiFrLmlzLmRpc2FibGVkKCkmJihrLmhhcy5pdGVtcygpfHxrLmhhcy5tZXNzYWdlKCkpfSx1c2VBUEk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5mbi5hcGkhPT1pfX0sYW5pbWF0ZTp7c2hvdzpmdW5jdGlvbih0LG4pe3ZhciBvLGE9bnx8USxyPW4/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKCl7ay5oaWRlU3ViTWVudXMoKSxrLmhpZGVPdGhlcnMoKSxrLnNldC5hY3RpdmUoKX07dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30say52ZXJib3NlKFwiRG9pbmcgbWVudSBzaG93IGFuaW1hdGlvblwiLGEpLGsuc2V0LmRpcmVjdGlvbihuKSxvPWsuZ2V0LnRyYW5zaXRpb24obiksay5pcy5zZWxlY3Rpb24oKSYmay5zZXQuc2Nyb2xsUG9zaXRpb24oay5nZXQuc2VsZWN0ZWRJdGVtKCksITApLChrLmlzLmhpZGRlbihhKXx8ay5pcy5hbmltYXRpbmcoYSkpJiYoXCJub25lXCI9PW8/KHIoKSxhLnRyYW5zaXRpb24oXCJzaG93XCIpLHQuY2FsbChaKSk6ZS5mbi50cmFuc2l0aW9uIT09aSYmSS50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpP2EudHJhbnNpdGlvbih7YW5pbWF0aW9uOm8rXCIgaW5cIixkZWJ1ZzpTLmRlYnVnLHZlcmJvc2U6Uy52ZXJib3NlLGR1cmF0aW9uOlMuZHVyYXRpb24scXVldWU6ITAsb25TdGFydDpyLG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt0LmNhbGwoWil9fSk6ay5lcnJvcihxLm5vVHJhbnNpdGlvbixvKSl9LGhpZGU6ZnVuY3Rpb24odCxuKXt2YXIgbz1ufHxRLGE9KG4/LjkqUy5kdXJhdGlvbjpTLmR1cmF0aW9uLG4/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKCl7ay5jYW4uY2xpY2soKSYmay51bmJpbmQuaW50ZW50KCksay5yZW1vdmUuYWN0aXZlKCl9KSxyPWsuZ2V0LnRyYW5zaXRpb24obik7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sKGsuaXMudmlzaWJsZShvKXx8ay5pcy5hbmltYXRpbmcobykpJiYoay52ZXJib3NlKFwiRG9pbmcgbWVudSBoaWRlIGFuaW1hdGlvblwiLG8pLFwibm9uZVwiPT1yPyhhKCksby50cmFuc2l0aW9uKFwiaGlkZVwiKSx0LmNhbGwoWikpOmUuZm4udHJhbnNpdGlvbiE9PWkmJkkudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT9vLnRyYW5zaXRpb24oe2FuaW1hdGlvbjpyK1wiIG91dFwiLGR1cmF0aW9uOlMuZHVyYXRpb24sZGVidWc6Uy5kZWJ1Zyx2ZXJib3NlOlMudmVyYm9zZSxxdWV1ZTohMCxvblN0YXJ0OmEsb25Db21wbGV0ZTpmdW5jdGlvbigpe1wiYXV0b1wiPT1TLmRpcmVjdGlvbiYmay5yZW1vdmUudXB3YXJkKG4pLHQuY2FsbChaKX19KTprLmVycm9yKHEudHJhbnNpdGlvbikpfX0saGlkZUFuZENsZWFyOmZ1bmN0aW9uKCl7ay5yZW1vdmUuc2VhcmNoVGVybSgpLGsuaGFzLm1heFNlbGVjdGlvbnMoKXx8KGsuaGFzLnNlYXJjaCgpP2suaGlkZShmdW5jdGlvbigpe2sucmVtb3ZlLmZpbHRlcmVkSXRlbSgpfSk6ay5oaWRlKCkpfSxkZWxheTp7c2hvdzpmdW5jdGlvbigpe2sudmVyYm9zZShcIkRlbGF5aW5nIHNob3cgZXZlbnQgdG8gZW5zdXJlIHVzZXIgaW50ZW50XCIpLGNsZWFyVGltZW91dChrLnRpbWVyKSxrLnRpbWVyPXNldFRpbWVvdXQoay5zaG93LFMuZGVsYXkuc2hvdyl9LGhpZGU6ZnVuY3Rpb24oKXtrLnZlcmJvc2UoXCJEZWxheWluZyBoaWRlIGV2ZW50IHRvIGVuc3VyZSB1c2VyIGludGVudFwiKSxjbGVhclRpbWVvdXQoay50aW1lciksay50aW1lcj1zZXRUaW1lb3V0KGsuaGlkZSxTLmRlbGF5LmhpZGUpfX0sZXNjYXBlOnt2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1lLmlzQXJyYXkodCksaT1cInN0cmluZ1wiPT10eXBlb2YgdCxvPSFpJiYhbixhPWkmJnQuc2VhcmNoKE8ucXVvdGUpIT09LTEscj1bXTtyZXR1cm4gay5oYXMuc2VsZWN0SW5wdXQoKSYmIW8mJmE/KGsuZGVidWcoXCJFbmNvZGluZyBxdW90ZSB2YWx1ZXMgZm9yIHVzZSBpbiBzZWxlY3RcIix0KSxuPyhlLmVhY2godCxmdW5jdGlvbihlLHQpe3IucHVzaCh0LnJlcGxhY2UoTy5xdW90ZSxcIiZxdW90O1wiKSl9KSxyKTp0LnJlcGxhY2UoTy5xdW90ZSxcIiZxdW90O1wiKSk6dH0scmVnRXhwOmZ1bmN0aW9uKGUpe3JldHVybiBlPVN0cmluZyhlKSxlLnJlcGxhY2UoTy5lc2NhcGUsXCJcXFxcJCZcIil9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoay5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxTLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIFNbdF07ZS5pc1BsYWluT2JqZWN0KFNbdF0pP2UuZXh0ZW5kKCEwLFNbdF0sbik6U1t0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsayx0KTtlbHNle2lmKG49PT1pKXJldHVybiBrW3RdO2tbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7IVMuc2lsZW50JiZTLmRlYnVnJiYoUy5wZXJmb3JtYW5jZT9rLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihrLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsUy5uYW1lK1wiOlwiKSxrLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IVMuc2lsZW50JiZTLnZlcmJvc2UmJlMuZGVidWcmJihTLnBlcmZvcm1hbmNlP2sucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGsudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLFMubmFtZStcIjpcIiksay52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe1Muc2lsZW50fHwoay5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxTLm5hbWUrXCI6XCIpLGsuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7Uy5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT11fHx0LG49dC1pLHU9dCxkLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6WixcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoay5wZXJmb3JtYW5jZS50aW1lciksay5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KGsucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9Uy5uYW1lK1wiOlwiLG49MDt1PSExLGNsZWFyVGltZW91dChrLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2goZCxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLGwmJih0Kz1cIiAnXCIrbCtcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmQubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShkKTplLmVhY2goZCxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGQ9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsbCxjPUo7cmV0dXJuIG49bnx8ZyxvPVp8fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pPyhzPWNbb10sITEpOihrLmVycm9yKHEubWV0aG9kLHQpLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkobyxuKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KGEpP2EucHVzaChsKTphIT09aT9hPVthLGxdOmwhPT1pJiYoYT1sKSxzfX0sbT8oSj09PWkmJmsuaW5pdGlhbGl6ZSgpLGsuaW52b2tlKGYpKTooSiE9PWkmJkouaW52b2tlKFwiZGVzdHJveVwiKSxcbmsuaW5pdGlhbGl6ZSgpKX0pLGEhPT1pP2E6cn0sZS5mbi5kcm9wZG93bi5zZXR0aW5ncz17c2lsZW50OiExLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsb246XCJjbGlja1wiLGFjdGlvbjpcImFjdGl2YXRlXCIsYXBpU2V0dGluZ3M6ITEsc2VsZWN0T25LZXlkb3duOiEwLG1pbkNoYXJhY3RlcnM6MCxzYXZlUmVtb3RlRGF0YTohMCx0aHJvdHRsZToyMDAsY29udGV4dDp0LGRpcmVjdGlvbjpcImF1dG9cIixrZWVwT25TY3JlZW46ITAsbWF0Y2g6XCJib3RoXCIsZnVsbFRleHRTZWFyY2g6ITEscGxhY2Vob2xkZXI6XCJhdXRvXCIscHJlc2VydmVIVE1MOiEwLHNvcnRTZWxlY3Q6ITEsZm9yY2VTZWxlY3Rpb246ITAsYWxsb3dBZGRpdGlvbnM6ITEsaGlkZUFkZGl0aW9uczohMCxtYXhTZWxlY3Rpb25zOiExLHVzZUxhYmVsczohMCxkZWxpbWl0ZXI6XCIsXCIsc2hvd09uRm9jdXM6ITAsYWxsb3dSZXNlbGVjdGlvbjohMSxhbGxvd1RhYjohMCxhbGxvd0NhdGVnb3J5U2VsZWN0aW9uOiExLGZpcmVPbkluaXQ6ITEsdHJhbnNpdGlvbjpcImF1dG9cIixkdXJhdGlvbjoyMDAsZ2x5cGhXaWR0aDoxLjAzNyxsYWJlbDp7dHJhbnNpdGlvbjpcInNjYWxlXCIsZHVyYXRpb246MjAwLHZhcmlhdGlvbjohMX0sZGVsYXk6e2hpZGU6MzAwLHNob3c6MjAwLHNlYXJjaDoyMCx0b3VjaDo1MH0sb25DaGFuZ2U6ZnVuY3Rpb24oZSx0LG4pe30sb25BZGQ6ZnVuY3Rpb24oZSx0LG4pe30sb25SZW1vdmU6ZnVuY3Rpb24oZSx0LG4pe30sb25MYWJlbFNlbGVjdDpmdW5jdGlvbihlKXt9LG9uTGFiZWxDcmVhdGU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0aGlzKX0sb25MYWJlbFJlbW92ZTpmdW5jdGlvbihlKXtyZXR1cm4hMH0sb25Ob1Jlc3VsdHM6ZnVuY3Rpb24oZSl7cmV0dXJuITB9LG9uU2hvdzpmdW5jdGlvbigpe30sb25IaWRlOmZ1bmN0aW9uKCl7fSxuYW1lOlwiRHJvcGRvd25cIixuYW1lc3BhY2U6XCJkcm9wZG93blwiLG1lc3NhZ2U6e2FkZFJlc3VsdDpcIkFkZCA8Yj57dGVybX08L2I+XCIsY291bnQ6XCJ7Y291bnR9IHNlbGVjdGVkXCIsbWF4U2VsZWN0aW9uczpcIk1heCB7bWF4Q291bnR9IHNlbGVjdGlvbnNcIixub1Jlc3VsdHM6XCJObyByZXN1bHRzIGZvdW5kLlwiLHNlcnZlckVycm9yOlwiVGhlcmUgd2FzIGFuIGVycm9yIGNvbnRhY3RpbmcgdGhlIHNlcnZlclwifSxlcnJvcjp7YWN0aW9uOlwiWW91IGNhbGxlZCBhIGRyb3Bkb3duIGFjdGlvbiB0aGF0IHdhcyBub3QgZGVmaW5lZFwiLGFscmVhZHlTZXR1cDpcIk9uY2UgYSBzZWxlY3QgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYmVoYXZpb3JzIG11c3QgYmUgY2FsbGVkIG9uIHRoZSBjcmVhdGVkIHVpIGRyb3Bkb3duXCIsbGFiZWxzOlwiQWxsb3dpbmcgdXNlciBhZGRpdGlvbnMgY3VycmVudGx5IHJlcXVpcmVzIHRoZSB1c2Ugb2YgbGFiZWxzLlwiLG1pc3NpbmdNdWx0aXBsZTpcIjxzZWxlY3Q+IHJlcXVpcmVzIG11bHRpcGxlIHByb3BlcnR5IHRvIGJlIHNldCB0byBjb3JyZWN0bHkgcHJlc2VydmUgbXVsdGlwbGUgdmFsdWVzXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwiLG5vQVBJOlwiVGhlIEFQSSBtb2R1bGUgaXMgcmVxdWlyZWQgdG8gbG9hZCByZXNvdXJjZXMgcmVtb3RlbHlcIixub1N0b3JhZ2U6XCJTYXZpbmcgcmVtb3RlIGRhdGEgcmVxdWlyZXMgc2Vzc2lvbiBzdG9yYWdlXCIsbm9UcmFuc2l0aW9uOlwiVGhpcyBtb2R1bGUgcmVxdWlyZXMgdWkgdHJhbnNpdGlvbnMgPGh0dHBzOi8vZ2l0aHViLmNvbS9TZW1hbnRpYy1PcmcvVUktVHJhbnNpdGlvbj5cIn0scmVnRXhwOntlc2NhcGU6L1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLHF1b3RlOi9cIi9nfSxtZXRhZGF0YTp7ZGVmYXVsdFRleHQ6XCJkZWZhdWx0VGV4dFwiLGRlZmF1bHRWYWx1ZTpcImRlZmF1bHRWYWx1ZVwiLHBsYWNlaG9sZGVyVGV4dDpcInBsYWNlaG9sZGVyXCIsdGV4dDpcInRleHRcIix2YWx1ZTpcInZhbHVlXCJ9LGZpZWxkczp7cmVtb3RlVmFsdWVzOlwicmVzdWx0c1wiLHZhbHVlczpcInZhbHVlc1wiLGRpc2FibGVkOlwiZGlzYWJsZWRcIixuYW1lOlwibmFtZVwiLHZhbHVlOlwidmFsdWVcIix0ZXh0OlwidGV4dFwifSxrZXlzOntiYWNrc3BhY2U6OCxkZWxpbWl0ZXI6MTg4LGRlbGV0ZUtleTo0NixlbnRlcjoxMyxlc2NhcGU6MjcscGFnZVVwOjMzLHBhZ2VEb3duOjM0LGxlZnRBcnJvdzozNyx1cEFycm93OjM4LHJpZ2h0QXJyb3c6MzksZG93bkFycm93OjQwfSxzZWxlY3Rvcjp7YWRkaXRpb246XCIuYWRkaXRpb25cIixkcm9wZG93bjpcIi51aS5kcm9wZG93blwiLGhpZGRlbjpcIi5oaWRkZW5cIixpY29uOlwiPiAuZHJvcGRvd24uaWNvblwiLGlucHV0Oic+IGlucHV0W3R5cGU9XCJoaWRkZW5cIl0sID4gc2VsZWN0JyxpdGVtOlwiLml0ZW1cIixsYWJlbDpcIj4gLmxhYmVsXCIscmVtb3ZlOlwiPiAubGFiZWwgPiAuZGVsZXRlLmljb25cIixzaWJsaW5nTGFiZWw6XCIubGFiZWxcIixtZW51OlwiLm1lbnVcIixtZXNzYWdlOlwiLm1lc3NhZ2VcIixtZW51SWNvbjpcIi5kcm9wZG93bi5pY29uXCIsc2VhcmNoOlwiaW5wdXQuc2VhcmNoLCAubWVudSA+IC5zZWFyY2ggPiBpbnB1dCwgLm1lbnUgaW5wdXQuc2VhcmNoXCIsc2l6ZXI6XCI+IGlucHV0LnNpemVyXCIsdGV4dDpcIj4gLnRleHQ6bm90KC5pY29uKVwiLHVuc2VsZWN0YWJsZTpcIi5kaXNhYmxlZCwgLmZpbHRlcmVkXCJ9LGNsYXNzTmFtZTp7YWN0aXZlOlwiYWN0aXZlXCIsYWRkaXRpb246XCJhZGRpdGlvblwiLGFuaW1hdGluZzpcImFuaW1hdGluZ1wiLGRpc2FibGVkOlwiZGlzYWJsZWRcIixlbXB0eTpcImVtcHR5XCIsZHJvcGRvd246XCJ1aSBkcm9wZG93blwiLGZpbHRlcmVkOlwiZmlsdGVyZWRcIixoaWRkZW46XCJoaWRkZW4gdHJhbnNpdGlvblwiLGl0ZW06XCJpdGVtXCIsbGFiZWw6XCJ1aSBsYWJlbFwiLGxvYWRpbmc6XCJsb2FkaW5nXCIsbWVudTpcIm1lbnVcIixtZXNzYWdlOlwibWVzc2FnZVwiLG11bHRpcGxlOlwibXVsdGlwbGVcIixwbGFjZWhvbGRlcjpcImRlZmF1bHRcIixzaXplcjpcInNpemVyXCIsc2VhcmNoOlwic2VhcmNoXCIsc2VsZWN0ZWQ6XCJzZWxlY3RlZFwiLHNlbGVjdGlvbjpcInNlbGVjdGlvblwiLHVwd2FyZDpcInVwd2FyZFwiLHZpc2libGU6XCJ2aXNpYmxlXCJ9fSxlLmZuLmRyb3Bkb3duLnNldHRpbmdzLnRlbXBsYXRlcz17ZHJvcGRvd246ZnVuY3Rpb24odCl7dmFyIG49dC5wbGFjZWhvbGRlcnx8ITEsaT0odC52YWx1ZXN8fHt9LFwiXCIpO3JldHVybiBpKz0nPGkgY2xhc3M9XCJkcm9wZG93biBpY29uXCI+PC9pPicsaSs9dC5wbGFjZWhvbGRlcj8nPGRpdiBjbGFzcz1cImRlZmF1bHQgdGV4dFwiPicrbitcIjwvZGl2PlwiOic8ZGl2IGNsYXNzPVwidGV4dFwiPjwvZGl2PicsaSs9JzxkaXYgY2xhc3M9XCJtZW51XCI+JyxlLmVhY2godC52YWx1ZXMsZnVuY3Rpb24oZSx0KXtpKz10LmRpc2FibGVkPyc8ZGl2IGNsYXNzPVwiZGlzYWJsZWQgaXRlbVwiIGRhdGEtdmFsdWU9XCInK3QudmFsdWUrJ1wiPicrdC5uYW1lK1wiPC9kaXY+XCI6JzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS12YWx1ZT1cIicrdC52YWx1ZSsnXCI+Jyt0Lm5hbWUrXCI8L2Rpdj5cIn0pLGkrPVwiPC9kaXY+XCJ9LG1lbnU6ZnVuY3Rpb24odCxuKXt2YXIgaT10W24udmFsdWVzXXx8e30sbz1cIlwiO3JldHVybiBlLmVhY2goaSxmdW5jdGlvbihlLHQpe3ZhciBpPXRbbi50ZXh0XT8nZGF0YS10ZXh0PVwiJyt0W24udGV4dF0rJ1wiJzpcIlwiLGE9dFtuLmRpc2FibGVkXT9cImRpc2FibGVkIFwiOlwiXCI7bys9JzxkaXYgY2xhc3M9XCInK2ErJ2l0ZW1cIiBkYXRhLXZhbHVlPVwiJyt0W24udmFsdWVdKydcIicraStcIj5cIixvKz10W24ubmFtZV0sbys9XCI8L2Rpdj5cIn0pLG99LGxhYmVsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrJzxpIGNsYXNzPVwiZGVsZXRlIGljb25cIj48L2k+J30sbWVzc2FnZTpmdW5jdGlvbihlKXtyZXR1cm4gZX0sYWRkaXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxlLmZuLmVtYmVkPWZ1bmN0aW9uKG4pe3ZhciBvLGE9ZSh0aGlzKSxyPWEuc2VsZWN0b3J8fFwiXCIscz0obmV3IERhdGUpLmdldFRpbWUoKSxsPVtdLGM9YXJndW1lbnRzWzBdLHU9XCJzdHJpbmdcIj09dHlwZW9mIGMsZD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGYsbT1lLmlzUGxhaW5PYmplY3Qobik/ZS5leHRlbmQoITAse30sZS5mbi5lbWJlZC5zZXR0aW5ncyxuKTplLmV4dGVuZCh7fSxlLmZuLmVtYmVkLnNldHRpbmdzKSxnPW0uc2VsZWN0b3IscD1tLmNsYXNzTmFtZSxoPW0uc291cmNlcyx2PW0uZXJyb3IsYj1tLm1ldGFkYXRhLHk9bS5uYW1lc3BhY2UseD1tLnRlbXBsYXRlcyxDPVwiLlwiK3ksdz1cIm1vZHVsZS1cIit5LGs9KGUodCksZSh0aGlzKSksUz1rLmZpbmQoZy5wbGFjZWhvbGRlciksVD1rLmZpbmQoZy5pY29uKSxBPWsuZmluZChnLmVtYmVkKSxSPXRoaXMsRT1rLmRhdGEodyk7Zj17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe2YuZGVidWcoXCJJbml0aWFsaXppbmcgZW1iZWRcIiksZi5kZXRlcm1pbmUuYXV0b3BsYXkoKSxmLmNyZWF0ZSgpLGYuYmluZC5ldmVudHMoKSxmLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixmKSxFPWYsay5kYXRhKHcsZil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIGluc3RhbmNlIG9mIGVtYmVkXCIpLGYucmVzZXQoKSxrLnJlbW92ZURhdGEodykub2ZmKEMpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiUmVmcmVzaGluZyBzZWxlY3RvciBjYWNoZVwiKSxTPWsuZmluZChnLnBsYWNlaG9sZGVyKSxUPWsuZmluZChnLmljb24pLEE9ay5maW5kKGcuZW1iZWQpfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXtmLmhhcy5wbGFjZWhvbGRlcigpJiYoZi5kZWJ1ZyhcIkFkZGluZyBwbGFjZWhvbGRlciBldmVudHNcIiksay5vbihcImNsaWNrXCIrQyxnLnBsYWNlaG9sZGVyLGYuY3JlYXRlQW5kU2hvdykub24oXCJjbGlja1wiK0MsZy5pY29uLGYuY3JlYXRlQW5kU2hvdykpfX0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9Zi5nZXQucGxhY2Vob2xkZXIoKTtlP2YuY3JlYXRlUGxhY2Vob2xkZXIoKTpmLmNyZWF0ZUFuZFNob3coKX0sY3JlYXRlUGxhY2Vob2xkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9Zi5nZXQuaWNvbigpLG49Zi5nZXQudXJsKCk7Zi5nZW5lcmF0ZS5lbWJlZChuKTtlPWV8fGYuZ2V0LnBsYWNlaG9sZGVyKCksay5odG1sKHgucGxhY2Vob2xkZXIoZSx0KSksZi5kZWJ1ZyhcIkNyZWF0aW5nIHBsYWNlaG9sZGVyIGZvciBlbWJlZFwiLGUsdCl9LGNyZWF0ZUVtYmVkOmZ1bmN0aW9uKHQpe2YucmVmcmVzaCgpLHQ9dHx8Zi5nZXQudXJsKCksQT1lKFwiPGRpdi8+XCIpLmFkZENsYXNzKHAuZW1iZWQpLmh0bWwoZi5nZW5lcmF0ZS5lbWJlZCh0KSkuYXBwZW5kVG8oayksbS5vbkNyZWF0ZS5jYWxsKFIsdCksZi5kZWJ1ZyhcIkNyZWF0aW5nIGVtYmVkIG9iamVjdFwiLEEpfSxjaGFuZ2VFbWJlZDpmdW5jdGlvbihlKXtBLmh0bWwoZi5nZW5lcmF0ZS5lbWJlZChlKSl9LGNyZWF0ZUFuZFNob3c6ZnVuY3Rpb24oKXtmLmNyZWF0ZUVtYmVkKCksZi5zaG93KCl9LGNoYW5nZTpmdW5jdGlvbihlLHQsbil7Zi5kZWJ1ZyhcIkNoYW5naW5nIHZpZGVvIHRvIFwiLGUsdCxuKSxrLmRhdGEoYi5zb3VyY2UsZSkuZGF0YShiLmlkLHQpLG4/ay5kYXRhKGIudXJsLG4pOmsucmVtb3ZlRGF0YShiLnVybCksZi5oYXMuZW1iZWQoKT9mLmNoYW5nZUVtYmVkKCk6Zi5jcmVhdGUoKX0scmVzZXQ6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiQ2xlYXJpbmcgZW1iZWQgYW5kIHNob3dpbmcgcGxhY2Vob2xkZXJcIiksZi5yZW1vdmUuYWN0aXZlKCksZi5yZW1vdmUuZW1iZWQoKSxmLnNob3dQbGFjZWhvbGRlcigpLG0ub25SZXNldC5jYWxsKFIpfSxzaG93OmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIlNob3dpbmcgZW1iZWRcIiksZi5zZXQuYWN0aXZlKCksbS5vbkRpc3BsYXkuY2FsbChSKX0saGlkZTpmdW5jdGlvbigpe2YuZGVidWcoXCJIaWRpbmcgZW1iZWRcIiksZi5zaG93UGxhY2Vob2xkZXIoKX0sc2hvd1BsYWNlaG9sZGVyOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIlNob3dpbmcgcGxhY2Vob2xkZXIgaW1hZ2VcIiksZi5yZW1vdmUuYWN0aXZlKCksbS5vblBsYWNlaG9sZGVyRGlzcGxheS5jYWxsKFIpfSxnZXQ6e2lkOmZ1bmN0aW9uKCl7cmV0dXJuIG0uaWR8fGsuZGF0YShiLmlkKX0scGxhY2Vob2xkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbS5wbGFjZWhvbGRlcnx8ay5kYXRhKGIucGxhY2Vob2xkZXIpfSxpY29uOmZ1bmN0aW9uKCl7cmV0dXJuIG0uaWNvbj9tLmljb246ay5kYXRhKGIuaWNvbikhPT1pP2suZGF0YShiLmljb24pOmYuZGV0ZXJtaW5lLmljb24oKX0sc291cmNlOmZ1bmN0aW9uKGUpe3JldHVybiBtLnNvdXJjZT9tLnNvdXJjZTprLmRhdGEoYi5zb3VyY2UpIT09aT9rLmRhdGEoYi5zb3VyY2UpOmYuZGV0ZXJtaW5lLnNvdXJjZSgpfSx0eXBlOmZ1bmN0aW9uKCl7dmFyIGU9Zi5nZXQuc291cmNlKCk7cmV0dXJuIGhbZV0hPT1pJiZoW2VdLnR5cGV9LHVybDpmdW5jdGlvbigpe3JldHVybiBtLnVybD9tLnVybDprLmRhdGEoYi51cmwpIT09aT9rLmRhdGEoYi51cmwpOmYuZGV0ZXJtaW5lLnVybCgpfX0sZGV0ZXJtaW5lOnthdXRvcGxheTpmdW5jdGlvbigpe2Yuc2hvdWxkLmF1dG9wbGF5KCkmJihtLmF1dG9wbGF5PSEwKX0sc291cmNlOmZ1bmN0aW9uKHQpe3ZhciBuPSExO3JldHVybiB0PXR8fGYuZ2V0LnVybCgpLHQmJmUuZWFjaChoLGZ1bmN0aW9uKGUsaSl7aWYodC5zZWFyY2goaS5kb21haW4pIT09LTEpcmV0dXJuIG49ZSwhMX0pLG59LGljb246ZnVuY3Rpb24oKXt2YXIgZT1mLmdldC5zb3VyY2UoKTtyZXR1cm4gaFtlXSE9PWkmJmhbZV0uaWNvbn0sdXJsOmZ1bmN0aW9uKCl7dmFyIGUsdD1tLmlkfHxrLmRhdGEoYi5pZCksbj1tLnNvdXJjZXx8ay5kYXRhKGIuc291cmNlKTtyZXR1cm4gZT1oW25dIT09aSYmaFtuXS51cmwucmVwbGFjZShcIntpZH1cIix0KSxlJiZrLmRhdGEoYi51cmwsZSksZX19LHNldDp7YWN0aXZlOmZ1bmN0aW9uKCl7ay5hZGRDbGFzcyhwLmFjdGl2ZSl9fSxyZW1vdmU6e2FjdGl2ZTpmdW5jdGlvbigpe2sucmVtb3ZlQ2xhc3MocC5hY3RpdmUpfSxlbWJlZDpmdW5jdGlvbigpe0EuZW1wdHkoKX19LGVuY29kZTp7cGFyYW1ldGVyczpmdW5jdGlvbihlKXt2YXIgdCxuPVtdO2Zvcih0IGluIGUpbi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudCh0KStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZVt0XSkpO3JldHVybiBuLmpvaW4oXCImYW1wO1wiKX19LGdlbmVyYXRlOntlbWJlZDpmdW5jdGlvbihlKXtmLmRlYnVnKFwiR2VuZXJhdGluZyBlbWJlZCBodG1sXCIpO3ZhciB0LG4saT1mLmdldC5zb3VyY2UoKTtyZXR1cm4gZT1mLmdldC51cmwoZSksZT8obj1mLmdlbmVyYXRlLnBhcmFtZXRlcnMoaSksdD14LmlmcmFtZShlLG4pKTpmLmVycm9yKHYubm9VUkwsayksdH0scGFyYW1ldGVyczpmdW5jdGlvbih0LG4pe3ZhciBvPWhbdF0mJmhbdF0ucGFyYW1ldGVycyE9PWk/aFt0XS5wYXJhbWV0ZXJzKG0pOnt9O3JldHVybiBuPW58fG0ucGFyYW1ldGVycyxuJiYobz1lLmV4dGVuZCh7fSxvLG4pKSxvPW0ub25FbWJlZChvKSxmLmVuY29kZS5wYXJhbWV0ZXJzKG8pfX0saGFzOntlbWJlZDpmdW5jdGlvbigpe3JldHVybiBBLmxlbmd0aD4wfSxwbGFjZWhvbGRlcjpmdW5jdGlvbigpe3JldHVybiBtLnBsYWNlaG9sZGVyfHxrLmRhdGEoYi5wbGFjZWhvbGRlcil9fSxzaG91bGQ6e2F1dG9wbGF5OmZ1bmN0aW9uKCl7cmV0dXJuXCJhdXRvXCI9PT1tLmF1dG9wbGF5P20ucGxhY2Vob2xkZXJ8fGsuZGF0YShiLnBsYWNlaG9sZGVyKSE9PWk6bS5hdXRvcGxheX19LGlzOnt2aWRlbzpmdW5jdGlvbigpe3JldHVyblwidmlkZW9cIj09Zi5nZXQudHlwZSgpfX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKGYuZGVidWcoXCJDaGFuZ2luZyBzZXR0aW5nXCIsdCxuKSxlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsbSx0KTtlbHNle2lmKG49PT1pKXJldHVybiBtW3RdO2UuaXNQbGFpbk9iamVjdChtW3RdKT9lLmV4dGVuZCghMCxtW3RdLG4pOm1bdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGYsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gZlt0XTtmW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpeyFtLnNpbGVudCYmbS5kZWJ1ZyYmKG0ucGVyZm9ybWFuY2U/Zi5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooZi5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLG0ubmFtZStcIjpcIiksZi5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpeyFtLnNpbGVudCYmbS52ZXJib3NlJiZtLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxtLm5hbWUrXCI6XCIpLGYudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXttLnNpbGVudHx8KGYuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxmLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO20ucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9c3x8dCxuPXQtaSxzPXQsbC5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OlIsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KGYucGVyZm9ybWFuY2UudGltZXIpLGYucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChmLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PW0ubmFtZStcIjpcIixuPTA7cz0hMSxjbGVhclRpbWVvdXQoZi5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixyJiYodCs9XCIgJ1wiK3IrXCInXCIpLGEubGVuZ3RoPjEmJih0Kz1cIiAoXCIrYS5sZW5ndGgrXCIpXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZsLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUobCk6ZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxsPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixhKXt2YXIgcixzLGwsYz1FO3JldHVybiBuPW58fGQsYT1SfHxhLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZjIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QoY1thXSkmJm4hPXIpYz1jW2FdO2Vsc2V7aWYoY1thXSE9PWkpcmV0dXJuIHM9Y1thXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGNbb10pfHxuPT1yKXJldHVybiBjW29dIT09aT8ocz1jW29dLCExKTooZi5lcnJvcih2Lm1ldGhvZCx0KSwhMSk7Yz1jW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/bD1zLmFwcGx5KGEsbik6cyE9PWkmJihsPXMpLGUuaXNBcnJheShvKT9vLnB1c2gobCk6byE9PWk/bz1bbyxsXTpsIT09aSYmKG89bCksc319LHU/KEU9PT1pJiZmLmluaXRpYWxpemUoKSxmLmludm9rZShjKSk6KEUhPT1pJiZFLmludm9rZShcImRlc3Ryb3lcIiksZi5pbml0aWFsaXplKCkpfSksbyE9PWk/bzp0aGlzfSxlLmZuLmVtYmVkLnNldHRpbmdzPXtuYW1lOlwiRW1iZWRcIixuYW1lc3BhY2U6XCJlbWJlZFwiLHNpbGVudDohMSxkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLGljb246ITEsc291cmNlOiExLHVybDohMSxpZDohMSxhdXRvcGxheTpcImF1dG9cIixjb2xvcjpcIiM0NDQ0NDRcIixoZDohMCxicmFuZGVkVUk6ITEscGFyYW1ldGVyczohMSxvbkRpc3BsYXk6ZnVuY3Rpb24oKXt9LG9uUGxhY2Vob2xkZXJEaXNwbGF5OmZ1bmN0aW9uKCl7fSxvblJlc2V0OmZ1bmN0aW9uKCl7fSxvbkNyZWF0ZTpmdW5jdGlvbihlKXt9LG9uRW1iZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LG1ldGFkYXRhOntpZDpcImlkXCIsaWNvbjpcImljb25cIixwbGFjZWhvbGRlcjpcInBsYWNlaG9sZGVyXCIsc291cmNlOlwic291cmNlXCIsdXJsOlwidXJsXCJ9LGVycm9yOntub1VSTDpcIk5vIFVSTCBzcGVjaWZpZWRcIixtZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWRcIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixlbWJlZDpcImVtYmVkXCJ9LHNlbGVjdG9yOntlbWJlZDpcIi5lbWJlZFwiLHBsYWNlaG9sZGVyOlwiLnBsYWNlaG9sZGVyXCIsaWNvbjpcIi5pY29uXCJ9LHNvdXJjZXM6e3lvdXR1YmU6e25hbWU6XCJ5b3V0dWJlXCIsdHlwZTpcInZpZGVvXCIsaWNvbjpcInZpZGVvIHBsYXlcIixkb21haW46XCJ5b3V0dWJlLmNvbVwiLHVybDpcIi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL3tpZH1cIixwYXJhbWV0ZXJzOmZ1bmN0aW9uKGUpe3JldHVybnthdXRvaGlkZTohZS5icmFuZGVkVUksYXV0b3BsYXk6ZS5hdXRvcGxheSxjb2xvcjplLmNvbG9yfHxpLGhxOmUuaGQsanNhcGk6ZS5hcGksbW9kZXN0YnJhbmRpbmc6IWUuYnJhbmRlZFVJfX19LHZpbWVvOntuYW1lOlwidmltZW9cIix0eXBlOlwidmlkZW9cIixpY29uOlwidmlkZW8gcGxheVwiLGRvbWFpbjpcInZpbWVvLmNvbVwiLHVybDpcIi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby97aWR9XCIscGFyYW1ldGVyczpmdW5jdGlvbihlKXtyZXR1cm57YXBpOmUuYXBpLGF1dG9wbGF5OmUuYXV0b3BsYXksYnlsaW5lOmUuYnJhbmRlZFVJLGNvbG9yOmUuY29sb3J8fGkscG9ydHJhaXQ6ZS5icmFuZGVkVUksdGl0bGU6ZS5icmFuZGVkVUl9fX19LHRlbXBsYXRlczp7aWZyYW1lOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZTtyZXR1cm4gdCYmKG4rPVwiP1wiK3QpLCc8aWZyYW1lIHNyYz1cIicrbisnXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIGZyYW1lYm9yZGVyPVwiMFwiIHNjcm9sbGluZz1cIm5vXCIgd2Via2l0QWxsb3dGdWxsU2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBhbGxvd0Z1bGxTY3JlZW4+PC9pZnJhbWU+J30scGxhY2Vob2xkZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj1cIlwiO3JldHVybiB0JiYobis9JzxpIGNsYXNzPVwiJyt0KycgaWNvblwiPjwvaT4nKSxlJiYobis9JzxpbWcgY2xhc3M9XCJwbGFjZWhvbGRlclwiIHNyYz1cIicrZSsnXCI+Jyksbn19LGFwaTohMSxvblBhdXNlOmZ1bmN0aW9uKCl7fSxvblBsYXk6ZnVuY3Rpb24oKXt9LG9uU3RvcDpmdW5jdGlvbigpe319fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjt0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGUuZm4ubW9kYWw9ZnVuY3Rpb24obyl7dmFyIGEscj1lKHRoaXMpLHM9ZSh0KSxsPWUobiksYz1lKFwiYm9keVwiKSx1PXIuc2VsZWN0b3J8fFwiXCIsZD0obmV3IERhdGUpLmdldFRpbWUoKSxmPVtdLG09YXJndW1lbnRzWzBdLGc9XCJzdHJpbmdcIj09dHlwZW9mIG0scD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxoPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwwKX07cmV0dXJuIHIuZWFjaChmdW5jdGlvbigpe3ZhciByLHYsYix5LHgsQyx3LGssUyxUPWUuaXNQbGFpbk9iamVjdChvKT9lLmV4dGVuZCghMCx7fSxlLmZuLm1vZGFsLnNldHRpbmdzLG8pOmUuZXh0ZW5kKHt9LGUuZm4ubW9kYWwuc2V0dGluZ3MpLEE9VC5zZWxlY3RvcixSPVQuY2xhc3NOYW1lLEU9VC5uYW1lc3BhY2UsUD1ULmVycm9yLEY9XCIuXCIrRSxPPVwibW9kdWxlLVwiK0UsRD1lKHRoaXMpLHE9ZShULmNvbnRleHQpLGo9RC5maW5kKEEuY2xvc2UpLHo9dGhpcyxNPUQuZGF0YShPKTtTPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Uy52ZXJib3NlKFwiSW5pdGlhbGl6aW5nIGRpbW1lclwiLHEpLFMuY3JlYXRlLmlkKCksUy5jcmVhdGUuZGltbWVyKCksUy5yZWZyZXNoTW9kYWxzKCksUy5iaW5kLmV2ZW50cygpLFQub2JzZXJ2ZUNoYW5nZXMmJlMub2JzZXJ2ZUNoYW5nZXMoKSxTLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7Uy52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2RhbFwiKSxNPVMsRC5kYXRhKE8sTSl9LGNyZWF0ZTp7ZGltbWVyOmZ1bmN0aW9uKCl7dmFyIHQ9e2RlYnVnOlQuZGVidWcsZGltbWVyTmFtZTpcIm1vZGFsc1wiLGR1cmF0aW9uOntzaG93OlQuZHVyYXRpb24saGlkZTpULmR1cmF0aW9ufX0sbj1lLmV4dGVuZCghMCx0LFQuZGltbWVyU2V0dGluZ3MpO3JldHVybiBULmludmVydGVkJiYobi52YXJpYXRpb249bi52YXJpYXRpb24hPT1pP24udmFyaWF0aW9uK1wiIGludmVydGVkXCI6XCJpbnZlcnRlZFwiKSxlLmZuLmRpbW1lcj09PWk/dm9pZCBTLmVycm9yKFAuZGltbWVyKTooUy5kZWJ1ZyhcIkNyZWF0aW5nIGRpbW1lciB3aXRoIHNldHRpbmdzXCIsbikseT1xLmRpbW1lcihuKSxULmRldGFjaGFibGU/KFMudmVyYm9zZShcIk1vZGFsIGlzIGRldGFjaGFibGUsIG1vdmluZyBjb250ZW50IGludG8gZGltbWVyXCIpLHkuZGltbWVyKFwiYWRkIGNvbnRlbnRcIixEKSk6Uy5zZXQudW5kZXRhY2hlZCgpLFQuYmx1cnJpbmcmJnkuYWRkQ2xhc3MoUi5ibHVycmluZyksdm9pZCh4PXkuZGltbWVyKFwiZ2V0IGRpbW1lclwiKSkpfSxpZDpmdW5jdGlvbigpe3c9KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpK1wiMDAwMDAwMDAwXCIpLnN1YnN0cigyLDgpLEM9XCIuXCIrdyxTLnZlcmJvc2UoXCJDcmVhdGluZyB1bmlxdWUgaWQgZm9yIGVsZW1lbnRcIix3KX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtTLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZGFsXCIpLEQucmVtb3ZlRGF0YShPKS5vZmYoRikscy5vZmYoQykseC5vZmYoQyksai5vZmYoRikscS5kaW1tZXIoXCJkZXN0cm95XCIpfSxvYnNlcnZlQ2hhbmdlczpmdW5jdGlvbigpe1wiTXV0YXRpb25PYnNlcnZlclwiaW4gdCYmKGs9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oZSl7Uy5kZWJ1ZyhcIkRPTSB0cmVlIG1vZGlmaWVkLCByZWZyZXNoaW5nXCIpLFMucmVmcmVzaCgpfSksay5vYnNlcnZlKHose2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSksUy5kZWJ1ZyhcIlNldHRpbmcgdXAgbXV0YXRpb24gb2JzZXJ2ZXJcIixrKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtTLnJlbW92ZS5zY3JvbGxpbmcoKSxTLmNhY2hlU2l6ZXMoKSxTLnNldC5zY3JlZW5IZWlnaHQoKSxTLnNldC50eXBlKCksUy5zZXQucG9zaXRpb24oKX0scmVmcmVzaE1vZGFsczpmdW5jdGlvbigpe3Y9RC5zaWJsaW5ncyhBLm1vZGFsKSxyPXYuYWRkKEQpfSxhdHRhY2hFdmVudHM6ZnVuY3Rpb24odCxuKXt2YXIgaT1lKHQpO249ZS5pc0Z1bmN0aW9uKFNbbl0pP1Nbbl06Uy50b2dnbGUsaS5sZW5ndGg+MD8oUy5kZWJ1ZyhcIkF0dGFjaGluZyBtb2RhbCBldmVudHMgdG8gZWxlbWVudFwiLHQsbiksaS5vZmYoRikub24oXCJjbGlja1wiK0YsbikpOlMuZXJyb3IoUC5ub3RGb3VuZCx0KX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7Uy52ZXJib3NlKFwiQXR0YWNoaW5nIGV2ZW50c1wiKSxELm9uKFwiY2xpY2tcIitGLEEuY2xvc2UsUy5ldmVudC5jbG9zZSkub24oXCJjbGlja1wiK0YsQS5hcHByb3ZlLFMuZXZlbnQuYXBwcm92ZSkub24oXCJjbGlja1wiK0YsQS5kZW55LFMuZXZlbnQuZGVueSkscy5vbihcInJlc2l6ZVwiK0MsUy5ldmVudC5yZXNpemUpfX0sZ2V0OntpZDpmdW5jdGlvbigpe3JldHVybihNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KStcIjAwMDAwMDAwMFwiKS5zdWJzdHIoMiw4KX19LGV2ZW50OnthcHByb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFQub25BcHByb3ZlLmNhbGwoeixlKHRoaXMpKT09PSExP3ZvaWQgUy52ZXJib3NlKFwiQXBwcm92ZSBjYWxsYmFjayByZXR1cm5lZCBmYWxzZSBjYW5jZWxsaW5nIGhpZGVcIik6dm9pZCBTLmhpZGUoKX0sZGVueTpmdW5jdGlvbigpe3JldHVybiBULm9uRGVueS5jYWxsKHosZSh0aGlzKSk9PT0hMT92b2lkIFMudmVyYm9zZShcIkRlbnkgY2FsbGJhY2sgcmV0dXJuZWQgZmFsc2UgY2FuY2VsbGluZyBoaWRlXCIpOnZvaWQgUy5oaWRlKCl9LGNsb3NlOmZ1bmN0aW9uKCl7Uy5oaWRlKCl9LGNsaWNrOmZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLG89aS5jbG9zZXN0KEEubW9kYWwpLmxlbmd0aD4wLGE9ZS5jb250YWlucyhuLmRvY3VtZW50RWxlbWVudCx0LnRhcmdldCk7IW8mJmEmJihTLmRlYnVnKFwiRGltbWVyIGNsaWNrZWQsIGhpZGluZyBhbGwgbW9kYWxzXCIpLFMuaXMuYWN0aXZlKCkmJihTLnJlbW92ZS5jbGlja2F3YXkoKSxULmFsbG93TXVsdGlwbGU/Uy5oaWRlKCk6Uy5oaWRlQWxsKCkpKX0sZGVib3VuY2U6ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoUy50aW1lciksUy50aW1lcj1zZXRUaW1lb3V0KGUsdCl9LGtleWJvYXJkOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2hpY2gsbj0yNzt0PT1uJiYoVC5jbG9zYWJsZT8oUy5kZWJ1ZyhcIkVzY2FwZSBrZXkgcHJlc3NlZCBoaWRpbmcgbW9kYWxcIiksUy5oaWRlKCkpOlMuZGVidWcoXCJFc2NhcGUga2V5IHByZXNzZWQsIGJ1dCBjbG9zYWJsZSBpcyBzZXQgdG8gZmFsc2VcIiksZS5wcmV2ZW50RGVmYXVsdCgpKX0scmVzaXplOmZ1bmN0aW9uKCl7eS5kaW1tZXIoXCJpcyBhY3RpdmVcIikmJmgoUy5yZWZyZXNoKX19LHRvZ2dsZTpmdW5jdGlvbigpe1MuaXMuYWN0aXZlKCl8fFMuaXMuYW5pbWF0aW5nKCk/Uy5oaWRlKCk6Uy5zaG93KCl9LHNob3c6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sUy5yZWZyZXNoTW9kYWxzKCksUy5zaG93TW9kYWwodCl9LGhpZGU6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sUy5yZWZyZXNoTW9kYWxzKCksUy5oaWRlTW9kYWwodCl9LHNob3dNb2RhbDpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxTLmlzLmFuaW1hdGluZygpfHwhUy5pcy5hY3RpdmUoKT8oUy5zaG93RGltbWVyKCksUy5jYWNoZVNpemVzKCksUy5zZXQucG9zaXRpb24oKSxTLnNldC5zY3JlZW5IZWlnaHQoKSxTLnNldC50eXBlKCksUy5zZXQuY2xpY2thd2F5KCksIVQuYWxsb3dNdWx0aXBsZSYmUy5vdGhlcnMuYWN0aXZlKCk/Uy5oaWRlT3RoZXJzKFMuc2hvd01vZGFsKTooVC5vblNob3cuY2FsbCh6KSxULnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJkQudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT8oUy5kZWJ1ZyhcIlNob3dpbmcgbW9kYWwgd2l0aCBjc3MgYW5pbWF0aW9uc1wiKSxELnRyYW5zaXRpb24oe2RlYnVnOlQuZGVidWcsYW5pbWF0aW9uOlQudHJhbnNpdGlvbitcIiBpblwiLHF1ZXVlOlQucXVldWUsZHVyYXRpb246VC5kdXJhdGlvbix1c2VGYWlsU2FmZTohMCxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7VC5vblZpc2libGUuYXBwbHkoeiksVC5rZXlib2FyZFNob3J0Y3V0cyYmUy5hZGQua2V5Ym9hcmRTaG9ydGN1dHMoKSxTLnNhdmUuZm9jdXMoKSxTLnNldC5hY3RpdmUoKSxULmF1dG9mb2N1cyYmUy5zZXQuYXV0b2ZvY3VzKCksdCgpfX0pKTpTLmVycm9yKFAubm9UcmFuc2l0aW9uKSkpOlMuZGVidWcoXCJNb2RhbCBpcyBhbHJlYWR5IHZpc2libGVcIil9LGhpZGVNb2RhbDpmdW5jdGlvbih0LG4pe3JldHVybiB0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxTLmRlYnVnKFwiSGlkaW5nIG1vZGFsXCIpLFQub25IaWRlLmNhbGwoeixlKHRoaXMpKT09PSExP3ZvaWQgUy52ZXJib3NlKFwiSGlkZSBjYWxsYmFjayByZXR1cm5lZCBmYWxzZSBjYW5jZWxsaW5nIGhpZGVcIik6dm9pZCgoUy5pcy5hbmltYXRpbmcoKXx8Uy5pcy5hY3RpdmUoKSkmJihULnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJkQudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT8oUy5yZW1vdmUuYWN0aXZlKCksRC50cmFuc2l0aW9uKHtkZWJ1ZzpULmRlYnVnLGFuaW1hdGlvbjpULnRyYW5zaXRpb24rXCIgb3V0XCIscXVldWU6VC5xdWV1ZSxkdXJhdGlvbjpULmR1cmF0aW9uLHVzZUZhaWxTYWZlOiEwLG9uU3RhcnQ6ZnVuY3Rpb24oKXtTLm90aGVycy5hY3RpdmUoKXx8bnx8Uy5oaWRlRGltbWVyKCksVC5rZXlib2FyZFNob3J0Y3V0cyYmUy5yZW1vdmUua2V5Ym9hcmRTaG9ydGN1dHMoKX0sb25Db21wbGV0ZTpmdW5jdGlvbigpe1Qub25IaWRkZW4uY2FsbCh6KSxTLnJlc3RvcmUuZm9jdXMoKSx0KCl9fSkpOlMuZXJyb3IoUC5ub1RyYW5zaXRpb24pKSl9LHNob3dEaW1tZXI6ZnVuY3Rpb24oKXt5LmRpbW1lcihcImlzIGFuaW1hdGluZ1wiKXx8IXkuZGltbWVyKFwiaXMgYWN0aXZlXCIpPyhTLmRlYnVnKFwiU2hvd2luZyBkaW1tZXJcIikseS5kaW1tZXIoXCJzaG93XCIpKTpTLmRlYnVnKFwiRGltbWVyIGFscmVhZHkgdmlzaWJsZVwiKX0saGlkZURpbW1lcjpmdW5jdGlvbigpe3JldHVybiB5LmRpbW1lcihcImlzIGFuaW1hdGluZ1wiKXx8eS5kaW1tZXIoXCJpcyBhY3RpdmVcIik/dm9pZCB5LmRpbW1lcihcImhpZGVcIixmdW5jdGlvbigpe1MucmVtb3ZlLmNsaWNrYXdheSgpLFMucmVtb3ZlLnNjcmVlbkhlaWdodCgpfSk6dm9pZCBTLmRlYnVnKFwiRGltbWVyIGlzIG5vdCB2aXNpYmxlIGNhbm5vdCBoaWRlXCIpfSxoaWRlQWxsOmZ1bmN0aW9uKHQpe3ZhciBuPXIuZmlsdGVyKFwiLlwiK1IuYWN0aXZlK1wiLCAuXCIrUi5hbmltYXRpbmcpO3Q9ZS5pc0Z1bmN0aW9uKHQpP3Q6ZnVuY3Rpb24oKXt9LG4ubGVuZ3RoPjAmJihTLmRlYnVnKFwiSGlkaW5nIGFsbCB2aXNpYmxlIG1vZGFsc1wiKSxTLmhpZGVEaW1tZXIoKSxuLm1vZGFsKFwiaGlkZSBtb2RhbFwiLHQpKX0saGlkZU90aGVyczpmdW5jdGlvbih0KXt2YXIgbj12LmZpbHRlcihcIi5cIitSLmFjdGl2ZStcIiwgLlwiK1IuYW5pbWF0aW5nKTt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxuLmxlbmd0aD4wJiYoUy5kZWJ1ZyhcIkhpZGluZyBvdGhlciBtb2RhbHNcIix2KSxuLm1vZGFsKFwiaGlkZSBtb2RhbFwiLHQsITApKX0sb3RoZXJzOnthY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdi5maWx0ZXIoXCIuXCIrUi5hY3RpdmUpLmxlbmd0aD4wfSxhbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdi5maWx0ZXIoXCIuXCIrUi5hbmltYXRpbmcpLmxlbmd0aD4wfX0sYWRkOntrZXlib2FyZFNob3J0Y3V0czpmdW5jdGlvbigpe1MudmVyYm9zZShcIkFkZGluZyBrZXlib2FyZCBzaG9ydGN1dHNcIiksbC5vbihcImtleXVwXCIrRixTLmV2ZW50LmtleWJvYXJkKX19LHNhdmU6e2ZvY3VzOmZ1bmN0aW9uKCl7Yj1lKG4uYWN0aXZlRWxlbWVudCkuYmx1cigpfX0scmVzdG9yZTp7Zm9jdXM6ZnVuY3Rpb24oKXtiJiZiLmxlbmd0aD4wJiZiLmZvY3VzKCl9fSxyZW1vdmU6e2FjdGl2ZTpmdW5jdGlvbigpe0QucmVtb3ZlQ2xhc3MoUi5hY3RpdmUpfSxjbGlja2F3YXk6ZnVuY3Rpb24oKXtULmNsb3NhYmxlJiZ4Lm9mZihcImNsaWNrXCIrQyl9LGJvZHlTdHlsZTpmdW5jdGlvbigpe1wiXCI9PT1jLmF0dHIoXCJzdHlsZVwiKSYmKFMudmVyYm9zZShcIlJlbW92aW5nIHN0eWxlIGF0dHJpYnV0ZVwiKSxjLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSl9LHNjcmVlbkhlaWdodDpmdW5jdGlvbigpe1MuZGVidWcoXCJSZW1vdmluZyBwYWdlIGhlaWdodFwiKSxjLmNzcyhcImhlaWdodFwiLFwiXCIpfSxrZXlib2FyZFNob3J0Y3V0czpmdW5jdGlvbigpe1MudmVyYm9zZShcIlJlbW92aW5nIGtleWJvYXJkIHNob3J0Y3V0c1wiKSxsLm9mZihcImtleXVwXCIrRil9LHNjcm9sbGluZzpmdW5jdGlvbigpe3kucmVtb3ZlQ2xhc3MoUi5zY3JvbGxpbmcpLEQucmVtb3ZlQ2xhc3MoUi5zY3JvbGxpbmcpfX0sY2FjaGVTaXplczpmdW5jdGlvbigpe3ZhciBvPUQub3V0ZXJIZWlnaHQoKTtTLmNhY2hlIT09aSYmMD09PW98fChTLmNhY2hlPXtwYWdlSGVpZ2h0OmUobikub3V0ZXJIZWlnaHQoKSxoZWlnaHQ6bytULm9mZnNldCxjb250ZXh0SGVpZ2h0OlwiYm9keVwiPT1ULmNvbnRleHQ/ZSh0KS5oZWlnaHQoKTp5LmhlaWdodCgpfSksUy5kZWJ1ZyhcIkNhY2hpbmcgbW9kYWwgYW5kIGNvbnRhaW5lciBzaXplc1wiLFMuY2FjaGUpfSxjYW46e2ZpdDpmdW5jdGlvbigpe3JldHVybiBTLmNhY2hlLmhlaWdodCsyKlQucGFkZGluZzxTLmNhY2hlLmNvbnRleHRIZWlnaHR9fSxpczp7YWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIEQuaGFzQ2xhc3MoUi5hY3RpdmUpfSxhbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gRC50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpP0QudHJhbnNpdGlvbihcImlzIGFuaW1hdGluZ1wiKTpELmlzKFwiOnZpc2libGVcIil9LHNjcm9sbGluZzpmdW5jdGlvbigpe3JldHVybiB5Lmhhc0NsYXNzKFIuc2Nyb2xsaW5nKX0sbW9kZXJuQnJvd3NlcjpmdW5jdGlvbigpe3JldHVybiEodC5BY3RpdmVYT2JqZWN0fHxcIkFjdGl2ZVhPYmplY3RcImluIHQpfX0sc2V0OnthdXRvZm9jdXM6ZnVuY3Rpb24oKXt2YXIgZT1ELmZpbmQoXCJbdGFiaW5kZXhdLCA6aW5wdXRcIikuZmlsdGVyKFwiOnZpc2libGVcIiksdD1lLmZpbHRlcihcIlthdXRvZm9jdXNdXCIpLG49dC5sZW5ndGg+MD90LmZpcnN0KCk6ZS5maXJzdCgpO24ubGVuZ3RoPjAmJm4uZm9jdXMoKX0sY2xpY2thd2F5OmZ1bmN0aW9uKCl7VC5jbG9zYWJsZSYmeC5vbihcImNsaWNrXCIrQyxTLmV2ZW50LmNsaWNrKX0sc2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7Uy5jYW4uZml0KCk/Yy5jc3MoXCJoZWlnaHRcIixcIlwiKTooUy5kZWJ1ZyhcIk1vZGFsIGlzIHRhbGxlciB0aGFuIHBhZ2UgY29udGVudCwgcmVzaXppbmcgcGFnZSBoZWlnaHRcIiksYy5jc3MoXCJoZWlnaHRcIixTLmNhY2hlLmhlaWdodCsyKlQucGFkZGluZykpfSxhY3RpdmU6ZnVuY3Rpb24oKXtELmFkZENsYXNzKFIuYWN0aXZlKX0sc2Nyb2xsaW5nOmZ1bmN0aW9uKCl7eS5hZGRDbGFzcyhSLnNjcm9sbGluZyksRC5hZGRDbGFzcyhSLnNjcm9sbGluZyl9LHR5cGU6ZnVuY3Rpb24oKXtTLmNhbi5maXQoKT8oUy52ZXJib3NlKFwiTW9kYWwgZml0cyBvbiBzY3JlZW5cIiksUy5vdGhlcnMuYWN0aXZlKCl8fFMub3RoZXJzLmFuaW1hdGluZygpfHxTLnJlbW92ZS5zY3JvbGxpbmcoKSk6KFMudmVyYm9zZShcIk1vZGFsIGNhbm5vdCBmaXQgb24gc2NyZWVuIHNldHRpbmcgdG8gc2Nyb2xsaW5nXCIpLFMuc2V0LnNjcm9sbGluZygpKX0scG9zaXRpb246ZnVuY3Rpb24oKXtTLnZlcmJvc2UoXCJDZW50ZXJpbmcgbW9kYWwgb24gcGFnZVwiLFMuY2FjaGUpLFMuY2FuLmZpdCgpP0QuY3NzKHt0b3A6XCJcIixtYXJnaW5Ub3A6LShTLmNhY2hlLmhlaWdodC8yKX0pOkQuY3NzKHttYXJnaW5Ub3A6XCJcIix0b3A6bC5zY3JvbGxUb3AoKX0pfSx1bmRldGFjaGVkOmZ1bmN0aW9uKCl7eS5hZGRDbGFzcyhSLnVuZGV0YWNoZWQpfX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKFMuZGVidWcoXCJDaGFuZ2luZyBzZXR0aW5nXCIsdCxuKSxlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsVCx0KTtlbHNle2lmKG49PT1pKXJldHVybiBUW3RdO2UuaXNQbGFpbk9iamVjdChUW3RdKT9lLmV4dGVuZCghMCxUW3RdLG4pOlRbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLFMsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gU1t0XTtTW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpeyFULnNpbGVudCYmVC5kZWJ1ZyYmKFQucGVyZm9ybWFuY2U/Uy5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooUy5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLFQubmFtZStcIjpcIiksUy5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpeyFULnNpbGVudCYmVC52ZXJib3NlJiZULmRlYnVnJiYoVC5wZXJmb3JtYW5jZT9TLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihTLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxULm5hbWUrXCI6XCIpLFMudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtULnNpbGVudHx8KFMuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsVC5uYW1lK1wiOlwiKSxTLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO1QucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9ZHx8dCxuPXQtaSxkPXQsZi5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OnosXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KFMucGVyZm9ybWFuY2UudGltZXIpLFMucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChTLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PVQubmFtZStcIjpcIixuPTA7ZD0hMSxjbGVhclRpbWVvdXQoUy5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGYsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIix1JiYodCs9XCIgJ1wiK3UrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZmLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoZik6ZS5lYWNoKGYsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxmPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcixzLGwsYz1NO3JldHVybiBuPW58fHAsbz16fHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZjIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QoY1thXSkmJm4hPXIpYz1jW2FdO2Vsc2V7aWYoY1thXSE9PWkpcmV0dXJuIHM9Y1thXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGNbb10pfHxuPT1yKXJldHVybiBjW29dIT09aSYmKHM9Y1tvXSwhMSk7Yz1jW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/bD1zLmFwcGx5KG8sbik6cyE9PWkmJihsPXMpLGUuaXNBcnJheShhKT9hLnB1c2gobCk6YSE9PWk/YT1bYSxsXTpsIT09aSYmKGE9bCksc319LGc/KE09PT1pJiZTLmluaXRpYWxpemUoKSxTLmludm9rZShtKSk6KE0hPT1pJiZNLmludm9rZShcImRlc3Ryb3lcIiksUy5pbml0aWFsaXplKCkpfSksYSE9PWk/YTp0aGlzfSxlLmZuLm1vZGFsLnNldHRpbmdzPXtuYW1lOlwiTW9kYWxcIixuYW1lc3BhY2U6XCJtb2RhbFwiLHNpbGVudDohMSxkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLG9ic2VydmVDaGFuZ2VzOiExLGFsbG93TXVsdGlwbGU6ITEsZGV0YWNoYWJsZTohMCxjbG9zYWJsZTohMCxhdXRvZm9jdXM6ITAsaW52ZXJ0ZWQ6ITEsYmx1cnJpbmc6ITEsZGltbWVyU2V0dGluZ3M6e2Nsb3NhYmxlOiExLHVzZUNTUzohMH0sa2V5Ym9hcmRTaG9ydGN1dHM6ITAsY29udGV4dDpcImJvZHlcIixxdWV1ZTohMSxkdXJhdGlvbjo1MDAsb2Zmc2V0OjAsdHJhbnNpdGlvbjpcInNjYWxlXCIscGFkZGluZzo1MCxvblNob3c6ZnVuY3Rpb24oKXt9LG9uVmlzaWJsZTpmdW5jdGlvbigpe30sb25IaWRlOmZ1bmN0aW9uKCl7cmV0dXJuITB9LG9uSGlkZGVuOmZ1bmN0aW9uKCl7fSxvbkFwcHJvdmU6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25EZW55OmZ1bmN0aW9uKCl7cmV0dXJuITB9LHNlbGVjdG9yOntjbG9zZTpcIj4gLmNsb3NlXCIsYXBwcm92ZTpcIi5hY3Rpb25zIC5wb3NpdGl2ZSwgLmFjdGlvbnMgLmFwcHJvdmUsIC5hY3Rpb25zIC5va1wiLGRlbnk6XCIuYWN0aW9ucyAubmVnYXRpdmUsIC5hY3Rpb25zIC5kZW55LCAuYWN0aW9ucyAuY2FuY2VsXCIsbW9kYWw6XCIudWkubW9kYWxcIn0sZXJyb3I6e2RpbW1lcjpcIlVJIERpbW1lciwgYSByZXF1aXJlZCBjb21wb25lbnQgaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgcGFnZVwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIixub3RGb3VuZDpcIlRoZSBlbGVtZW50IHlvdSBzcGVjaWZpZWQgY291bGQgbm90IGJlIGZvdW5kXCJ9LGNsYXNzTmFtZTp7YWN0aXZlOlwiYWN0aXZlXCIsYW5pbWF0aW5nOlwiYW5pbWF0aW5nXCIsYmx1cnJpbmc6XCJibHVycmluZ1wiLHNjcm9sbGluZzpcInNjcm9sbGluZ1wiLHVuZGV0YWNoZWQ6XCJ1bmRldGFjaGVkXCJ9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxlLmZuLm5hZz1mdW5jdGlvbihuKXt2YXIgbyxhPWUodGhpcykscj1hLnNlbGVjdG9yfHxcIlwiLHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksbD1bXSxjPWFyZ3VtZW50c1swXSx1PVwic3RyaW5nXCI9PXR5cGVvZiBjLGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbigpe3ZhciBhLGY9ZS5pc1BsYWluT2JqZWN0KG4pP2UuZXh0ZW5kKCEwLHt9LGUuZm4ubmFnLnNldHRpbmdzLG4pOmUuZXh0ZW5kKHt9LGUuZm4ubmFnLnNldHRpbmdzKSxtPShmLmNsYXNzTmFtZSxmLnNlbGVjdG9yKSxnPWYuZXJyb3IscD1mLm5hbWVzcGFjZSxoPVwiLlwiK3Asdj1wK1wiLW1vZHVsZVwiLGI9ZSh0aGlzKSx5PShiLmZpbmQobS5jbG9zZSksZShmLmNvbnRleHQ/Zi5jb250ZXh0OlwiYm9keVwiKSkseD10aGlzLEM9Yi5kYXRhKHYpO3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwwKX07YT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe2EudmVyYm9zZShcIkluaXRpYWxpemluZyBlbGVtZW50XCIpLGIub24oXCJjbGlja1wiK2gsbS5jbG9zZSxhLmRpc21pc3MpLmRhdGEodixhKSxmLmRldGFjaGFibGUmJmIucGFyZW50KClbMF0hPT15WzBdJiZiLmRldGFjaCgpLnByZXBlbmRUbyh5KSxmLmRpc3BsYXlUaW1lPjAmJnNldFRpbWVvdXQoYS5oaWRlLGYuZGlzcGxheVRpbWUpLGEuc2hvdygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7YS52ZXJib3NlKFwiRGVzdHJveWluZyBpbnN0YW5jZVwiKSxiLnJlbW92ZURhdGEodikub2ZmKGgpfSxzaG93OmZ1bmN0aW9uKCl7YS5zaG91bGQuc2hvdygpJiYhYi5pcyhcIjp2aXNpYmxlXCIpJiYoYS5kZWJ1ZyhcIlNob3dpbmcgbmFnXCIsZi5hbmltYXRpb24uc2hvdyksXCJmYWRlXCI9PWYuYW5pbWF0aW9uLnNob3c/Yi5mYWRlSW4oZi5kdXJhdGlvbixmLmVhc2luZyk6Yi5zbGlkZURvd24oZi5kdXJhdGlvbixmLmVhc2luZykpfSxoaWRlOmZ1bmN0aW9uKCl7YS5kZWJ1ZyhcIlNob3dpbmcgbmFnXCIsZi5hbmltYXRpb24uaGlkZSksXCJmYWRlXCI9PWYuYW5pbWF0aW9uLnNob3c/Yi5mYWRlSW4oZi5kdXJhdGlvbixmLmVhc2luZyk6Yi5zbGlkZVVwKGYuZHVyYXRpb24sZi5lYXNpbmcpfSxvbkhpZGU6ZnVuY3Rpb24oKXthLmRlYnVnKFwiUmVtb3ZpbmcgbmFnXCIsZi5hbmltYXRpb24uaGlkZSksYi5yZW1vdmUoKSxmLm9uSGlkZSYmZi5vbkhpZGUoKX0sZGlzbWlzczpmdW5jdGlvbihlKXtmLnN0b3JhZ2VNZXRob2QmJmEuc3RvcmFnZS5zZXQoZi5rZXksZi52YWx1ZSksYS5oaWRlKCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCl9LHNob3VsZDp7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmLnBlcnNpc3Q/KGEuZGVidWcoXCJQZXJzaXN0ZW50IG5hZyBpcyBzZXQsIGNhbiBzaG93IG5hZ1wiKSwhMCk6YS5zdG9yYWdlLmdldChmLmtleSkhPWYudmFsdWUudG9TdHJpbmcoKT8oYS5kZWJ1ZyhcIlN0b3JlZCB2YWx1ZSBpcyBub3Qgc2V0LCBjYW4gc2hvdyBuYWdcIixhLnN0b3JhZ2UuZ2V0KGYua2V5KSksITApOihhLmRlYnVnKFwiU3RvcmVkIHZhbHVlIGlzIHNldCwgY2Fubm90IHNob3cgbmFnXCIsYS5zdG9yYWdlLmdldChmLmtleSkpLCExKX19LGdldDp7c3RvcmFnZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZi5leHBpcmVzJiYoZS5leHBpcmVzPWYuZXhwaXJlcyksZi5kb21haW4mJihlLmRvbWFpbj1mLmRvbWFpbiksZi5wYXRoJiYoZS5wYXRoPWYucGF0aCksZX19LGNsZWFyOmZ1bmN0aW9uKCl7YS5zdG9yYWdlLnJlbW92ZShmLmtleSl9LHN0b3JhZ2U6e3NldDpmdW5jdGlvbihuLG8pe3ZhciByPWEuZ2V0LnN0b3JhZ2VPcHRpb25zKCk7aWYoXCJsb2NhbHN0b3JhZ2VcIj09Zi5zdG9yYWdlTWV0aG9kJiZ0LmxvY2FsU3RvcmFnZSE9PWkpdC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuLG8pLGEuZGVidWcoXCJWYWx1ZSBzdG9yZWQgdXNpbmcgbG9jYWwgc3RvcmFnZVwiLG4sbyk7ZWxzZSBpZihcInNlc3Npb25zdG9yYWdlXCI9PWYuc3RvcmFnZU1ldGhvZCYmdC5zZXNzaW9uU3RvcmFnZSE9PWkpdC5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKG4sbyksYS5kZWJ1ZyhcIlZhbHVlIHN0b3JlZCB1c2luZyBzZXNzaW9uIHN0b3JhZ2VcIixuLG8pO2Vsc2V7aWYoZS5jb29raWU9PT1pKXJldHVybiB2b2lkIGEuZXJyb3IoZy5ub0Nvb2tpZVN0b3JhZ2UpO2UuY29va2llKG4sbyxyKSxhLmRlYnVnKFwiVmFsdWUgc3RvcmVkIHVzaW5nIGNvb2tpZVwiLG4sbyxyKX19LGdldDpmdW5jdGlvbihuLG8pe3ZhciByO3JldHVyblwibG9jYWxzdG9yYWdlXCI9PWYuc3RvcmFnZU1ldGhvZCYmdC5sb2NhbFN0b3JhZ2UhPT1pP3I9dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTpcInNlc3Npb25zdG9yYWdlXCI9PWYuc3RvcmFnZU1ldGhvZCYmdC5zZXNzaW9uU3RvcmFnZSE9PWk/cj10LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0obik6ZS5jb29raWUhPT1pP3I9ZS5jb29raWUobik6YS5lcnJvcihnLm5vQ29va2llU3RvcmFnZSksXCJ1bmRlZmluZWRcIiE9ciYmXCJudWxsXCIhPXImJnIhPT1pJiZudWxsIT09cnx8KHI9aSkscn0scmVtb3ZlOmZ1bmN0aW9uKG4pe3ZhciBvPWEuZ2V0LnN0b3JhZ2VPcHRpb25zKCk7XCJsb2NhbHN0b3JhZ2VcIj09Zi5zdG9yYWdlTWV0aG9kJiZ0LmxvY2FsU3RvcmFnZSE9PWk/dC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShuKTpcInNlc3Npb25zdG9yYWdlXCI9PWYuc3RvcmFnZU1ldGhvZCYmdC5zZXNzaW9uU3RvcmFnZSE9PWk/dC5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKG4pOmUuY29va2llIT09aT9lLnJlbW92ZUNvb2tpZShuLG8pOmEuZXJyb3IoZy5ub1N0b3JhZ2UpfX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKGEuZGVidWcoXCJDaGFuZ2luZyBzZXR0aW5nXCIsdCxuKSxlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsZix0KTtlbHNle2lmKG49PT1pKXJldHVybiBmW3RdO2UuaXNQbGFpbk9iamVjdChmW3RdKT9lLmV4dGVuZCghMCxmW3RdLG4pOmZbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGEsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gYVt0XTthW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpeyFmLnNpbGVudCYmZi5kZWJ1ZyYmKGYucGVyZm9ybWFuY2U/YS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooYS5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGYubmFtZStcIjpcIiksYS5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpeyFmLnNpbGVudCYmZi52ZXJib3NlJiZmLmRlYnVnJiYoZi5wZXJmb3JtYW5jZT9hLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihhLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxmLm5hbWUrXCI6XCIpLGEudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtmLnNpbGVudHx8KGEuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsZi5uYW1lK1wiOlwiKSxhLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2YucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9c3x8dCxuPXQtaSxzPXQsbC5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OngsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KGEucGVyZm9ybWFuY2UudGltZXIpLGEucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChhLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PWYubmFtZStcIjpcIixuPTA7cz0hMSxjbGVhclRpbWVvdXQoYS5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixyJiYodCs9XCIgJ1wiK3IrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZsLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUobCk6ZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxsPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixyKXt2YXIgcyxsLGMsdT1DO3JldHVybiBuPW58fGQscj14fHxyLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ1IT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscz10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIHI9biE9cz9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QodVtyXSkmJm4hPXMpdT11W3JdO2Vsc2V7aWYodVtyXSE9PWkpcmV0dXJuIGw9dVtyXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KHVbb10pfHxuPT1zKXJldHVybiB1W29dIT09aT8obD11W29dLCExKTooYS5lcnJvcihnLm1ldGhvZCx0KSwhMSk7dT11W29dfX0pKSxlLmlzRnVuY3Rpb24obCk/Yz1sLmFwcGx5KHIsbik6bCE9PWkmJihjPWwpLGUuaXNBcnJheShvKT9vLnB1c2goYyk6byE9PWk/bz1bbyxjXTpjIT09aSYmKG89YyksbH19LHU/KEM9PT1pJiZhLmluaXRpYWxpemUoKSxhLmludm9rZShjKSk6KEMhPT1pJiZDLmludm9rZShcImRlc3Ryb3lcIiksYS5pbml0aWFsaXplKCkpfSksbyE9PWk/bzp0aGlzfSxlLmZuLm5hZy5zZXR0aW5ncz17bmFtZTpcIk5hZ1wiLHNpbGVudDohMSxkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLG5hbWVzcGFjZTpcIk5hZ1wiLHBlcnNpc3Q6ITEsZGlzcGxheVRpbWU6MCxhbmltYXRpb246e3Nob3c6XCJzbGlkZVwiLGhpZGU6XCJzbGlkZVwifSxjb250ZXh0OiExLGRldGFjaGFibGU6ITEsZXhwaXJlczozMCxkb21haW46ITEscGF0aDpcIi9cIixzdG9yYWdlTWV0aG9kOlwiY29va2llXCIsa2V5OlwibmFnXCIsdmFsdWU6XCJkaXNtaXNzXCIsZXJyb3I6e25vQ29va2llU3RvcmFnZTpcIiQuY29va2llIGlzIG5vdCBpbmNsdWRlZC4gQSBzdG9yYWdlIHNvbHV0aW9uIGlzIHJlcXVpcmVkLlwiLG5vU3RvcmFnZTpcIk5laXRoZXIgJC5jb29raWUgb3Igc3RvcmUgaXMgZGVmaW5lZC4gQSBzdG9yYWdlIHNvbHV0aW9uIGlzIHJlcXVpcmVkIGZvciBzdG9yaW5nIHN0YXRlXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwifSxjbGFzc05hbWU6e2JvdHRvbTpcImJvdHRvbVwiLGZpeGVkOlwiZml4ZWRcIn0sc2VsZWN0b3I6e2Nsb3NlOlwiLmNsb3NlLmljb25cIn0sc3BlZWQ6NTAwLGVhc2luZzpcImVhc2VPdXRRdWFkXCIsb25IaWRlOmZ1bmN0aW9uKCl7fX0sZS5leHRlbmQoZS5lYXNpbmcse2Vhc2VPdXRRdWFkOmZ1bmN0aW9uKGUsdCxuLGksbyl7cmV0dXJuLWkqKHQvPW8pKih0LTIpK259fSl9KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO3Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQuTWF0aD09TWF0aD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksZS5mbi5wb3B1cD1mdW5jdGlvbihvKXt2YXIgYSxyPWUodGhpcykscz1lKG4pLGw9ZSh0KSxjPWUoXCJib2R5XCIpLHU9ci5zZWxlY3Rvcnx8XCJcIixkPSEwLGY9KG5ldyBEYXRlKS5nZXRUaW1lKCksbT1bXSxnPWFyZ3VtZW50c1swXSxwPVwic3RyaW5nXCI9PXR5cGVvZiBnLGg9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHIuZWFjaChmdW5jdGlvbigpe3ZhciByLHYsYix5LHgsQyx3PWUuaXNQbGFpbk9iamVjdChvKT9lLmV4dGVuZCghMCx7fSxlLmZuLnBvcHVwLnNldHRpbmdzLG8pOmUuZXh0ZW5kKHt9LGUuZm4ucG9wdXAuc2V0dGluZ3MpLGs9dy5zZWxlY3RvcixTPXcuY2xhc3NOYW1lLFQ9dy5lcnJvcixBPXcubWV0YWRhdGEsUj13Lm5hbWVzcGFjZSxFPVwiLlwiK3cubmFtZXNwYWNlLFA9XCJtb2R1bGUtXCIrUixGPWUodGhpcyksTz1lKHcuY29udGV4dCksRD1lKHcuc2Nyb2xsQ29udGV4dCkscT1lKHcuYm91bmRhcnkpLGo9dy50YXJnZXQ/ZSh3LnRhcmdldCk6Rix6PTAsTT0hMSxJPSExLEw9dGhpcyxOPUYuZGF0YShQKTtDPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIkluaXRpYWxpemluZ1wiLEYpLEMuY3JlYXRlSUQoKSxDLmJpbmQuZXZlbnRzKCksIUMuZXhpc3RzKCkmJncucHJlc2VydmUmJkMuY3JlYXRlKCksdy5vYnNlcnZlQ2hhbmdlcyYmQy5vYnNlcnZlQ2hhbmdlcygpLEMuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtDLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlXCIsQyksTj1DLEYuZGF0YShQLE4pfSxvYnNlcnZlQ2hhbmdlczpmdW5jdGlvbigpe1wiTXV0YXRpb25PYnNlcnZlclwiaW4gdCYmKGI9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoQy5ldmVudC5kb2N1bWVudENoYW5nZWQpLGIub2JzZXJ2ZShuLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLEMuZGVidWcoXCJTZXR0aW5nIHVwIG11dGF0aW9uIG9ic2VydmVyXCIsYikpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dy5wb3B1cD9yPWUody5wb3B1cCkuZXEoMCk6dy5pbmxpbmUmJihyPWoubmV4dEFsbChrLnBvcHVwKS5lcSgwKSx3LnBvcHVwPXIpLHcucG9wdXA/KHIuYWRkQ2xhc3MoUy5sb2FkaW5nKSx2PUMuZ2V0Lm9mZnNldFBhcmVudCgpLHIucmVtb3ZlQ2xhc3MoUy5sb2FkaW5nKSx3Lm1vdmVQb3B1cCYmQy5oYXMucG9wdXAoKSYmQy5nZXQub2Zmc2V0UGFyZW50KHIpWzBdIT09dlswXSYmKEMuZGVidWcoXCJNb3ZpbmcgcG9wdXAgdG8gdGhlIHNhbWUgb2Zmc2V0IHBhcmVudCBhcyBhY3RpdmF0aW5nIGVsZW1lbnRcIiksci5kZXRhY2goKS5hcHBlbmRUbyh2KSkpOnY9dy5pbmxpbmU/Qy5nZXQub2Zmc2V0UGFyZW50KGopOkMuaGFzLnBvcHVwKCk/Qy5nZXQub2Zmc2V0UGFyZW50KHIpOmMsdi5pcyhcImh0bWxcIikmJnZbMF0hPT1jWzBdJiYoQy5kZWJ1ZyhcIlNldHRpbmcgcGFnZSBhcyBvZmZzZXQgcGFyZW50XCIpLHY9YyksQy5nZXQudmFyaWF0aW9uKCkmJkMuc2V0LnZhcmlhdGlvbigpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKCl7Qy5yZWZyZXNoKCksQy5zZXQucG9zaXRpb24oKX0sZGVzdHJveTpmdW5jdGlvbigpe0MuZGVidWcoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZVwiKSxiJiZiLmRpc2Nvbm5lY3QoKSxyJiYhdy5wcmVzZXJ2ZSYmQy5yZW1vdmVQb3B1cCgpLGNsZWFyVGltZW91dChDLmhpZGVUaW1lciksY2xlYXJUaW1lb3V0KEMuc2hvd1RpbWVyKSxDLnVuYmluZC5jbG9zZSgpLEMudW5iaW5kLmV2ZW50cygpLEYucmVtb3ZlRGF0YShQKX0sZXZlbnQ6e3N0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBuPWUuaXNQbGFpbk9iamVjdCh3LmRlbGF5KT93LmRlbGF5LnNob3c6dy5kZWxheTtjbGVhclRpbWVvdXQoQy5oaWRlVGltZXIpLEl8fChDLnNob3dUaW1lcj1zZXRUaW1lb3V0KEMuc2hvdyxuKSl9LGVuZDpmdW5jdGlvbigpe3ZhciB0PWUuaXNQbGFpbk9iamVjdCh3LmRlbGF5KT93LmRlbGF5LmhpZGU6dy5kZWxheTtjbGVhclRpbWVvdXQoQy5zaG93VGltZXIpLEMuaGlkZVRpbWVyPXNldFRpbWVvdXQoQy5oaWRlLHQpfSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGUpe0k9ITAsQy5zaG93KCl9LHJlc2l6ZTpmdW5jdGlvbigpe0MuaXMudmlzaWJsZSgpJiZDLnNldC5wb3NpdGlvbigpfSxkb2N1bWVudENoYW5nZWQ6ZnVuY3Rpb24odCl7W10uZm9yRWFjaC5jYWxsKHQsZnVuY3Rpb24odCl7dC5yZW1vdmVkTm9kZXMmJltdLmZvckVhY2guY2FsbCh0LnJlbW92ZWROb2RlcyxmdW5jdGlvbih0KXsodD09THx8ZSh0KS5maW5kKEwpLmxlbmd0aD4wKSYmKEMuZGVidWcoXCJFbGVtZW50IHJlbW92ZWQgZnJvbSBET00sIHRlYXJpbmcgZG93biBldmVudHNcIiksQy5kZXN0cm95KCkpfSl9KX0saGlkZUdyYWNlZnVsbHk6ZnVuY3Rpb24odCl7dmFyIGk9ZSh0LnRhcmdldCksbz1lLmNvbnRhaW5zKG4uZG9jdW1lbnRFbGVtZW50LHQudGFyZ2V0KSxhPWkuY2xvc2VzdChrLnBvcHVwKS5sZW5ndGg+MDt0JiYhYSYmbz8oQy5kZWJ1ZyhcIkNsaWNrIG9jY3VycmVkIG91dHNpZGUgcG9wdXAgaGlkaW5nIHBvcHVwXCIpLEMuaGlkZSgpKTpDLmRlYnVnKFwiQ2xpY2sgd2FzIGluc2lkZSBwb3B1cCwga2VlcGluZyBwb3B1cCBvcGVuXCIpfX0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9Qy5nZXQuaHRtbCgpLG49Qy5nZXQudGl0bGUoKSxpPUMuZ2V0LmNvbnRlbnQoKTt0fHxpfHxuPyhDLmRlYnVnKFwiQ3JlYXRpbmcgcG9wLXVwIGh0bWxcIiksdHx8KHQ9dy50ZW1wbGF0ZXMucG9wdXAoe3RpdGxlOm4sY29udGVudDppfSkpLHI9ZShcIjxkaXYvPlwiKS5hZGRDbGFzcyhTLnBvcHVwKS5kYXRhKEEuYWN0aXZhdG9yLEYpLmh0bWwodCksdy5pbmxpbmU/KEMudmVyYm9zZShcIkluc2VydGluZyBwb3B1cCBlbGVtZW50IGlubGluZVwiLHIpLHIuaW5zZXJ0QWZ0ZXIoRikpOihDLnZlcmJvc2UoXCJBcHBlbmRpbmcgcG9wdXAgZWxlbWVudCB0byBib2R5XCIsciksci5hcHBlbmRUbyhPKSksQy5yZWZyZXNoKCksQy5zZXQudmFyaWF0aW9uKCksdy5ob3ZlcmFibGUmJkMuYmluZC5wb3B1cCgpLHcub25DcmVhdGUuY2FsbChyLEwpKTowIT09ai5uZXh0KGsucG9wdXApLmxlbmd0aD8oQy52ZXJib3NlKFwiUHJlLWV4aXN0aW5nIHBvcHVwIGZvdW5kXCIpLHcuaW5saW5lPSEwLHcucG9wdXA9ai5uZXh0KGsucG9wdXApLmRhdGEoQS5hY3RpdmF0b3IsRiksQy5yZWZyZXNoKCksdy5ob3ZlcmFibGUmJkMuYmluZC5wb3B1cCgpKTp3LnBvcHVwPyhlKHcucG9wdXApLmRhdGEoQS5hY3RpdmF0b3IsRiksQy52ZXJib3NlKFwiVXNlZCBwb3B1cCBzcGVjaWZpZWQgaW4gc2V0dGluZ3NcIiksQy5yZWZyZXNoKCksdy5ob3ZlcmFibGUmJkMuYmluZC5wb3B1cCgpKTpDLmRlYnVnKFwiTm8gY29udGVudCBzcGVjaWZpZWQgc2tpcHBpbmcgZGlzcGxheVwiLEwpfSxjcmVhdGVJRDpmdW5jdGlvbigpe3g9KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpK1wiMDAwMDAwMDAwXCIpLnN1YnN0cigyLDgpLHk9XCIuXCIreCxDLnZlcmJvc2UoXCJDcmVhdGluZyB1bmlxdWUgaWQgZm9yIGVsZW1lbnRcIix4KX0sdG9nZ2xlOmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIlRvZ2dsaW5nIHBvcC11cFwiKSxDLmlzLmhpZGRlbigpPyhDLmRlYnVnKFwiUG9wdXAgaXMgaGlkZGVuLCBzaG93aW5nIHBvcC11cFwiKSxDLnVuYmluZC5jbG9zZSgpLEMuc2hvdygpKTooQy5kZWJ1ZyhcIlBvcHVwIGlzIHZpc2libGUsIGhpZGluZyBwb3AtdXBcIiksXG5DLmhpZGUoKSl9LHNob3c6ZnVuY3Rpb24oZSl7aWYoZT1lfHxmdW5jdGlvbigpe30sQy5kZWJ1ZyhcIlNob3dpbmcgcG9wLXVwXCIsdy50cmFuc2l0aW9uKSxDLmlzLmhpZGRlbigpJiYoIUMuaXMuYWN0aXZlKCl8fCFDLmlzLmRyb3Bkb3duKCkpKXtpZihDLmV4aXN0cygpfHxDLmNyZWF0ZSgpLHcub25TaG93LmNhbGwocixMKT09PSExKXJldHVybiB2b2lkIEMuZGVidWcoXCJvblNob3cgY2FsbGJhY2sgcmV0dXJuZWQgZmFsc2UsIGNhbmNlbGxpbmcgcG9wdXAgYW5pbWF0aW9uXCIpO3cucHJlc2VydmV8fHcucG9wdXB8fEMucmVmcmVzaCgpLHImJkMuc2V0LnBvc2l0aW9uKCkmJihDLnNhdmUuY29uZGl0aW9ucygpLHcuZXhjbHVzaXZlJiZDLmhpZGVBbGwoKSxDLmFuaW1hdGUuc2hvdyhlKSl9fSxoaWRlOmZ1bmN0aW9uKGUpe2lmKGU9ZXx8ZnVuY3Rpb24oKXt9LEMuaXMudmlzaWJsZSgpfHxDLmlzLmFuaW1hdGluZygpKXtpZih3Lm9uSGlkZS5jYWxsKHIsTCk9PT0hMSlyZXR1cm4gdm9pZCBDLmRlYnVnKFwib25IaWRlIGNhbGxiYWNrIHJldHVybmVkIGZhbHNlLCBjYW5jZWxsaW5nIHBvcHVwIGFuaW1hdGlvblwiKTtDLnJlbW92ZS52aXNpYmxlKCksQy51bmJpbmQuY2xvc2UoKSxDLnJlc3RvcmUuY29uZGl0aW9ucygpLEMuYW5pbWF0ZS5oaWRlKGUpfX0saGlkZUFsbDpmdW5jdGlvbigpe2Uoay5wb3B1cCkuZmlsdGVyKFwiLlwiK1MudmlzaWJsZSkuZWFjaChmdW5jdGlvbigpe2UodGhpcykuZGF0YShBLmFjdGl2YXRvcikucG9wdXAoXCJoaWRlXCIpfSl9LGV4aXN0czpmdW5jdGlvbigpe3JldHVybiEhciYmKHcuaW5saW5lfHx3LnBvcHVwP0MuaGFzLnBvcHVwKCk6ci5jbG9zZXN0KE8pLmxlbmd0aD49MSl9LHJlbW92ZVBvcHVwOmZ1bmN0aW9uKCl7Qy5oYXMucG9wdXAoKSYmIXcucG9wdXAmJihDLmRlYnVnKFwiUmVtb3ZpbmcgcG9wdXBcIixyKSxyLnJlbW92ZSgpLHI9aSx3Lm9uUmVtb3ZlLmNhbGwocixMKSl9LHNhdmU6e2NvbmRpdGlvbnM6ZnVuY3Rpb24oKXtDLmNhY2hlPXt0aXRsZTpGLmF0dHIoXCJ0aXRsZVwiKX0sQy5jYWNoZS50aXRsZSYmRi5yZW1vdmVBdHRyKFwidGl0bGVcIiksQy52ZXJib3NlKFwiU2F2aW5nIG9yaWdpbmFsIGF0dHJpYnV0ZXNcIixDLmNhY2hlLnRpdGxlKX19LHJlc3RvcmU6e2NvbmRpdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gQy5jYWNoZSYmQy5jYWNoZS50aXRsZSYmKEYuYXR0cihcInRpdGxlXCIsQy5jYWNoZS50aXRsZSksQy52ZXJib3NlKFwiUmVzdG9yaW5nIG9yaWdpbmFsIGF0dHJpYnV0ZXNcIixDLmNhY2hlLnRpdGxlKSksITB9fSxzdXBwb3J0czp7c3ZnOmZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiBTVkdHcmFwaGljc0VsZW1lbnQ9PT1pfX0sYW5pbWF0ZTp7c2hvdzpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSx3LnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJkYudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT8oQy5zZXQudmlzaWJsZSgpLHIudHJhbnNpdGlvbih7YW5pbWF0aW9uOncudHJhbnNpdGlvbitcIiBpblwiLHF1ZXVlOiExLGRlYnVnOncuZGVidWcsdmVyYm9zZTp3LnZlcmJvc2UsZHVyYXRpb246dy5kdXJhdGlvbixvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7Qy5iaW5kLmNsb3NlKCksdC5jYWxsKHIsTCksdy5vblZpc2libGUuY2FsbChyLEwpfX0pKTpDLmVycm9yKFQubm9UcmFuc2l0aW9uKX0saGlkZTpmdW5jdGlvbih0KXtyZXR1cm4gdD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sQy5kZWJ1ZyhcIkhpZGluZyBwb3AtdXBcIiksdy5vbkhpZGUuY2FsbChyLEwpPT09ITE/dm9pZCBDLmRlYnVnKFwib25IaWRlIGNhbGxiYWNrIHJldHVybmVkIGZhbHNlLCBjYW5jZWxsaW5nIHBvcHVwIGFuaW1hdGlvblwiKTp2b2lkKHcudHJhbnNpdGlvbiYmZS5mbi50cmFuc2l0aW9uIT09aSYmRi50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpP3IudHJhbnNpdGlvbih7YW5pbWF0aW9uOncudHJhbnNpdGlvbitcIiBvdXRcIixxdWV1ZTohMSxkdXJhdGlvbjp3LmR1cmF0aW9uLGRlYnVnOncuZGVidWcsdmVyYm9zZTp3LnZlcmJvc2Usb25Db21wbGV0ZTpmdW5jdGlvbigpe0MucmVzZXQoKSx0LmNhbGwocixMKSx3Lm9uSGlkZGVuLmNhbGwocixMKX19KTpDLmVycm9yKFQubm9UcmFuc2l0aW9uKSl9fSxjaGFuZ2U6e2NvbnRlbnQ6ZnVuY3Rpb24oZSl7ci5odG1sKGUpfX0sZ2V0OntodG1sOmZ1bmN0aW9uKCl7cmV0dXJuIEYucmVtb3ZlRGF0YShBLmh0bWwpLEYuZGF0YShBLmh0bWwpfHx3Lmh0bWx9LHRpdGxlOmZ1bmN0aW9uKCl7cmV0dXJuIEYucmVtb3ZlRGF0YShBLnRpdGxlKSxGLmRhdGEoQS50aXRsZSl8fHcudGl0bGV9LGNvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gRi5yZW1vdmVEYXRhKEEuY29udGVudCksRi5kYXRhKEEuY29udGVudCl8fEYuYXR0cihcInRpdGxlXCIpfHx3LmNvbnRlbnR9LHZhcmlhdGlvbjpmdW5jdGlvbigpe3JldHVybiBGLnJlbW92ZURhdGEoQS52YXJpYXRpb24pLEYuZGF0YShBLnZhcmlhdGlvbil8fHcudmFyaWF0aW9ufSxwb3B1cDpmdW5jdGlvbigpe3JldHVybiByfSxwb3B1cE9mZnNldDpmdW5jdGlvbigpe3JldHVybiByLm9mZnNldCgpfSxjYWxjdWxhdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZSxuPWpbMF0saT1xWzBdPT10LG89dy5pbmxpbmV8fHcucG9wdXAmJncubW92ZVBvcHVwP2oucG9zaXRpb24oKTpqLm9mZnNldCgpLGE9aT97dG9wOjAsbGVmdDowfTpxLm9mZnNldCgpLHM9e30sYz1pP3t0b3A6bC5zY3JvbGxUb3AoKSxsZWZ0Omwuc2Nyb2xsTGVmdCgpfTp7dG9wOjAsbGVmdDowfTtyZXR1cm4gcz17dGFyZ2V0OntlbGVtZW50OmpbMF0sd2lkdGg6ai5vdXRlcldpZHRoKCksaGVpZ2h0Omoub3V0ZXJIZWlnaHQoKSx0b3A6by50b3AsbGVmdDpvLmxlZnQsbWFyZ2luOnt9fSxwb3B1cDp7d2lkdGg6ci5vdXRlcldpZHRoKCksaGVpZ2h0OnIub3V0ZXJIZWlnaHQoKX0scGFyZW50Ont3aWR0aDp2Lm91dGVyV2lkdGgoKSxoZWlnaHQ6di5vdXRlckhlaWdodCgpfSxzY3JlZW46e3RvcDphLnRvcCxsZWZ0OmEubGVmdCxzY3JvbGw6e3RvcDpjLnRvcCxsZWZ0OmMubGVmdH0sd2lkdGg6cS53aWR0aCgpLGhlaWdodDpxLmhlaWdodCgpfX0sdy5zZXRGbHVpZFdpZHRoJiZDLmlzLmZsdWlkKCkmJihzLmNvbnRhaW5lcj17d2lkdGg6ci5wYXJlbnQoKS5vdXRlcldpZHRoKCl9LHMucG9wdXAud2lkdGg9cy5jb250YWluZXIud2lkdGgpLHMudGFyZ2V0Lm1hcmdpbi50b3A9dy5pbmxpbmU/cGFyc2VJbnQodC5nZXRDb21wdXRlZFN0eWxlKG4pLmdldFByb3BlcnR5VmFsdWUoXCJtYXJnaW4tdG9wXCIpLDEwKTowLHMudGFyZ2V0Lm1hcmdpbi5sZWZ0PXcuaW5saW5lP0MuaXMucnRsKCk/cGFyc2VJbnQodC5nZXRDb21wdXRlZFN0eWxlKG4pLmdldFByb3BlcnR5VmFsdWUoXCJtYXJnaW4tcmlnaHRcIiksMTApOnBhcnNlSW50KHQuZ2V0Q29tcHV0ZWRTdHlsZShuKS5nZXRQcm9wZXJ0eVZhbHVlKFwibWFyZ2luLWxlZnRcIiksMTApOjAsZT1zLnNjcmVlbixzLmJvdW5kYXJ5PXt0b3A6ZS50b3ArZS5zY3JvbGwudG9wLGJvdHRvbTplLnRvcCtlLnNjcm9sbC50b3ArZS5oZWlnaHQsbGVmdDplLmxlZnQrZS5zY3JvbGwubGVmdCxyaWdodDplLmxlZnQrZS5zY3JvbGwubGVmdCtlLndpZHRofSxzfSxpZDpmdW5jdGlvbigpe3JldHVybiB4fSxzdGFydEV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuXCJob3ZlclwiPT13Lm9uP1wibW91c2VlbnRlclwiOlwiZm9jdXNcIj09dy5vbiYmXCJmb2N1c1wifSxzY3JvbGxFdmVudDpmdW5jdGlvbigpe3JldHVyblwic2Nyb2xsXCJ9LGVuZEV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuXCJob3ZlclwiPT13Lm9uP1wibW91c2VsZWF2ZVwiOlwiZm9jdXNcIj09dy5vbiYmXCJibHVyXCJ9LGRpc3RhbmNlRnJvbUJvdW5kYXJ5OmZ1bmN0aW9uKGUsdCl7dmFyIG4saSxvPXt9O3JldHVybiB0PXR8fEMuZ2V0LmNhbGN1bGF0aW9ucygpLG49dC5wb3B1cCxpPXQuYm91bmRhcnksZSYmKG89e3RvcDplLnRvcC1pLnRvcCxsZWZ0OmUubGVmdC1pLmxlZnQscmlnaHQ6aS5yaWdodC0oZS5sZWZ0K24ud2lkdGgpLGJvdHRvbTppLmJvdHRvbS0oZS50b3Arbi5oZWlnaHQpfSxDLnZlcmJvc2UoXCJEaXN0YW5jZSBmcm9tIGJvdW5kYXJpZXMgZGV0ZXJtaW5lZFwiLGUsbykpLG99LG9mZnNldFBhcmVudDpmdW5jdGlvbih0KXt2YXIgbj10IT09aT90WzBdOkZbMF0sbz1uLnBhcmVudE5vZGUsYT1lKG8pO2lmKG8pZm9yKHZhciByPVwibm9uZVwiPT09YS5jc3MoXCJ0cmFuc2Zvcm1cIikscz1cInN0YXRpY1wiPT09YS5jc3MoXCJwb3NpdGlvblwiKSxsPWEuaXMoXCJodG1sXCIpO28mJiFsJiZzJiZyOylvPW8ucGFyZW50Tm9kZSxhPWUobykscj1cIm5vbmVcIj09PWEuY3NzKFwidHJhbnNmb3JtXCIpLHM9XCJzdGF0aWNcIj09PWEuY3NzKFwicG9zaXRpb25cIiksbD1hLmlzKFwiaHRtbFwiKTtyZXR1cm4gYSYmYS5sZW5ndGg+MD9hOmUoKX0scG9zaXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJue1widG9wIGxlZnRcIjohMSxcInRvcCBjZW50ZXJcIjohMSxcInRvcCByaWdodFwiOiExLFwiYm90dG9tIGxlZnRcIjohMSxcImJvdHRvbSBjZW50ZXJcIjohMSxcImJvdHRvbSByaWdodFwiOiExLFwibGVmdCBjZW50ZXJcIjohMSxcInJpZ2h0IGNlbnRlclwiOiExfX0sbmV4dFBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCIgXCIpLG49dFswXSxpPXRbMV0sbz17dG9wOlwiYm90dG9tXCIsYm90dG9tOlwidG9wXCIsbGVmdDpcInJpZ2h0XCIscmlnaHQ6XCJsZWZ0XCJ9LGE9e2xlZnQ6XCJjZW50ZXJcIixjZW50ZXI6XCJyaWdodFwiLHJpZ2h0OlwibGVmdFwifSxyPXtcInRvcCBsZWZ0XCI6XCJ0b3AgY2VudGVyXCIsXCJ0b3AgY2VudGVyXCI6XCJ0b3AgcmlnaHRcIixcInRvcCByaWdodFwiOlwicmlnaHQgY2VudGVyXCIsXCJyaWdodCBjZW50ZXJcIjpcImJvdHRvbSByaWdodFwiLFwiYm90dG9tIHJpZ2h0XCI6XCJib3R0b20gY2VudGVyXCIsXCJib3R0b20gY2VudGVyXCI6XCJib3R0b20gbGVmdFwiLFwiYm90dG9tIGxlZnRcIjpcImxlZnQgY2VudGVyXCIsXCJsZWZ0IGNlbnRlclwiOlwidG9wIGxlZnRcIn0scz1cInRvcFwiPT1ufHxcImJvdHRvbVwiPT1uLGw9ITEsYz0hMSx1PSExO3JldHVybiBNfHwoQy52ZXJib3NlKFwiQWxsIGF2YWlsYWJsZSBwb3NpdGlvbnMgYXZhaWxhYmxlXCIpLE09Qy5nZXQucG9zaXRpb25zKCkpLEMuZGVidWcoXCJSZWNvcmRpbmcgbGFzdCBwb3NpdGlvbiB0cmllZFwiLGUpLE1bZV09ITAsXCJvcHBvc2l0ZVwiPT09dy5wcmVmZXImJih1PVtvW25dLGldLHU9dS5qb2luKFwiIFwiKSxsPU1bdV09PT0hMCxDLmRlYnVnKFwiVHJ5aW5nIG9wcG9zaXRlIHN0cmF0ZWd5XCIsdSkpLFwiYWRqYWNlbnRcIj09PXcucHJlZmVyJiZzJiYodT1bbixhW2ldXSx1PXUuam9pbihcIiBcIiksYz1NW3VdPT09ITAsQy5kZWJ1ZyhcIlRyeWluZyBhZGphY2VudCBzdHJhdGVneVwiLHUpKSwoY3x8bCkmJihDLmRlYnVnKFwiVXNpbmcgYmFja3VwIHBvc2l0aW9uXCIsdSksdT1yW2VdKSx1fX0sc2V0Ontwb3NpdGlvbjpmdW5jdGlvbihlLHQpe2lmKDA9PT1qLmxlbmd0aHx8MD09PXIubGVuZ3RoKXJldHVybiB2b2lkIEMuZXJyb3IoVC5ub3RGb3VuZCk7dmFyIG4sbyxhLHMsbCxjLHUsZDtpZih0PXR8fEMuZ2V0LmNhbGN1bGF0aW9ucygpLGU9ZXx8Ri5kYXRhKEEucG9zaXRpb24pfHx3LnBvc2l0aW9uLG49Ri5kYXRhKEEub2Zmc2V0KXx8dy5vZmZzZXQsbz13LmRpc3RhbmNlQXdheSxhPXQudGFyZ2V0LHM9dC5wb3B1cCxsPXQucGFyZW50LDA9PT1hLndpZHRoJiYwPT09YS5oZWlnaHQmJiFDLmlzLnN2ZyhhLmVsZW1lbnQpKXJldHVybiBDLmRlYnVnKFwiUG9wdXAgdGFyZ2V0IGlzIGhpZGRlbiwgbm8gYWN0aW9uIHRha2VuXCIpLCExO3N3aXRjaCh3LmlubGluZSYmKEMuZGVidWcoXCJBZGRpbmcgbWFyZ2luIHRvIGNhbGN1bGF0aW9uXCIsYS5tYXJnaW4pLFwibGVmdCBjZW50ZXJcIj09ZXx8XCJyaWdodCBjZW50ZXJcIj09ZT8obis9YS5tYXJnaW4udG9wLG8rPS1hLm1hcmdpbi5sZWZ0KTpcInRvcCBsZWZ0XCI9PWV8fFwidG9wIGNlbnRlclwiPT1lfHxcInRvcCByaWdodFwiPT1lPyhuKz1hLm1hcmdpbi5sZWZ0LG8tPWEubWFyZ2luLnRvcCk6KG4rPWEubWFyZ2luLmxlZnQsbys9YS5tYXJnaW4udG9wKSksQy5kZWJ1ZyhcIkRldGVybWluaW5nIHBvcHVwIHBvc2l0aW9uIGZyb20gY2FsY3VsYXRpb25zXCIsZSx0KSxDLmlzLnJ0bCgpJiYoZT1lLnJlcGxhY2UoL2xlZnR8cmlnaHQvZyxmdW5jdGlvbihlKXtyZXR1cm5cImxlZnRcIj09ZT9cInJpZ2h0XCI6XCJsZWZ0XCJ9KSxDLmRlYnVnKFwiUlRMOiBQb3B1cCBwb3NpdGlvbiB1cGRhdGVkXCIsZSkpLHo9PXcubWF4U2VhcmNoRGVwdGgmJlwic3RyaW5nXCI9PXR5cGVvZiB3Lmxhc3RSZXNvcnQmJihlPXcubGFzdFJlc29ydCksZSl7Y2FzZVwidG9wIGxlZnRcIjpjPXt0b3A6XCJhdXRvXCIsYm90dG9tOmwuaGVpZ2h0LWEudG9wK28sbGVmdDphLmxlZnQrbixyaWdodDpcImF1dG9cIn07YnJlYWs7Y2FzZVwidG9wIGNlbnRlclwiOmM9e2JvdHRvbTpsLmhlaWdodC1hLnRvcCtvLGxlZnQ6YS5sZWZ0K2Eud2lkdGgvMi1zLndpZHRoLzIrbix0b3A6XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCJ9O2JyZWFrO2Nhc2VcInRvcCByaWdodFwiOmM9e2JvdHRvbTpsLmhlaWdodC1hLnRvcCtvLHJpZ2h0Omwud2lkdGgtYS5sZWZ0LWEud2lkdGgtbix0b3A6XCJhdXRvXCIsbGVmdDpcImF1dG9cIn07YnJlYWs7Y2FzZVwibGVmdCBjZW50ZXJcIjpjPXt0b3A6YS50b3ArYS5oZWlnaHQvMi1zLmhlaWdodC8yK24scmlnaHQ6bC53aWR0aC1hLmxlZnQrbyxsZWZ0OlwiYXV0b1wiLGJvdHRvbTpcImF1dG9cIn07YnJlYWs7Y2FzZVwicmlnaHQgY2VudGVyXCI6Yz17dG9wOmEudG9wK2EuaGVpZ2h0LzItcy5oZWlnaHQvMituLGxlZnQ6YS5sZWZ0K2Eud2lkdGgrbyxib3R0b206XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCJ9O2JyZWFrO2Nhc2VcImJvdHRvbSBsZWZ0XCI6Yz17dG9wOmEudG9wK2EuaGVpZ2h0K28sbGVmdDphLmxlZnQrbixib3R0b206XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCJ9O2JyZWFrO2Nhc2VcImJvdHRvbSBjZW50ZXJcIjpjPXt0b3A6YS50b3ArYS5oZWlnaHQrbyxsZWZ0OmEubGVmdCthLndpZHRoLzItcy53aWR0aC8yK24sYm90dG9tOlwiYXV0b1wiLHJpZ2h0OlwiYXV0b1wifTticmVhaztjYXNlXCJib3R0b20gcmlnaHRcIjpjPXt0b3A6YS50b3ArYS5oZWlnaHQrbyxyaWdodDpsLndpZHRoLWEubGVmdC1hLndpZHRoLW4sbGVmdDpcImF1dG9cIixib3R0b206XCJhdXRvXCJ9fWlmKGM9PT1pJiZDLmVycm9yKFQuaW52YWxpZFBvc2l0aW9uLGUpLEMuZGVidWcoXCJDYWxjdWxhdGVkIHBvcHVwIHBvc2l0aW9uaW5nIHZhbHVlc1wiLGMpLHIuY3NzKGMpLnJlbW92ZUNsYXNzKFMucG9zaXRpb24pLmFkZENsYXNzKGUpLmFkZENsYXNzKFMubG9hZGluZyksdT1DLmdldC5wb3B1cE9mZnNldCgpLGQ9Qy5nZXQuZGlzdGFuY2VGcm9tQm91bmRhcnkodSx0KSxDLmlzLm9mZnN0YWdlKGQsZSkpe2lmKEMuZGVidWcoXCJQb3NpdGlvbiBpcyBvdXRzaWRlIHZpZXdwb3J0XCIsZSksejx3Lm1heFNlYXJjaERlcHRoKXJldHVybiB6KyssZT1DLmdldC5uZXh0UG9zaXRpb24oZSksQy5kZWJ1ZyhcIlRyeWluZyBuZXcgcG9zaXRpb25cIixlKSwhIXImJkMuc2V0LnBvc2l0aW9uKGUsdCk7aWYoIXcubGFzdFJlc29ydClyZXR1cm4gQy5kZWJ1ZyhcIlBvcHVwIGNvdWxkIG5vdCBmaW5kIGEgcG9zaXRpb24gdG8gZGlzcGxheVwiLHIpLEMuZXJyb3IoVC5jYW5ub3RQbGFjZSxMKSxDLnJlbW92ZS5hdHRlbXB0cygpLEMucmVtb3ZlLmxvYWRpbmcoKSxDLnJlc2V0KCksdy5vblVucGxhY2VhYmxlLmNhbGwocixMKSwhMTtDLmRlYnVnKFwiTm8gcG9zaXRpb24gZm91bmQsIHNob3dpbmcgd2l0aCBsYXN0IHBvc2l0aW9uXCIpfXJldHVybiBDLmRlYnVnKFwiUG9zaXRpb24gaXMgb24gc3RhZ2VcIixlKSxDLnJlbW92ZS5hdHRlbXB0cygpLEMucmVtb3ZlLmxvYWRpbmcoKSx3LnNldEZsdWlkV2lkdGgmJkMuaXMuZmx1aWQoKSYmQy5zZXQuZmx1aWRXaWR0aCh0KSwhMH0sZmx1aWRXaWR0aDpmdW5jdGlvbihlKXtlPWV8fEMuZ2V0LmNhbGN1bGF0aW9ucygpLEMuZGVidWcoXCJBdXRvbWF0aWNhbGx5IHNldHRpbmcgZWxlbWVudCB3aWR0aCB0byBwYXJlbnQgd2lkdGhcIixlLnBhcmVudC53aWR0aCksci5jc3MoXCJ3aWR0aFwiLGUuY29udGFpbmVyLndpZHRoKX0sdmFyaWF0aW9uOmZ1bmN0aW9uKGUpe2U9ZXx8Qy5nZXQudmFyaWF0aW9uKCksZSYmQy5oYXMucG9wdXAoKSYmKEMudmVyYm9zZShcIkFkZGluZyB2YXJpYXRpb24gdG8gcG9wdXBcIixlKSxyLmFkZENsYXNzKGUpKX0sdmlzaWJsZTpmdW5jdGlvbigpe0YuYWRkQ2xhc3MoUy52aXNpYmxlKX19LHJlbW92ZTp7bG9hZGluZzpmdW5jdGlvbigpe3IucmVtb3ZlQ2xhc3MoUy5sb2FkaW5nKX0sdmFyaWF0aW9uOmZ1bmN0aW9uKGUpe2U9ZXx8Qy5nZXQudmFyaWF0aW9uKCksZSYmKEMudmVyYm9zZShcIlJlbW92aW5nIHZhcmlhdGlvblwiLGUpLHIucmVtb3ZlQ2xhc3MoZSkpfSx2aXNpYmxlOmZ1bmN0aW9uKCl7Ri5yZW1vdmVDbGFzcyhTLnZpc2libGUpfSxhdHRlbXB0czpmdW5jdGlvbigpe0MudmVyYm9zZShcIlJlc2V0dGluZyBhbGwgc2VhcmNoZWQgcG9zaXRpb25zXCIpLHo9MCxNPSExfX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIkJpbmRpbmcgcG9wdXAgZXZlbnRzIHRvIG1vZHVsZVwiKSxcImNsaWNrXCI9PXcub24mJkYub24oXCJjbGlja1wiK0UsQy50b2dnbGUpLFwiaG92ZXJcIj09dy5vbiYmZCYmRi5vbihcInRvdWNoc3RhcnRcIitFLEMuZXZlbnQudG91Y2hzdGFydCksQy5nZXQuc3RhcnRFdmVudCgpJiZGLm9uKEMuZ2V0LnN0YXJ0RXZlbnQoKStFLEMuZXZlbnQuc3RhcnQpLm9uKEMuZ2V0LmVuZEV2ZW50KCkrRSxDLmV2ZW50LmVuZCksdy50YXJnZXQmJkMuZGVidWcoXCJUYXJnZXQgc2V0IHRvIGVsZW1lbnRcIixqKSxsLm9uKFwicmVzaXplXCIreSxDLmV2ZW50LnJlc2l6ZSl9LHBvcHVwOmZ1bmN0aW9uKCl7Qy52ZXJib3NlKFwiQWxsb3dpbmcgaG92ZXIgZXZlbnRzIG9uIHBvcHVwIHRvIHByZXZlbnQgY2xvc2luZ1wiKSxyJiZDLmhhcy5wb3B1cCgpJiZyLm9uKFwibW91c2VlbnRlclwiK0UsQy5ldmVudC5zdGFydCkub24oXCJtb3VzZWxlYXZlXCIrRSxDLmV2ZW50LmVuZCl9LGNsb3NlOmZ1bmN0aW9uKCl7KHcuaGlkZU9uU2Nyb2xsPT09ITB8fFwiYXV0b1wiPT13LmhpZGVPblNjcm9sbCYmXCJjbGlja1wiIT13Lm9uKSYmRC5vbmUoQy5nZXQuc2Nyb2xsRXZlbnQoKSt5LEMuZXZlbnQuaGlkZUdyYWNlZnVsbHkpLFwiaG92ZXJcIj09dy5vbiYmSSYmKEMudmVyYm9zZShcIkJpbmRpbmcgcG9wdXAgY2xvc2UgZXZlbnQgdG8gZG9jdW1lbnRcIikscy5vbihcInRvdWNoc3RhcnRcIit5LGZ1bmN0aW9uKGUpe0MudmVyYm9zZShcIlRvdWNoZWQgYXdheSBmcm9tIHBvcHVwXCIpLEMuZXZlbnQuaGlkZUdyYWNlZnVsbHkuY2FsbChMLGUpfSkpLFwiY2xpY2tcIj09dy5vbiYmdy5jbG9zYWJsZSYmKEMudmVyYm9zZShcIkJpbmRpbmcgcG9wdXAgY2xvc2UgZXZlbnQgdG8gZG9jdW1lbnRcIikscy5vbihcImNsaWNrXCIreSxmdW5jdGlvbihlKXtDLnZlcmJvc2UoXCJDbGlja2VkIGF3YXkgZnJvbSBwb3B1cFwiKSxDLmV2ZW50LmhpZGVHcmFjZWZ1bGx5LmNhbGwoTCxlKX0pKX19LHVuYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7bC5vZmYoeSksRi5vZmYoRSl9LGNsb3NlOmZ1bmN0aW9uKCl7cy5vZmYoeSksRC5vZmYoeSl9fSxoYXM6e3BvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHImJnIubGVuZ3RoPjB9fSxpczp7b2Zmc3RhZ2U6ZnVuY3Rpb24odCxuKXt2YXIgaT1bXTtyZXR1cm4gZS5lYWNoKHQsZnVuY3Rpb24oZSx0KXt0PC13LmppdHRlciYmKEMuZGVidWcoXCJQb3NpdGlvbiBleGNlZWRzIGFsbG93YWJsZSBkaXN0YW5jZSBmcm9tIGVkZ2VcIixlLHQsbiksaS5wdXNoKGUpKX0pLGkubGVuZ3RoPjB9LHN2ZzpmdW5jdGlvbihlKXtyZXR1cm4gQy5zdXBwb3J0cy5zdmcoKSYmZSBpbnN0YW5jZW9mIFNWR0dyYXBoaWNzRWxlbWVudH0sYWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIEYuaGFzQ2xhc3MoUy5hY3RpdmUpfSxhbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gciE9PWkmJnIuaGFzQ2xhc3MoUy5hbmltYXRpbmcpfSxmbHVpZDpmdW5jdGlvbigpe3JldHVybiByIT09aSYmci5oYXNDbGFzcyhTLmZsdWlkKX0sdmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiByIT09aSYmci5oYXNDbGFzcyhTLnZpc2libGUpfSxkcm9wZG93bjpmdW5jdGlvbigpe3JldHVybiBGLmhhc0NsYXNzKFMuZHJvcGRvd24pfSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hQy5pcy52aXNpYmxlKCl9LHJ0bDpmdW5jdGlvbigpe3JldHVyblwicnRsXCI9PUYuY3NzKFwiZGlyZWN0aW9uXCIpfX0scmVzZXQ6ZnVuY3Rpb24oKXtDLnJlbW92ZS52aXNpYmxlKCksdy5wcmVzZXJ2ZT9lLmZuLnRyYW5zaXRpb24hPT1pJiZyLnRyYW5zaXRpb24oXCJyZW1vdmUgdHJhbnNpdGlvblwiKTpDLnJlbW92ZVBvcHVwKCl9LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsdyx0KTtlbHNle2lmKG49PT1pKXJldHVybiB3W3RdO3dbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLEMsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gQ1t0XTtDW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpeyF3LnNpbGVudCYmdy5kZWJ1ZyYmKHcucGVyZm9ybWFuY2U/Qy5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooQy5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLHcubmFtZStcIjpcIiksQy5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpeyF3LnNpbGVudCYmdy52ZXJib3NlJiZ3LmRlYnVnJiYody5wZXJmb3JtYW5jZT9DLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihDLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSx3Lm5hbWUrXCI6XCIpLEMudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXt3LnNpbGVudHx8KEMuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsdy5uYW1lK1wiOlwiKSxDLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO3cucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9Znx8dCxuPXQtaSxmPXQsbS5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OkwsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KEMucGVyZm9ybWFuY2UudGltZXIpLEMucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChDLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PXcubmFtZStcIjpcIixuPTA7Zj0hMSxjbGVhclRpbWVvdXQoQy5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKG0sZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIix1JiYodCs9XCIgJ1wiK3UrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZtLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUobSk6ZS5lYWNoKG0sZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxtPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcixzLGwsYz1OO3JldHVybiBuPW58fGgsbz1MfHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZjIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QoY1thXSkmJm4hPXIpYz1jW2FdO2Vsc2V7aWYoY1thXSE9PWkpcmV0dXJuIHM9Y1thXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGNbb10pfHxuPT1yKXJldHVybiBjW29dIT09aSYmKHM9Y1tvXSwhMSk7Yz1jW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/bD1zLmFwcGx5KG8sbik6cyE9PWkmJihsPXMpLGUuaXNBcnJheShhKT9hLnB1c2gobCk6YSE9PWk/YT1bYSxsXTpsIT09aSYmKGE9bCksc319LHA/KE49PT1pJiZDLmluaXRpYWxpemUoKSxDLmludm9rZShnKSk6KE4hPT1pJiZOLmludm9rZShcImRlc3Ryb3lcIiksQy5pbml0aWFsaXplKCkpfSksYSE9PWk/YTp0aGlzfSxlLmZuLnBvcHVwLnNldHRpbmdzPXtuYW1lOlwiUG9wdXBcIixzaWxlbnQ6ITEsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCxuYW1lc3BhY2U6XCJwb3B1cFwiLG9ic2VydmVDaGFuZ2VzOiEwLG9uQ3JlYXRlOmZ1bmN0aW9uKCl7fSxvblJlbW92ZTpmdW5jdGlvbigpe30sb25TaG93OmZ1bmN0aW9uKCl7fSxvblZpc2libGU6ZnVuY3Rpb24oKXt9LG9uSGlkZTpmdW5jdGlvbigpe30sb25VbnBsYWNlYWJsZTpmdW5jdGlvbigpe30sb25IaWRkZW46ZnVuY3Rpb24oKXt9LG9uOlwiaG92ZXJcIixib3VuZGFyeTp0LGFkZFRvdWNoRXZlbnRzOiEwLHBvc2l0aW9uOlwidG9wIGxlZnRcIix2YXJpYXRpb246XCJcIixtb3ZlUG9wdXA6ITAsdGFyZ2V0OiExLHBvcHVwOiExLGlubGluZTohMSxwcmVzZXJ2ZTohMSxob3ZlcmFibGU6ITEsY29udGVudDohMSxodG1sOiExLHRpdGxlOiExLGNsb3NhYmxlOiEwLGhpZGVPblNjcm9sbDpcImF1dG9cIixleGNsdXNpdmU6ITEsY29udGV4dDpcImJvZHlcIixzY3JvbGxDb250ZXh0OnQscHJlZmVyOlwib3Bwb3NpdGVcIixsYXN0UmVzb3J0OiExLGRlbGF5OntzaG93OjUwLGhpZGU6NzB9LHNldEZsdWlkV2lkdGg6ITAsZHVyYXRpb246MjAwLHRyYW5zaXRpb246XCJzY2FsZVwiLGRpc3RhbmNlQXdheTowLGppdHRlcjoyLG9mZnNldDowLG1heFNlYXJjaERlcHRoOjE1LGVycm9yOntpbnZhbGlkUG9zaXRpb246XCJUaGUgcG9zaXRpb24geW91IHNwZWNpZmllZCBpcyBub3QgYSB2YWxpZCBwb3NpdGlvblwiLGNhbm5vdFBsYWNlOlwiUG9wdXAgZG9lcyBub3QgZml0IHdpdGhpbiB0aGUgYm91bmRhcmllcyBvZiB0aGUgdmlld3BvcnRcIixtZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWQuXCIsbm9UcmFuc2l0aW9uOlwiVGhpcyBtb2R1bGUgcmVxdWlyZXMgdWkgdHJhbnNpdGlvbnMgPGh0dHBzOi8vZ2l0aHViLmNvbS9TZW1hbnRpYy1PcmcvVUktVHJhbnNpdGlvbj5cIixub3RGb3VuZDpcIlRoZSB0YXJnZXQgb3IgcG9wdXAgeW91IHNwZWNpZmllZCBkb2VzIG5vdCBleGlzdCBvbiB0aGUgcGFnZVwifSxtZXRhZGF0YTp7YWN0aXZhdG9yOlwiYWN0aXZhdG9yXCIsY29udGVudDpcImNvbnRlbnRcIixodG1sOlwiaHRtbFwiLG9mZnNldDpcIm9mZnNldFwiLHBvc2l0aW9uOlwicG9zaXRpb25cIix0aXRsZTpcInRpdGxlXCIsdmFyaWF0aW9uOlwidmFyaWF0aW9uXCJ9LGNsYXNzTmFtZTp7YWN0aXZlOlwiYWN0aXZlXCIsYW5pbWF0aW5nOlwiYW5pbWF0aW5nXCIsZHJvcGRvd246XCJkcm9wZG93blwiLGZsdWlkOlwiZmx1aWRcIixsb2FkaW5nOlwibG9hZGluZ1wiLHBvcHVwOlwidWkgcG9wdXBcIixwb3NpdGlvbjpcInRvcCBsZWZ0IGNlbnRlciBib3R0b20gcmlnaHRcIix2aXNpYmxlOlwidmlzaWJsZVwifSxzZWxlY3Rvcjp7cG9wdXA6XCIudWkucG9wdXBcIn0sdGVtcGxhdGVzOntlc2NhcGU6ZnVuY3Rpb24oZSl7dmFyIHQ9L1smPD5cIidgXS9nLG49L1smPD5cIidgXS8saT17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjeDI3O1wiLFwiYFwiOlwiJiN4NjA7XCJ9LG89ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV19O3JldHVybiBuLnRlc3QoZSk/ZS5yZXBsYWNlKHQsbyk6ZX0scG9wdXA6ZnVuY3Rpb24odCl7dmFyIG49XCJcIixvPWUuZm4ucG9wdXAuc2V0dGluZ3MudGVtcGxhdGVzLmVzY2FwZTtyZXR1cm4gdHlwZW9mIHQhPT1pJiYodHlwZW9mIHQudGl0bGUhPT1pJiZ0LnRpdGxlJiYodC50aXRsZT1vKHQudGl0bGUpLG4rPSc8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+Jyt0LnRpdGxlK1wiPC9kaXY+XCIpLHR5cGVvZiB0LmNvbnRlbnQhPT1pJiZ0LmNvbnRlbnQmJih0LmNvbnRlbnQ9byh0LmNvbnRlbnQpLG4rPSc8ZGl2IGNsYXNzPVwiY29udGVudFwiPicrdC5jb250ZW50K1wiPC9kaXY+XCIpKSxufX19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjt0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO2UuZm4ucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7dmFyIG8sYT1lKHRoaXMpLHI9YS5zZWxlY3Rvcnx8XCJcIixzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGw9W10sYz1hcmd1bWVudHNbMF0sdT1cInN0cmluZ1wiPT10eXBlb2YgYyxkPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBhLmVhY2goZnVuY3Rpb24oKXt2YXIgYSxmLG09ZS5pc1BsYWluT2JqZWN0KHQpP2UuZXh0ZW5kKCEwLHt9LGUuZm4ucHJvZ3Jlc3Muc2V0dGluZ3MsdCk6ZS5leHRlbmQoe30sZS5mbi5wcm9ncmVzcy5zZXR0aW5ncyksZz1tLmNsYXNzTmFtZSxwPW0ubWV0YWRhdGEsaD1tLm5hbWVzcGFjZSx2PW0uc2VsZWN0b3IsYj1tLmVycm9yLHk9XCIuXCIraCx4PVwibW9kdWxlLVwiK2gsQz1lKHRoaXMpLHc9ZSh0aGlzKS5maW5kKHYuYmFyKSxrPWUodGhpcykuZmluZCh2LnByb2dyZXNzKSxTPWUodGhpcykuZmluZCh2LmxhYmVsKSxUPXRoaXMsQT1DLmRhdGEoeCksUj0hMTtmPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIkluaXRpYWxpemluZyBwcm9ncmVzcyBiYXJcIixtKSxmLnNldC5kdXJhdGlvbigpLGYuc2V0LnRyYW5zaXRpb25FdmVudCgpLGYucmVhZC5tZXRhZGF0YSgpLGYucmVhZC5zZXR0aW5ncygpLGYuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIHByb2dyZXNzXCIsZiksQT1mLEMuZGF0YSh4LGYpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBwcm9ncmVzcyBmb3JcIixDKSxjbGVhckludGVydmFsKEEuaW50ZXJ2YWwpLGYucmVtb3ZlLnN0YXRlKCksQy5yZW1vdmVEYXRhKHgpLEE9aX0scmVzZXQ6ZnVuY3Rpb24oKXtmLnJlbW92ZS5uZXh0VmFsdWUoKSxmLnVwZGF0ZS5wcm9ncmVzcygwKX0sY29tcGxldGU6ZnVuY3Rpb24oKXsoZi5wZXJjZW50PT09aXx8Zi5wZXJjZW50PDEwMCkmJihmLnJlbW92ZS5wcm9ncmVzc1BvbGwoKSxmLnNldC5wZXJjZW50KDEwMCkpfSxyZWFkOnttZXRhZGF0YTpmdW5jdGlvbigpe3ZhciBlPXtwZXJjZW50OkMuZGF0YShwLnBlcmNlbnQpLHRvdGFsOkMuZGF0YShwLnRvdGFsKSx2YWx1ZTpDLmRhdGEocC52YWx1ZSl9O2UucGVyY2VudCYmKGYuZGVidWcoXCJDdXJyZW50IHBlcmNlbnQgdmFsdWUgc2V0IGZyb20gbWV0YWRhdGFcIixlLnBlcmNlbnQpLGYuc2V0LnBlcmNlbnQoZS5wZXJjZW50KSksZS50b3RhbCYmKGYuZGVidWcoXCJUb3RhbCB2YWx1ZSBzZXQgZnJvbSBtZXRhZGF0YVwiLGUudG90YWwpLGYuc2V0LnRvdGFsKGUudG90YWwpKSxlLnZhbHVlJiYoZi5kZWJ1ZyhcIkN1cnJlbnQgdmFsdWUgc2V0IGZyb20gbWV0YWRhdGFcIixlLnZhbHVlKSxmLnNldC52YWx1ZShlLnZhbHVlKSxmLnNldC5wcm9ncmVzcyhlLnZhbHVlKSl9LHNldHRpbmdzOmZ1bmN0aW9uKCl7bS50b3RhbCE9PSExJiYoZi5kZWJ1ZyhcIkN1cnJlbnQgdG90YWwgc2V0IGluIHNldHRpbmdzXCIsbS50b3RhbCksZi5zZXQudG90YWwobS50b3RhbCkpLG0udmFsdWUhPT0hMSYmKGYuZGVidWcoXCJDdXJyZW50IHZhbHVlIHNldCBpbiBzZXR0aW5nc1wiLG0udmFsdWUpLGYuc2V0LnZhbHVlKG0udmFsdWUpLGYuc2V0LnByb2dyZXNzKGYudmFsdWUpKSxtLnBlcmNlbnQhPT0hMSYmKGYuZGVidWcoXCJDdXJyZW50IHBlcmNlbnQgc2V0IGluIHNldHRpbmdzXCIsbS5wZXJjZW50KSxmLnNldC5wZXJjZW50KG0ucGVyY2VudCkpfX0sYmluZDp7dHJhbnNpdGlvbkVuZDpmdW5jdGlvbihlKXt2YXIgdD1mLmdldC50cmFuc2l0aW9uRW5kKCk7dy5vbmUodCt5LGZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dChmLmZhaWxTYWZlVGltZXIpLGUuY2FsbCh0aGlzLHQpfSksZi5mYWlsU2FmZVRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt3LnRyaWdnZXJIYW5kbGVyKHQpfSxtLmR1cmF0aW9uK20uZmFpbFNhZmVEZWxheSksZi52ZXJib3NlKFwiQWRkaW5nIGZhaWwgc2FmZSB0aW1lclwiLGYudGltZXIpfX0saW5jcmVtZW50OmZ1bmN0aW9uKGUpe3ZhciB0LG4saTtmLmhhcy50b3RhbCgpPyhuPWYuZ2V0LnZhbHVlKCksZT1lfHwxLGk9bitlKToobj1mLmdldC5wZXJjZW50KCksZT1lfHxmLmdldC5yYW5kb21WYWx1ZSgpLGk9bitlLHQ9MTAwLGYuZGVidWcoXCJJbmNyZW1lbnRpbmcgcGVyY2VudGFnZSBieVwiLG4saSkpLGk9Zi5nZXQubm9ybWFsaXplZFZhbHVlKGkpLGYuc2V0LnByb2dyZXNzKGkpfSxkZWNyZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixpPWYuZ2V0LnRvdGFsKCk7aT8odD1mLmdldC52YWx1ZSgpLGU9ZXx8MSxuPXQtZSxmLmRlYnVnKFwiRGVjcmVtZW50aW5nIHZhbHVlIGJ5XCIsZSx0KSk6KHQ9Zi5nZXQucGVyY2VudCgpLGU9ZXx8Zi5nZXQucmFuZG9tVmFsdWUoKSxuPXQtZSxmLmRlYnVnKFwiRGVjcmVtZW50aW5nIHBlcmNlbnRhZ2UgYnlcIixlLHQpKSxuPWYuZ2V0Lm5vcm1hbGl6ZWRWYWx1ZShuKSxmLnNldC5wcm9ncmVzcyhuKX0saGFzOntwcm9ncmVzc1BvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gZi5wcm9ncmVzc1BvbGx9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZ2V0LnRvdGFsKCkhPT0hMX19LGdldDp7dGV4dDpmdW5jdGlvbihlKXt2YXIgdD1mLnZhbHVlfHwwLG49Zi50b3RhbHx8MCxpPVI/Zi5nZXQuZGlzcGxheVBlcmNlbnQoKTpmLnBlcmNlbnR8fDAsbz1mLnRvdGFsPjA/bi10OjEwMC1pO3JldHVybiBlPWV8fFwiXCIsZT1lLnJlcGxhY2UoXCJ7dmFsdWV9XCIsdCkucmVwbGFjZShcInt0b3RhbH1cIixuKS5yZXBsYWNlKFwie2xlZnR9XCIsbykucmVwbGFjZShcIntwZXJjZW50fVwiLGkpLGYudmVyYm9zZShcIkFkZGluZyB2YXJpYWJsZXMgdG8gcHJvZ3Jlc3MgYmFyIHRleHRcIixlKSxlfSxub3JtYWxpemVkVmFsdWU6ZnVuY3Rpb24oZSl7aWYoZTwwKXJldHVybiBmLmRlYnVnKFwiVmFsdWUgY2Fubm90IGRlY3JlbWVudCBiZWxvdyAwXCIpLDA7aWYoZi5oYXMudG90YWwoKSl7aWYoZT5mLnRvdGFsKXJldHVybiBmLmRlYnVnKFwiVmFsdWUgY2Fubm90IGluY3JlbWVudCBhYm92ZSB0b3RhbFwiLGYudG90YWwpLGYudG90YWx9ZWxzZSBpZihlPjEwMClyZXR1cm4gZi5kZWJ1ZyhcIlZhbHVlIGNhbm5vdCBpbmNyZW1lbnQgYWJvdmUgMTAwIHBlcmNlbnRcIiksMTAwO3JldHVybiBlfSx1cGRhdGVJbnRlcnZhbDpmdW5jdGlvbigpe3JldHVyblwiYXV0b1wiPT1tLnVwZGF0ZUludGVydmFsP20uZHVyYXRpb246bS51cGRhdGVJbnRlcnZhbH0scmFuZG9tVmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5kZWJ1ZyhcIkdlbmVyYXRpbmcgcmFuZG9tIGluY3JlbWVudCBwZXJjZW50YWdlXCIpLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSptLnJhbmRvbS5tYXgrbS5yYW5kb20ubWluKX0sbnVtZXJpY1ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP1wiXCIhPT1lLnJlcGxhY2UoL1teXFxkLl0vZyxcIlwiKSYmK2UucmVwbGFjZSgvW15cXGQuXS9nLFwiXCIpOmV9LHRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24oKXt2YXIgZSx0PW4uY3JlYXRlRWxlbWVudChcImVsZW1lbnRcIiksbz17dHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixPVHJhbnNpdGlvbjpcIm9UcmFuc2l0aW9uRW5kXCIsTW96VHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixXZWJraXRUcmFuc2l0aW9uOlwid2Via2l0VHJhbnNpdGlvbkVuZFwifTtmb3IoZSBpbiBvKWlmKHQuc3R5bGVbZV0hPT1pKXJldHVybiBvW2VdfSxkaXNwbGF5UGVyY2VudDpmdW5jdGlvbigpe3ZhciBlPXcud2lkdGgoKSx0PUMud2lkdGgoKSxuPXBhcnNlSW50KHcuY3NzKFwibWluLXdpZHRoXCIpLDEwKSxpPWU+bj9lL3QqMTAwOmYucGVyY2VudDtyZXR1cm4gbS5wcmVjaXNpb24+MD9NYXRoLnJvdW5kKGkqKDEwKm0ucHJlY2lzaW9uKSkvKDEwKm0ucHJlY2lzaW9uKTpNYXRoLnJvdW5kKGkpfSxwZXJjZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGYucGVyY2VudHx8MH0sdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5uZXh0VmFsdWV8fGYudmFsdWV8fDB9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIGYudG90YWx8fCExfX0sY3JlYXRlOntwcm9ncmVzc1BvbGw6ZnVuY3Rpb24oKXtmLnByb2dyZXNzUG9sbD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi51cGRhdGUudG9OZXh0VmFsdWUoKSxmLnJlbW92ZS5wcm9ncmVzc1BvbGwoKX0sZi5nZXQudXBkYXRlSW50ZXJ2YWwoKSl9fSxpczp7Y29tcGxldGU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5pcy5zdWNjZXNzKCl8fGYuaXMud2FybmluZygpfHxmLmlzLmVycm9yKCl9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gQy5oYXNDbGFzcyhnLnN1Y2Nlc3MpfSx3YXJuaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIEMuaGFzQ2xhc3MoZy53YXJuaW5nKX0sZXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gQy5oYXNDbGFzcyhnLmVycm9yKX0sYWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIEMuaGFzQ2xhc3MoZy5hY3RpdmUpfSx2aXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIEMuaXMoXCI6dmlzaWJsZVwiKX19LHJlbW92ZTp7cHJvZ3Jlc3NQb2xsOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiUmVtb3ZpbmcgcHJvZ3Jlc3MgcG9sbCB0aW1lclwiKSxmLnByb2dyZXNzUG9sbCYmKGNsZWFyVGltZW91dChmLnByb2dyZXNzUG9sbCksZGVsZXRlIGYucHJvZ3Jlc3NQb2xsKX0sbmV4dFZhbHVlOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiUmVtb3ZpbmcgcHJvZ3Jlc3MgdmFsdWUgc3RvcmVkIGZvciBuZXh0IHVwZGF0ZVwiKSxkZWxldGUgZi5uZXh0VmFsdWV9LHN0YXRlOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiUmVtb3Zpbmcgc3RvcmVkIHN0YXRlXCIpLGRlbGV0ZSBmLnRvdGFsLGRlbGV0ZSBmLnBlcmNlbnQsZGVsZXRlIGYudmFsdWV9LGFjdGl2ZTpmdW5jdGlvbigpe2YudmVyYm9zZShcIlJlbW92aW5nIGFjdGl2ZSBzdGF0ZVwiKSxDLnJlbW92ZUNsYXNzKGcuYWN0aXZlKX0sc3VjY2VzczpmdW5jdGlvbigpe2YudmVyYm9zZShcIlJlbW92aW5nIHN1Y2Nlc3Mgc3RhdGVcIiksQy5yZW1vdmVDbGFzcyhnLnN1Y2Nlc3MpfSx3YXJuaW5nOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiUmVtb3Zpbmcgd2FybmluZyBzdGF0ZVwiKSxDLnJlbW92ZUNsYXNzKGcud2FybmluZyl9LGVycm9yOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiUmVtb3ZpbmcgZXJyb3Igc3RhdGVcIiksQy5yZW1vdmVDbGFzcyhnLmVycm9yKX19LHNldDp7YmFyV2lkdGg6ZnVuY3Rpb24oZSl7ZT4xMDA/Zi5lcnJvcihiLnRvb0hpZ2gsZSk6ZTwwP2YuZXJyb3IoYi50b29Mb3csZSk6KHcuY3NzKFwid2lkdGhcIixlK1wiJVwiKSxDLmF0dHIoXCJkYXRhLXBlcmNlbnRcIixwYXJzZUludChlLDEwKSkpfSxkdXJhdGlvbjpmdW5jdGlvbihlKXtlPWV8fG0uZHVyYXRpb24sZT1cIm51bWJlclwiPT10eXBlb2YgZT9lK1wibXNcIjplLGYudmVyYm9zZShcIlNldHRpbmcgcHJvZ3Jlc3MgYmFyIHRyYW5zaXRpb24gZHVyYXRpb25cIixlKSx3LmNzcyh7XCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCI6ZX0pfSxwZXJjZW50OmZ1bmN0aW9uKGUpe2U9XCJzdHJpbmdcIj09dHlwZW9mIGU/K2UucmVwbGFjZShcIiVcIixcIlwiKTplLGU9bS5wcmVjaXNpb24+MD9NYXRoLnJvdW5kKGUqKDEwKm0ucHJlY2lzaW9uKSkvKDEwKm0ucHJlY2lzaW9uKTpNYXRoLnJvdW5kKGUpLGYucGVyY2VudD1lLGYuaGFzLnRvdGFsKCl8fChmLnZhbHVlPW0ucHJlY2lzaW9uPjA/TWF0aC5yb3VuZChlLzEwMCpmLnRvdGFsKigxMCptLnByZWNpc2lvbikpLygxMCptLnByZWNpc2lvbik6TWF0aC5yb3VuZChlLzEwMCpmLnRvdGFsKjEwKS8xMCxtLmxpbWl0VmFsdWVzJiYoZi52YWx1ZT1mLnZhbHVlPjEwMD8xMDA6Zi52YWx1ZTwwPzA6Zi52YWx1ZSkpLGYuc2V0LmJhcldpZHRoKGUpLGYuc2V0LmxhYmVsSW50ZXJ2YWwoKSxmLnNldC5sYWJlbHMoKSxtLm9uQ2hhbmdlLmNhbGwoVCxlLGYudmFsdWUsZi50b3RhbCl9LGxhYmVsSW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe2YudmVyYm9zZShcIkJhciBmaW5pc2hlZCBhbmltYXRpbmcsIHJlbW92aW5nIGNvbnRpbnVvdXMgbGFiZWwgdXBkYXRlc1wiKSxjbGVhckludGVydmFsKGYuaW50ZXJ2YWwpLFI9ITEsZi5zZXQubGFiZWxzKCl9O2NsZWFySW50ZXJ2YWwoZi5pbnRlcnZhbCksZi5iaW5kLnRyYW5zaXRpb25FbmQodCksUj0hMCxmLmludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5jb250YWlucyhuLmRvY3VtZW50RWxlbWVudCxUKTt0fHwoY2xlYXJJbnRlcnZhbChmLmludGVydmFsKSxSPSExKSxmLnNldC5sYWJlbHMoKX0sbS5mcmFtZXJhdGUpfSxsYWJlbHM6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJTZXR0aW5nIGJvdGggYmFyIHByb2dyZXNzIGFuZCBvdXRlciBsYWJlbCB0ZXh0XCIpLGYuc2V0LmJhckxhYmVsKCksZi5zZXQuc3RhdGUoKX0sbGFiZWw6ZnVuY3Rpb24oZSl7ZT1lfHxcIlwiLGUmJihlPWYuZ2V0LnRleHQoZSksZi52ZXJib3NlKFwiU2V0dGluZyBsYWJlbCB0byB0ZXh0XCIsZSksUy50ZXh0KGUpKX0sc3RhdGU6ZnVuY3Rpb24oZSl7ZT1lIT09aT9lOmYucGVyY2VudCwxMDA9PT1lP20uYXV0b1N1Y2Nlc3MmJiEoZi5pcy53YXJuaW5nKCl8fGYuaXMuZXJyb3IoKXx8Zi5pcy5zdWNjZXNzKCkpPyhmLnNldC5zdWNjZXNzKCksZi5kZWJ1ZyhcIkF1dG9tYXRpY2FsbHkgdHJpZ2dlcmluZyBzdWNjZXNzIGF0IDEwMCVcIikpOihmLnZlcmJvc2UoXCJSZWFjaGVkIDEwMCUgcmVtb3ZpbmcgYWN0aXZlIHN0YXRlXCIpLGYucmVtb3ZlLmFjdGl2ZSgpLGYucmVtb3ZlLnByb2dyZXNzUG9sbCgpKTplPjA/KGYudmVyYm9zZShcIkFkanVzdGluZyBhY3RpdmUgcHJvZ3Jlc3MgYmFyIGxhYmVsXCIsZSksZi5zZXQuYWN0aXZlKCkpOihmLnJlbW92ZS5hY3RpdmUoKSxmLnNldC5sYWJlbChtLnRleHQuYWN0aXZlKSl9LGJhckxhYmVsOmZ1bmN0aW9uKGUpe2UhPT1pP2sudGV4dChmLmdldC50ZXh0KGUpKTpcInJhdGlvXCI9PW0ubGFiZWwmJmYudG90YWw/KGYudmVyYm9zZShcIkFkZGluZyByYXRpbyB0byBiYXIgbGFiZWxcIiksay50ZXh0KGYuZ2V0LnRleHQobS50ZXh0LnJhdGlvKSkpOlwicGVyY2VudFwiPT1tLmxhYmVsJiYoZi52ZXJib3NlKFwiQWRkaW5nIHBlcmNlbnRhZ2UgdG8gYmFyIGxhYmVsXCIpLGsudGV4dChmLmdldC50ZXh0KG0udGV4dC5wZXJjZW50KSkpfSxhY3RpdmU6ZnVuY3Rpb24oZSl7ZT1lfHxtLnRleHQuYWN0aXZlLGYuZGVidWcoXCJTZXR0aW5nIGFjdGl2ZSBzdGF0ZVwiKSxtLnNob3dBY3Rpdml0eSYmIWYuaXMuYWN0aXZlKCkmJkMuYWRkQ2xhc3MoZy5hY3RpdmUpLGYucmVtb3ZlLndhcm5pbmcoKSxmLnJlbW92ZS5lcnJvcigpLGYucmVtb3ZlLnN1Y2Nlc3MoKSxlPW0ub25MYWJlbFVwZGF0ZShcImFjdGl2ZVwiLGUsZi52YWx1ZSxmLnRvdGFsKSxlJiZmLnNldC5sYWJlbChlKSxmLmJpbmQudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpe20ub25BY3RpdmUuY2FsbChULGYudmFsdWUsZi50b3RhbCl9KX0sc3VjY2VzczpmdW5jdGlvbihlKXtlPWV8fG0udGV4dC5zdWNjZXNzfHxtLnRleHQuYWN0aXZlLGYuZGVidWcoXCJTZXR0aW5nIHN1Y2Nlc3Mgc3RhdGVcIiksQy5hZGRDbGFzcyhnLnN1Y2Nlc3MpLGYucmVtb3ZlLmFjdGl2ZSgpLGYucmVtb3ZlLndhcm5pbmcoKSxmLnJlbW92ZS5lcnJvcigpLGYuY29tcGxldGUoKSxtLnRleHQuc3VjY2Vzcz8oZT1tLm9uTGFiZWxVcGRhdGUoXCJzdWNjZXNzXCIsZSxmLnZhbHVlLGYudG90YWwpLGYuc2V0LmxhYmVsKGUpKTooZT1tLm9uTGFiZWxVcGRhdGUoXCJhY3RpdmVcIixlLGYudmFsdWUsZi50b3RhbCksZi5zZXQubGFiZWwoZSkpLGYuYmluZC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCl7bS5vblN1Y2Nlc3MuY2FsbChULGYudG90YWwpfSl9LHdhcm5pbmc6ZnVuY3Rpb24oZSl7ZT1lfHxtLnRleHQud2FybmluZyxmLmRlYnVnKFwiU2V0dGluZyB3YXJuaW5nIHN0YXRlXCIpLEMuYWRkQ2xhc3MoZy53YXJuaW5nKSxmLnJlbW92ZS5hY3RpdmUoKSxmLnJlbW92ZS5zdWNjZXNzKCksZi5yZW1vdmUuZXJyb3IoKSxmLmNvbXBsZXRlKCksZT1tLm9uTGFiZWxVcGRhdGUoXCJ3YXJuaW5nXCIsZSxmLnZhbHVlLGYudG90YWwpLGUmJmYuc2V0LmxhYmVsKGUpLGYuYmluZC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCl7bS5vbldhcm5pbmcuY2FsbChULGYudmFsdWUsZi50b3RhbCl9KX0sZXJyb3I6ZnVuY3Rpb24oZSl7ZT1lfHxtLnRleHQuZXJyb3IsZi5kZWJ1ZyhcIlNldHRpbmcgZXJyb3Igc3RhdGVcIiksQy5hZGRDbGFzcyhnLmVycm9yKSxmLnJlbW92ZS5hY3RpdmUoKSxmLnJlbW92ZS5zdWNjZXNzKCksZi5yZW1vdmUud2FybmluZygpLGYuY29tcGxldGUoKSxlPW0ub25MYWJlbFVwZGF0ZShcImVycm9yXCIsZSxmLnZhbHVlLGYudG90YWwpLGUmJmYuc2V0LmxhYmVsKGUpLGYuYmluZC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCl7bS5vbkVycm9yLmNhbGwoVCxmLnZhbHVlLGYudG90YWwpfSl9LHRyYW5zaXRpb25FdmVudDpmdW5jdGlvbigpe2E9Zi5nZXQudHJhbnNpdGlvbkVuZCgpfSx0b3RhbDpmdW5jdGlvbihlKXtmLnRvdGFsPWV9LHZhbHVlOmZ1bmN0aW9uKGUpe2YudmFsdWU9ZX0scHJvZ3Jlc3M6ZnVuY3Rpb24oZSl7Zi5oYXMucHJvZ3Jlc3NQb2xsKCk/KGYuZGVidWcoXCJVcGRhdGVkIHdpdGhpbiBpbnRlcnZhbCwgc2V0dGluZyBuZXh0IHVwZGF0ZSB0byB1c2UgbmV3IHZhbHVlXCIsZSksZi5zZXQubmV4dFZhbHVlKGUpKTooZi5kZWJ1ZyhcIkZpcnN0IHVwZGF0ZSBpbiBwcm9ncmVzcyB1cGRhdGUgaW50ZXJ2YWwsIGltbWVkaWF0ZWx5IHVwZGF0aW5nXCIsZSksZi51cGRhdGUucHJvZ3Jlc3MoZSksZi5jcmVhdGUucHJvZ3Jlc3NQb2xsKCkpfSxuZXh0VmFsdWU6ZnVuY3Rpb24oZSl7Zi5uZXh0VmFsdWU9ZX19LHVwZGF0ZTp7dG9OZXh0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1mLm5leHRWYWx1ZTtlJiYoZi5kZWJ1ZyhcIlVwZGF0ZSBpbnRlcnZhbCBjb21wbGV0ZSB1c2luZyBsYXN0IHVwZGF0ZWQgdmFsdWVcIixlKSxmLnVwZGF0ZS5wcm9ncmVzcyhlKSxmLnJlbW92ZS5uZXh0VmFsdWUoKSl9LHByb2dyZXNzOmZ1bmN0aW9uKGUpe3ZhciB0O2U9Zi5nZXQubnVtZXJpY1ZhbHVlKGUpLGU9PT0hMSYmZi5lcnJvcihiLm5vbk51bWVyaWMsZSksZT1mLmdldC5ub3JtYWxpemVkVmFsdWUoZSksZi5oYXMudG90YWwoKT8oZi5zZXQudmFsdWUoZSksdD1lL2YudG90YWwqMTAwLGYuZGVidWcoXCJDYWxjdWxhdGluZyBwZXJjZW50IGNvbXBsZXRlIGZyb20gdG90YWxcIix0KSxmLnNldC5wZXJjZW50KHQpKToodD1lLGYuZGVidWcoXCJTZXR0aW5nIHZhbHVlIHRvIGV4YWN0IHBlcmNlbnRhZ2UgdmFsdWVcIix0KSxmLnNldC5wZXJjZW50KHQpKX19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihmLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLG0sdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gbVt0XTtlLmlzUGxhaW5PYmplY3QobVt0XSk/ZS5leHRlbmQoITAsbVt0XSxuKTptW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxmLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGZbdF07Zlt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXshbS5zaWxlbnQmJm0uZGVidWcmJihtLnBlcmZvcm1hbmNlP2YucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGYuZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxtLm5hbWUrXCI6XCIpLGYuZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXshbS5zaWxlbnQmJm0udmVyYm9zZSYmbS5kZWJ1ZyYmKG0ucGVyZm9ybWFuY2U/Zi5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooZi52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxmLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7bS5zaWxlbnR8fChmLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLG0ubmFtZStcIjpcIiksZi5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTttLnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPXN8fHQsbj10LWkscz10LGwucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDpULFwiRXhlY3V0aW9uIFRpbWVcIjpufSkpLGNsZWFyVGltZW91dChmLnBlcmZvcm1hbmNlLnRpbWVyKSxmLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQoZi5wZXJmb3JtYW5jZS5kaXNwbGF5LDUwMCl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgdD1tLm5hbWUrXCI6XCIsbj0wO3M9ITEsY2xlYXJUaW1lb3V0KGYucGVyZm9ybWFuY2UudGltZXIpLGUuZWFjaChsLGZ1bmN0aW9uKGUsdCl7bis9dFtcIkV4ZWN1dGlvbiBUaW1lXCJdfSksdCs9XCIgXCIrbitcIm1zXCIsciYmKHQrPVwiICdcIityK1wiJ1wiKSwoY29uc29sZS5ncm91cCE9PWl8fGNvbnNvbGUudGFibGUhPT1pKSYmbC5sZW5ndGg+MCYmKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQodCksY29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKGwpOmUuZWFjaChsLGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2codC5OYW1lK1wiOiBcIit0W1wiRXhlY3V0aW9uIFRpbWVcIl0rXCJtc1wiKX0pLGNvbnNvbGUuZ3JvdXBFbmQoKSksbD1bXX19LGludm9rZTpmdW5jdGlvbih0LG4sYSl7dmFyIHIscyxsLGM9QTtyZXR1cm4gbj1ufHxkLGE9VHx8YSxcInN0cmluZ1wiPT10eXBlb2YgdCYmYyE9PWkmJih0PXQuc3BsaXQoL1tcXC4gXS8pLHI9dC5sZW5ndGgtMSxlLmVhY2godCxmdW5jdGlvbihuLG8pe3ZhciBhPW4hPXI/byt0W24rMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdFtuKzFdLnNsaWNlKDEpOnQ7aWYoZS5pc1BsYWluT2JqZWN0KGNbYV0pJiZuIT1yKWM9Y1thXTtlbHNle2lmKGNbYV0hPT1pKXJldHVybiBzPWNbYV0sITE7aWYoIWUuaXNQbGFpbk9iamVjdChjW29dKXx8bj09cilyZXR1cm4gY1tvXSE9PWk/KHM9Y1tvXSwhMSk6KGYuZXJyb3IoYi5tZXRob2QsdCksITEpO2M9Y1tvXX19KSksZS5pc0Z1bmN0aW9uKHMpP2w9cy5hcHBseShhLG4pOnMhPT1pJiYobD1zKSxlLmlzQXJyYXkobyk/by5wdXNoKGwpOm8hPT1pP289W28sbF06bCE9PWkmJihvPWwpLHN9fSx1PyhBPT09aSYmZi5pbml0aWFsaXplKCksZi5pbnZva2UoYykpOihBIT09aSYmQS5pbnZva2UoXCJkZXN0cm95XCIpLGYuaW5pdGlhbGl6ZSgpKX0pLG8hPT1pP286dGhpc30sZS5mbi5wcm9ncmVzcy5zZXR0aW5ncz17bmFtZTpcIlByb2dyZXNzXCIsbmFtZXNwYWNlOlwicHJvZ3Jlc3NcIixzaWxlbnQ6ITEsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCxyYW5kb206e21pbjoyLG1heDo1fSxkdXJhdGlvbjozMDAsdXBkYXRlSW50ZXJ2YWw6XCJhdXRvXCIsYXV0b1N1Y2Nlc3M6ITAsc2hvd0FjdGl2aXR5OiEwLGxpbWl0VmFsdWVzOiEwLGxhYmVsOlwicGVyY2VudFwiLHByZWNpc2lvbjowLGZyYW1lcmF0ZToxZTMvMzAscGVyY2VudDohMSx0b3RhbDohMSx2YWx1ZTohMSxmYWlsU2FmZURlbGF5OjEwMCxvbkxhYmVsVXBkYXRlOmZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiB0fSxvbkNoYW5nZTpmdW5jdGlvbihlLHQsbil7fSxvblN1Y2Nlc3M6ZnVuY3Rpb24oZSl7fSxvbkFjdGl2ZTpmdW5jdGlvbihlLHQpe30sb25FcnJvcjpmdW5jdGlvbihlLHQpe30sb25XYXJuaW5nOmZ1bmN0aW9uKGUsdCl7fSxlcnJvcjp7bWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwiLG5vbk51bWVyaWM6XCJQcm9ncmVzcyB2YWx1ZSBpcyBub24gbnVtZXJpY1wiLHRvb0hpZ2g6XCJWYWx1ZSBzcGVjaWZpZWQgaXMgYWJvdmUgMTAwJVwiLHRvb0xvdzpcIlZhbHVlIHNwZWNpZmllZCBpcyBiZWxvdyAwJVwifSxyZWdFeHA6e3ZhcmlhYmxlOi9cXHtcXCQqW0EtejAtOV0rXFx9L2d9LG1ldGFkYXRhOntwZXJjZW50OlwicGVyY2VudFwiLHRvdGFsOlwidG90YWxcIix2YWx1ZTpcInZhbHVlXCJ9LHNlbGVjdG9yOntiYXI6XCI+IC5iYXJcIixsYWJlbDpcIj4gLmxhYmVsXCIscHJvZ3Jlc3M6XCIuYmFyID4gLnByb2dyZXNzXCJ9LHRleHQ6e2FjdGl2ZTohMSxlcnJvcjohMSxzdWNjZXNzOiExLHdhcm5pbmc6ITEscGVyY2VudDpcIntwZXJjZW50fSVcIixyYXRpbzpcInt2YWx1ZX0gb2Yge3RvdGFsfVwifSxjbGFzc05hbWU6e2FjdGl2ZTpcImFjdGl2ZVwiLGVycm9yOlwiZXJyb3JcIixzdWNjZXNzOlwic3VjY2Vzc1wiLHdhcm5pbmc6XCJ3YXJuaW5nXCJ9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxlLmZuLnJhdGluZz1mdW5jdGlvbih0KXt2YXIgbixvPWUodGhpcyksYT1vLnNlbGVjdG9yfHxcIlwiLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCkscz1bXSxsPWFyZ3VtZW50c1swXSxjPVwic3RyaW5nXCI9PXR5cGVvZiBsLHU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIG8uZWFjaChmdW5jdGlvbigpe3ZhciBkLGYsbT1lLmlzUGxhaW5PYmplY3QodCk/ZS5leHRlbmQoITAse30sZS5mbi5yYXRpbmcuc2V0dGluZ3MsdCk6ZS5leHRlbmQoe30sZS5mbi5yYXRpbmcuc2V0dGluZ3MpLGc9bS5uYW1lc3BhY2UscD1tLmNsYXNzTmFtZSxoPW0ubWV0YWRhdGEsdj1tLnNlbGVjdG9yLGI9KG0uZXJyb3IsXCIuXCIrZykseT1cIm1vZHVsZS1cIitnLHg9dGhpcyxDPWUodGhpcykuZGF0YSh5KSx3PWUodGhpcyksaz13LmZpbmQodi5pY29uKTtmPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiSW5pdGlhbGl6aW5nIHJhdGluZyBtb2R1bGVcIixtKSwwPT09ay5sZW5ndGgmJmYuc2V0dXAubGF5b3V0KCksbS5pbnRlcmFjdGl2ZT9mLmVuYWJsZSgpOmYuZGlzYWJsZSgpLGYuc2V0LmluaXRpYWxMb2FkKCksZi5zZXQucmF0aW5nKGYuZ2V0LmluaXRpYWxSYXRpbmcoKSksZi5yZW1vdmUuaW5pdGlhbExvYWQoKSxmLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiSW5zdGFudGlhdGluZyBtb2R1bGVcIixtKSxDPWYsdy5kYXRhKHksZil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIGluc3RhbmNlXCIsQyksZi5yZW1vdmUuZXZlbnRzKCksdy5yZW1vdmVEYXRhKHkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7az13LmZpbmQodi5pY29uKX0sc2V0dXA6e2xheW91dDpmdW5jdGlvbigpe3ZhciB0PWYuZ2V0Lm1heFJhdGluZygpLG49ZS5mbi5yYXRpbmcuc2V0dGluZ3MudGVtcGxhdGVzLmljb24odCk7Zi5kZWJ1ZyhcIkdlbmVyYXRpbmcgaWNvbiBodG1sIGR5bmFtaWNhbGx5XCIpLHcuaHRtbChuKSxmLnJlZnJlc2goKX19LGV2ZW50Onttb3VzZWVudGVyOmZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTt0Lm5leHRBbGwoKS5yZW1vdmVDbGFzcyhwLnNlbGVjdGVkKSx3LmFkZENsYXNzKHAuc2VsZWN0ZWQpLHQuYWRkQ2xhc3MocC5zZWxlY3RlZCkucHJldkFsbCgpLmFkZENsYXNzKHAuc2VsZWN0ZWQpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKCl7dy5yZW1vdmVDbGFzcyhwLnNlbGVjdGVkKSxrLnJlbW92ZUNsYXNzKHAuc2VsZWN0ZWQpfSxjbGljazpmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj1mLmdldC5yYXRpbmcoKSxpPWsuaW5kZXgodCkrMSxvPVwiYXV0b1wiPT1tLmNsZWFyYWJsZT8xPT09ay5sZW5ndGg6bS5jbGVhcmFibGU7byYmbj09aT9mLmNsZWFyUmF0aW5nKCk6Zi5zZXQucmF0aW5nKGkpfX0sY2xlYXJSYXRpbmc6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiQ2xlYXJpbmcgY3VycmVudCByYXRpbmdcIiksZi5zZXQucmF0aW5nKDApfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJCaW5kaW5nIGV2ZW50c1wiKSx3Lm9uKFwibW91c2VlbnRlclwiK2Isdi5pY29uLGYuZXZlbnQubW91c2VlbnRlcikub24oXCJtb3VzZWxlYXZlXCIrYix2Lmljb24sZi5ldmVudC5tb3VzZWxlYXZlKS5vbihcImNsaWNrXCIrYix2Lmljb24sZi5ldmVudC5jbGljayl9fSxyZW1vdmU6e2V2ZW50czpmdW5jdGlvbigpe2YudmVyYm9zZShcIlJlbW92aW5nIGV2ZW50c1wiKSx3Lm9mZihiKX0saW5pdGlhbExvYWQ6ZnVuY3Rpb24oKXtkPSExfX0sZW5hYmxlOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIlNldHRpbmcgcmF0aW5nIHRvIGludGVyYWN0aXZlIG1vZGVcIiksZi5iaW5kLmV2ZW50cygpLHcucmVtb3ZlQ2xhc3MocC5kaXNhYmxlZCl9LGRpc2FibGU6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiU2V0dGluZyByYXRpbmcgdG8gcmVhZC1vbmx5IG1vZGVcIiksZi5yZW1vdmUuZXZlbnRzKCksdy5hZGRDbGFzcyhwLmRpc2FibGVkKX0saXM6e2luaXRpYWxMb2FkOmZ1bmN0aW9uKCl7cmV0dXJuIGR9fSxnZXQ6e2luaXRpYWxSYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdy5kYXRhKGgucmF0aW5nKSE9PWk/KHcucmVtb3ZlRGF0YShoLnJhdGluZyksdy5kYXRhKGgucmF0aW5nKSk6bS5pbml0aWFsUmF0aW5nfSxtYXhSYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdy5kYXRhKGgubWF4UmF0aW5nKSE9PWk/KHcucmVtb3ZlRGF0YShoLm1heFJhdGluZyksdy5kYXRhKGgubWF4UmF0aW5nKSk6bS5tYXhSYXRpbmd9LHJhdGluZzpmdW5jdGlvbigpe3ZhciBlPWsuZmlsdGVyKFwiLlwiK3AuYWN0aXZlKS5sZW5ndGg7cmV0dXJuIGYudmVyYm9zZShcIkN1cnJlbnQgcmF0aW5nIHJldHJpZXZlZFwiLGUpLGV9fSxzZXQ6e3JhdGluZzpmdW5jdGlvbihlKXt2YXIgdD1lLTE+PTA/ZS0xOjAsbj1rLmVxKHQpO3cucmVtb3ZlQ2xhc3MocC5zZWxlY3RlZCksay5yZW1vdmVDbGFzcyhwLnNlbGVjdGVkKS5yZW1vdmVDbGFzcyhwLmFjdGl2ZSksZT4wJiYoZi52ZXJib3NlKFwiU2V0dGluZyBjdXJyZW50IHJhdGluZyB0b1wiLGUpLG4ucHJldkFsbCgpLmFkZEJhY2soKS5hZGRDbGFzcyhwLmFjdGl2ZSkpLGYuaXMuaW5pdGlhbExvYWQoKXx8bS5vblJhdGUuY2FsbCh4LGUpfSxpbml0aWFsTG9hZDpmdW5jdGlvbigpe2Q9ITB9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoZi5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxtLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIG1bdF07ZS5pc1BsYWluT2JqZWN0KG1bdF0pP2UuZXh0ZW5kKCEwLG1bdF0sbik6bVt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsZix0KTtlbHNle2lmKG49PT1pKXJldHVybiBmW3RdO2ZbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7IW0uc2lsZW50JiZtLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxmLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IW0uc2lsZW50JiZtLnZlcmJvc2UmJm0uZGVidWcmJihtLnBlcmZvcm1hbmNlP2YucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGYudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLG0ubmFtZStcIjpcIiksZi52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe20uc2lsZW50fHwoZi5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxtLm5hbWUrXCI6XCIpLGYuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7bS5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1yfHx0LG49dC1pLHI9dCxzLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6eCxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoZi5wZXJmb3JtYW5jZS50aW1lciksZi5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KGYucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9bS5uYW1lK1wiOlwiLG49MDtyPSExLGNsZWFyVGltZW91dChmLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gocyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLGEmJih0Kz1cIiAnXCIrYStcIidcIiksby5sZW5ndGg+MSYmKHQrPVwiIChcIitvLmxlbmd0aCtcIilcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJnMubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShzKTplLmVhY2gocyxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLHM9W119fSxpbnZva2U6ZnVuY3Rpb24odCxvLGEpe3ZhciByLHMsbCxjPUM7cmV0dXJuIG89b3x8dSxhPXh8fGEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pJiYocz1jW29dLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkoYSxvKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KG4pP24ucHVzaChsKTpuIT09aT9uPVtuLGxdOmwhPT1pJiYobj1sKSxzfX0sYz8oQz09PWkmJmYuaW5pdGlhbGl6ZSgpLGYuaW52b2tlKGwpKTooQyE9PWkmJkMuaW52b2tlKFwiZGVzdHJveVwiKSxmLmluaXRpYWxpemUoKSl9KSxuIT09aT9uOnRoaXN9LGUuZm4ucmF0aW5nLnNldHRpbmdzPXtuYW1lOlwiUmF0aW5nXCIsbmFtZXNwYWNlOlwicmF0aW5nXCIsc2xlbnQ6ITEsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCxpbml0aWFsUmF0aW5nOjAsaW50ZXJhY3RpdmU6ITAsbWF4UmF0aW5nOjQsY2xlYXJhYmxlOlwiYXV0b1wiLGZpcmVPbkluaXQ6ITEsb25SYXRlOmZ1bmN0aW9uKGUpe30sZXJyb3I6e21ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZFwiLG5vTWF4aW11bTpcIk5vIG1heGltdW0gcmF0aW5nIHNwZWNpZmllZC4gQ2Fubm90IGdlbmVyYXRlIEhUTUwgYXV0b21hdGljYWxseVwifSxtZXRhZGF0YTp7cmF0aW5nOlwicmF0aW5nXCIsbWF4UmF0aW5nOlwibWF4UmF0aW5nXCJ9LGNsYXNzTmFtZTp7YWN0aXZlOlwiYWN0aXZlXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLHNlbGVjdGVkOlwic2VsZWN0ZWRcIixsb2FkaW5nOlwibG9hZGluZ1wifSxzZWxlY3Rvcjp7aWNvbjpcIi5pY29uXCJ9LHRlbXBsYXRlczp7aWNvbjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MSxuPVwiXCI7dDw9ZTspbis9JzxpIGNsYXNzPVwiaWNvblwiPjwvaT4nLHQrKztyZXR1cm4gbn19fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxcbmUuZm4uc2VhcmNoPWZ1bmN0aW9uKG8pe3ZhciBhLHI9ZSh0aGlzKSxzPXIuc2VsZWN0b3J8fFwiXCIsbD0obmV3IERhdGUpLmdldFRpbWUoKSxjPVtdLHU9YXJndW1lbnRzWzBdLGQ9XCJzdHJpbmdcIj09dHlwZW9mIHUsZj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZSh0aGlzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG0sZz1lLmlzUGxhaW5PYmplY3Qobyk/ZS5leHRlbmQoITAse30sZS5mbi5zZWFyY2guc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi5zZWFyY2guc2V0dGluZ3MpLHA9Zy5jbGFzc05hbWUsaD1nLm1ldGFkYXRhLHY9Zy5yZWdFeHAsYj1nLmZpZWxkcyx5PWcuc2VsZWN0b3IseD1nLmVycm9yLEM9Zy5uYW1lc3BhY2Usdz1cIi5cIitDLGs9QytcIi1tb2R1bGVcIixTPWUodGhpcyksVD1TLmZpbmQoeS5wcm9tcHQpLEE9Uy5maW5kKHkuc2VhcmNoQnV0dG9uKSxSPVMuZmluZCh5LnJlc3VsdHMpLEU9Uy5maW5kKHkucmVzdWx0KSxQPVMuZmluZCh5LmNhdGVnb3J5KSxGPXRoaXMsTz1TLmRhdGEoayksRD0hMTttPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiSW5pdGlhbGl6aW5nIG1vZHVsZVwiKSxtLmRldGVybWluZS5zZWFyY2hGaWVsZHMoKSxtLmJpbmQuZXZlbnRzKCksbS5zZXQudHlwZSgpLG0uY3JlYXRlLnJlc3VsdHMoKSxtLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixtKSxPPW0sUy5kYXRhKGssbSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXttLnZlcmJvc2UoXCJEZXN0cm95aW5nIGluc3RhbmNlXCIpLFMub2ZmKHcpLnJlbW92ZURhdGEoayl9LHJlZnJlc2g6ZnVuY3Rpb24oKXttLmRlYnVnKFwiUmVmcmVzaGluZyBzZWxlY3RvciBjYWNoZVwiKSxUPVMuZmluZCh5LnByb21wdCksQT1TLmZpbmQoeS5zZWFyY2hCdXR0b24pLFA9Uy5maW5kKHkuY2F0ZWdvcnkpLFI9Uy5maW5kKHkucmVzdWx0cyksRT1TLmZpbmQoeS5yZXN1bHQpfSxyZWZyZXNoUmVzdWx0czpmdW5jdGlvbigpe1I9Uy5maW5kKHkucmVzdWx0cyksRT1TLmZpbmQoeS5yZXN1bHQpfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXttLnZlcmJvc2UoXCJCaW5kaW5nIGV2ZW50cyB0byBzZWFyY2hcIiksZy5hdXRvbWF0aWMmJihTLm9uKG0uZ2V0LmlucHV0RXZlbnQoKSt3LHkucHJvbXB0LG0uZXZlbnQuaW5wdXQpLFQuYXR0cihcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpKSxTLm9uKFwiZm9jdXNcIit3LHkucHJvbXB0LG0uZXZlbnQuZm9jdXMpLm9uKFwiYmx1clwiK3cseS5wcm9tcHQsbS5ldmVudC5ibHVyKS5vbihcImtleWRvd25cIit3LHkucHJvbXB0LG0uaGFuZGxlS2V5Ym9hcmQpLm9uKFwiY2xpY2tcIit3LHkuc2VhcmNoQnV0dG9uLG0ucXVlcnkpLm9uKFwibW91c2Vkb3duXCIrdyx5LnJlc3VsdHMsbS5ldmVudC5yZXN1bHQubW91c2Vkb3duKS5vbihcIm1vdXNldXBcIit3LHkucmVzdWx0cyxtLmV2ZW50LnJlc3VsdC5tb3VzZXVwKS5vbihcImNsaWNrXCIrdyx5LnJlc3VsdCxtLmV2ZW50LnJlc3VsdC5jbGljayl9fSxkZXRlcm1pbmU6e3NlYXJjaEZpZWxkczpmdW5jdGlvbigpe28mJm8uc2VhcmNoRmllbGRzIT09aSYmKGcuc2VhcmNoRmllbGRzPW8uc2VhcmNoRmllbGRzKX19LGV2ZW50OntpbnB1dDpmdW5jdGlvbigpe2NsZWFyVGltZW91dChtLnRpbWVyKSxtLnRpbWVyPXNldFRpbWVvdXQobS5xdWVyeSxnLnNlYXJjaERlbGF5KX0sZm9jdXM6ZnVuY3Rpb24oKXttLnNldC5mb2N1cygpLG0uaGFzLm1pbmltdW1DaGFyYWN0ZXJzKCkmJihtLnF1ZXJ5KCksbS5jYW4uc2hvdygpJiZtLnNob3dSZXN1bHRzKCkpfSxibHVyOmZ1bmN0aW9uKGUpe3ZhciB0PW4uYWN0aXZlRWxlbWVudD09PXRoaXMsaT1mdW5jdGlvbigpe20uY2FuY2VsLnF1ZXJ5KCksbS5yZW1vdmUuZm9jdXMoKSxtLnRpbWVyPXNldFRpbWVvdXQobS5oaWRlUmVzdWx0cyxnLmhpZGVEZWxheSl9O3R8fChtLnJlc3VsdHNDbGlja2VkPyhtLmRlYnVnKFwiRGV0ZXJtaW5pbmcgaWYgdXNlciBhY3Rpb24gY2F1c2VkIHNlYXJjaCB0byBjbG9zZVwiKSxTLm9uZShcImNsaWNrLmNsb3NlXCIrdyx5LnJlc3VsdHMsZnVuY3Rpb24oZSl7cmV0dXJuIG0uaXMuaW5NZXNzYWdlKGUpfHxEP3ZvaWQgVC5mb2N1cygpOihEPSExLHZvaWQobS5pcy5hbmltYXRpbmcoKXx8bS5pcy5oaWRkZW4oKXx8aSgpKSl9KSk6KG0uZGVidWcoXCJJbnB1dCBibHVycmVkIHdpdGhvdXQgdXNlciBhY3Rpb24sIGNsb3NpbmcgcmVzdWx0c1wiKSxpKCkpKX0scmVzdWx0Onttb3VzZWRvd246ZnVuY3Rpb24oKXttLnJlc3VsdHNDbGlja2VkPSEwfSxtb3VzZXVwOmZ1bmN0aW9uKCl7bS5yZXN1bHRzQ2xpY2tlZD0hMX0sY2xpY2s6ZnVuY3Rpb24obil7bS5kZWJ1ZyhcIlNlYXJjaCByZXN1bHQgc2VsZWN0ZWRcIik7dmFyIGk9ZSh0aGlzKSxvPWkuZmluZCh5LnRpdGxlKS5lcSgwKSxhPWkuaXMoXCJhW2hyZWZdXCIpP2k6aS5maW5kKFwiYVtocmVmXVwiKS5lcSgwKSxyPWEuYXR0cihcImhyZWZcIil8fCExLHM9YS5hdHRyKFwidGFyZ2V0XCIpfHwhMSxsPShvLmh0bWwoKSxvLmxlbmd0aD4wJiZvLnRleHQoKSksYz1tLmdldC5yZXN1bHRzKCksdT1pLmRhdGEoaC5yZXN1bHQpfHxtLmdldC5yZXN1bHQobCxjKTtyZXR1cm4gZS5pc0Z1bmN0aW9uKGcub25TZWxlY3QpJiZnLm9uU2VsZWN0LmNhbGwoRix1LGMpPT09ITE/KG0uZGVidWcoXCJDdXN0b20gb25TZWxlY3QgY2FsbGJhY2sgY2FuY2VsbGVkIGRlZmF1bHQgc2VsZWN0IGFjdGlvblwiKSx2b2lkKEQ9ITApKToobS5oaWRlUmVzdWx0cygpLGwmJm0uc2V0LnZhbHVlKGwpLHZvaWQociYmKG0udmVyYm9zZShcIk9wZW5pbmcgc2VhcmNoIGxpbmsgZm91bmQgaW4gcmVzdWx0XCIsYSksXCJfYmxhbmtcIj09c3x8bi5jdHJsS2V5P3Qub3BlbihyKTp0LmxvY2F0aW9uLmhyZWY9cikpKX19fSxoYW5kbGVLZXlib2FyZDpmdW5jdGlvbihlKXt2YXIgdCxuPVMuZmluZCh5LnJlc3VsdCksaT1TLmZpbmQoeS5jYXRlZ29yeSksbz1uLmZpbHRlcihcIi5cIitwLmFjdGl2ZSksYT1uLmluZGV4KG8pLHI9bi5sZW5ndGgscz1vLmxlbmd0aD4wLGw9ZS53aGljaCxjPXtiYWNrc3BhY2U6OCxlbnRlcjoxMyxlc2NhcGU6MjcsdXBBcnJvdzozOCxkb3duQXJyb3c6NDB9O2lmKGw9PWMuZXNjYXBlJiYobS52ZXJib3NlKFwiRXNjYXBlIGtleSBwcmVzc2VkLCBibHVycmluZyBzZWFyY2ggZmllbGRcIiksbS50cmlnZ2VyLmJsdXIoKSksbS5pcy52aXNpYmxlKCkpaWYobD09Yy5lbnRlcil7aWYobS52ZXJib3NlKFwiRW50ZXIga2V5IHByZXNzZWQsIHNlbGVjdGluZyBhY3RpdmUgcmVzdWx0XCIpLG4uZmlsdGVyKFwiLlwiK3AuYWN0aXZlKS5sZW5ndGg+MClyZXR1cm4gbS5ldmVudC5yZXN1bHQuY2xpY2suY2FsbChuLmZpbHRlcihcIi5cIitwLmFjdGl2ZSksZSksZS5wcmV2ZW50RGVmYXVsdCgpLCExfWVsc2UgbD09Yy51cEFycm93JiZzPyhtLnZlcmJvc2UoXCJVcCBrZXkgcHJlc3NlZCwgY2hhbmdpbmcgYWN0aXZlIHJlc3VsdFwiKSx0PWEtMTwwP2E6YS0xLGkucmVtb3ZlQ2xhc3MocC5hY3RpdmUpLG4ucmVtb3ZlQ2xhc3MocC5hY3RpdmUpLmVxKHQpLmFkZENsYXNzKHAuYWN0aXZlKS5jbG9zZXN0KGkpLmFkZENsYXNzKHAuYWN0aXZlKSxlLnByZXZlbnREZWZhdWx0KCkpOmw9PWMuZG93bkFycm93JiYobS52ZXJib3NlKFwiRG93biBrZXkgcHJlc3NlZCwgY2hhbmdpbmcgYWN0aXZlIHJlc3VsdFwiKSx0PWErMT49cj9hOmErMSxpLnJlbW92ZUNsYXNzKHAuYWN0aXZlKSxuLnJlbW92ZUNsYXNzKHAuYWN0aXZlKS5lcSh0KS5hZGRDbGFzcyhwLmFjdGl2ZSkuY2xvc2VzdChpKS5hZGRDbGFzcyhwLmFjdGl2ZSksZS5wcmV2ZW50RGVmYXVsdCgpKTtlbHNlIGw9PWMuZW50ZXImJihtLnZlcmJvc2UoXCJFbnRlciBrZXkgcHJlc3NlZCwgZXhlY3V0aW5nIHF1ZXJ5XCIpLG0ucXVlcnkoKSxtLnNldC5idXR0b25QcmVzc2VkKCksVC5vbmUoXCJrZXl1cFwiLG0ucmVtb3ZlLmJ1dHRvbkZvY3VzKSl9LHNldHVwOnthcGk6ZnVuY3Rpb24odCl7dmFyIG49e2RlYnVnOmcuZGVidWcsb246ITEsY2FjaGU6ITAsYWN0aW9uOlwic2VhcmNoXCIsdXJsRGF0YTp7cXVlcnk6dH0sb25TdWNjZXNzOmZ1bmN0aW9uKGUpe20ucGFyc2UucmVzcG9uc2UuY2FsbChGLGUsdCl9LG9uQWJvcnQ6ZnVuY3Rpb24oZSl7fSxvbkZhaWx1cmU6ZnVuY3Rpb24oKXttLmRpc3BsYXlNZXNzYWdlKHguc2VydmVyRXJyb3IpfSxvbkVycm9yOm0uZXJyb3J9O2UuZXh0ZW5kKCEwLG4sZy5hcGlTZXR0aW5ncyksbS52ZXJib3NlKFwiU2V0dGluZyB1cCBBUEkgcmVxdWVzdFwiLG4pLFMuYXBpKG4pfX0sY2FuOnt1c2VBUEk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5mbi5hcGkhPT1pfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIG0uaXMuZm9jdXNlZCgpJiYhbS5pcy52aXNpYmxlKCkmJiFtLmlzLmVtcHR5KCl9LHRyYW5zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZy50cmFuc2l0aW9uJiZlLmZuLnRyYW5zaXRpb24hPT1pJiZTLnRyYW5zaXRpb24oXCJpcyBzdXBwb3J0ZWRcIil9fSxpczp7YW5pbWF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIFIuaGFzQ2xhc3MocC5hbmltYXRpbmcpfSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4gUi5oYXNDbGFzcyhwLmhpZGRlbil9LGluTWVzc2FnZTpmdW5jdGlvbih0KXtpZih0LnRhcmdldCl7dmFyIGk9ZSh0LnRhcmdldCksbz1lLmNvbnRhaW5zKG4uZG9jdW1lbnRFbGVtZW50LHQudGFyZ2V0KTtyZXR1cm4gbyYmaS5jbG9zZXN0KHkubWVzc2FnZSkubGVuZ3RoPjB9fSxlbXB0eTpmdW5jdGlvbigpe3JldHVyblwiXCI9PT1SLmh0bWwoKX0sdmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBSLmZpbHRlcihcIjp2aXNpYmxlXCIpLmxlbmd0aD4wfSxmb2N1c2VkOmZ1bmN0aW9uKCl7cmV0dXJuIFQuZmlsdGVyKFwiOmZvY3VzXCIpLmxlbmd0aD4wfX0sdHJpZ2dlcjp7Ymx1cjpmdW5jdGlvbigpe3ZhciBlPW4uY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpLHQ9VFswXTt0JiYobS52ZXJib3NlKFwiVHJpZ2dlcmluZyBuYXRpdmUgYmx1ciBldmVudFwiKSxlLmluaXRFdmVudChcImJsdXJcIiwhMSwhMSksdC5kaXNwYXRjaEV2ZW50KGUpKX19LGdldDp7aW5wdXRFdmVudDpmdW5jdGlvbigpe3ZhciBlPVRbMF0sdD1lIT09aSYmZS5vbmlucHV0IT09aT9cImlucHV0XCI6ZSE9PWkmJmUub25wcm9wZXJ0eWNoYW5nZSE9PWk/XCJwcm9wZXJ0eWNoYW5nZVwiOlwia2V5dXBcIjtyZXR1cm4gdH0sdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gVC52YWwoKX0scmVzdWx0czpmdW5jdGlvbigpe3ZhciBlPVMuZGF0YShoLnJlc3VsdHMpO3JldHVybiBlfSxyZXN1bHQ6ZnVuY3Rpb24odCxuKXt2YXIgbz1bXCJ0aXRsZVwiLFwiaWRcIl0sYT0hMTtyZXR1cm4gdD10IT09aT90Om0uZ2V0LnZhbHVlKCksbj1uIT09aT9uOm0uZ2V0LnJlc3VsdHMoKSxcImNhdGVnb3J5XCI9PT1nLnR5cGU/KG0uZGVidWcoXCJGaW5kaW5nIHJlc3VsdCB0aGF0IG1hdGNoZXNcIix0KSxlLmVhY2gobixmdW5jdGlvbihuLGkpe2lmKGUuaXNBcnJheShpLnJlc3VsdHMpJiYoYT1tLnNlYXJjaC5vYmplY3QodCxpLnJlc3VsdHMsbylbMF0pKXJldHVybiExfSkpOihtLmRlYnVnKFwiRmluZGluZyByZXN1bHQgaW4gcmVzdWx0cyBvYmplY3RcIix0KSxhPW0uc2VhcmNoLm9iamVjdCh0LG4sbylbMF0pLGF8fCExfX0sc2VsZWN0OntmaXJzdFJlc3VsdDpmdW5jdGlvbigpe20udmVyYm9zZShcIlNlbGVjdGluZyBmaXJzdCByZXN1bHRcIiksRS5maXJzdCgpLmFkZENsYXNzKHAuYWN0aXZlKX19LHNldDp7Zm9jdXM6ZnVuY3Rpb24oKXtTLmFkZENsYXNzKHAuZm9jdXMpfSxsb2FkaW5nOmZ1bmN0aW9uKCl7Uy5hZGRDbGFzcyhwLmxvYWRpbmcpfSx2YWx1ZTpmdW5jdGlvbihlKXttLnZlcmJvc2UoXCJTZXR0aW5nIHNlYXJjaCBpbnB1dCB2YWx1ZVwiLGUpLFQudmFsKGUpfSx0eXBlOmZ1bmN0aW9uKGUpe2U9ZXx8Zy50eXBlLFwiY2F0ZWdvcnlcIj09Zy50eXBlJiZTLmFkZENsYXNzKGcudHlwZSl9LGJ1dHRvblByZXNzZWQ6ZnVuY3Rpb24oKXtBLmFkZENsYXNzKHAucHJlc3NlZCl9fSxyZW1vdmU6e2xvYWRpbmc6ZnVuY3Rpb24oKXtTLnJlbW92ZUNsYXNzKHAubG9hZGluZyl9LGZvY3VzOmZ1bmN0aW9uKCl7Uy5yZW1vdmVDbGFzcyhwLmZvY3VzKX0sYnV0dG9uUHJlc3NlZDpmdW5jdGlvbigpe0EucmVtb3ZlQ2xhc3MocC5wcmVzc2VkKX19LHF1ZXJ5OmZ1bmN0aW9uKCl7dmFyIHQ9bS5nZXQudmFsdWUoKSxuPW0ucmVhZC5jYWNoZSh0KTttLmhhcy5taW5pbXVtQ2hhcmFjdGVycygpPyhuPyhtLmRlYnVnKFwiUmVhZGluZyByZXN1bHQgZnJvbSBjYWNoZVwiLHQpLG0uc2F2ZS5yZXN1bHRzKG4ucmVzdWx0cyksbS5hZGRSZXN1bHRzKG4uaHRtbCksbS5pbmplY3QuaWQobi5yZXN1bHRzKSk6KG0uZGVidWcoXCJRdWVyeWluZyBmb3JcIix0KSxlLmlzUGxhaW5PYmplY3QoZy5zb3VyY2UpfHxlLmlzQXJyYXkoZy5zb3VyY2UpP20uc2VhcmNoLmxvY2FsKHQpOm0uY2FuLnVzZUFQSSgpP20uc2VhcmNoLnJlbW90ZSh0KTptLmVycm9yKHguc291cmNlKSksZy5vblNlYXJjaFF1ZXJ5LmNhbGwoRix0KSk6bS5oaWRlUmVzdWx0cygpfSxzZWFyY2g6e2xvY2FsOmZ1bmN0aW9uKGUpe3ZhciB0LG49bS5zZWFyY2gub2JqZWN0KGUsZy5jb250ZW50KTttLnNldC5sb2FkaW5nKCksbS5zYXZlLnJlc3VsdHMobiksbS5kZWJ1ZyhcIlJldHVybmVkIGxvY2FsIHNlYXJjaCByZXN1bHRzXCIsbiksdD1tLmdlbmVyYXRlUmVzdWx0cyh7cmVzdWx0czpufSksbS5yZW1vdmUubG9hZGluZygpLG0uYWRkUmVzdWx0cyh0KSxtLmluamVjdC5pZChuKSxtLndyaXRlLmNhY2hlKGUse2h0bWw6dCxyZXN1bHRzOm59KX0scmVtb3RlOmZ1bmN0aW9uKGUpe1MuYXBpKFwiaXMgbG9hZGluZ1wiKSYmUy5hcGkoXCJhYm9ydFwiKSxtLnNldHVwLmFwaShlKSxTLmFwaShcInF1ZXJ5XCIpfSxvYmplY3Q6ZnVuY3Rpb24odCxuLG8pe3ZhciBhPVtdLHI9W10scz10LnRvU3RyaW5nKCkucmVwbGFjZSh2LmVzY2FwZSxcIlxcXFwkJlwiKSxsPW5ldyBSZWdFeHAodi5iZWdpbnNXaXRoK3MsXCJpXCIpLGM9ZnVuY3Rpb24odCxuKXt2YXIgaT1lLmluQXJyYXkobixhKT09LTEsbz1lLmluQXJyYXkobixyKT09LTE7aSYmbyYmdC5wdXNoKG4pfTtyZXR1cm4gbj1ufHxnLnNvdXJjZSxvPW8hPT1pP286Zy5zZWFyY2hGaWVsZHMsZS5pc0FycmF5KG8pfHwobz1bb10pLG49PT1pfHxuPT09ITE/KG0uZXJyb3IoeC5zb3VyY2UpLFtdKTooZS5lYWNoKG8sZnVuY3Rpb24oaSxvKXtlLmVhY2gobixmdW5jdGlvbihlLG4pe3ZhciBpPVwic3RyaW5nXCI9PXR5cGVvZiBuW29dO2kmJihuW29dLnNlYXJjaChsKSE9PS0xP2MoYSxuKTpnLnNlYXJjaEZ1bGxUZXh0JiZtLmZ1enp5U2VhcmNoKHQsbltvXSkmJmMocixuKSl9KX0pLGUubWVyZ2UoYSxyKSl9fSxmdXp6eVNlYXJjaDpmdW5jdGlvbihlLHQpe3ZhciBuPXQubGVuZ3RoLGk9ZS5sZW5ndGg7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuITE7aWYoZT1lLnRvTG93ZXJDYXNlKCksdD10LnRvTG93ZXJDYXNlKCksaT5uKXJldHVybiExO2lmKGk9PT1uKXJldHVybiBlPT09dDtlOmZvcih2YXIgbz0wLGE9MDtvPGk7bysrKXtmb3IodmFyIHI9ZS5jaGFyQ29kZUF0KG8pO2E8bjspaWYodC5jaGFyQ29kZUF0KGErKyk9PT1yKWNvbnRpbnVlIGU7cmV0dXJuITF9cmV0dXJuITB9LHBhcnNlOntyZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPW0uZ2VuZXJhdGVSZXN1bHRzKGUpO20udmVyYm9zZShcIlBhcnNpbmcgc2VydmVyIHJlc3BvbnNlXCIsZSksZSE9PWkmJnQhPT1pJiZlW2IucmVzdWx0c10hPT1pJiYobS5hZGRSZXN1bHRzKG4pLG0uaW5qZWN0LmlkKGVbYi5yZXN1bHRzXSksbS53cml0ZS5jYWNoZSh0LHtodG1sOm4scmVzdWx0czplW2IucmVzdWx0c119KSxtLnNhdmUucmVzdWx0cyhlW2IucmVzdWx0c10pKX19LGNhbmNlbDp7cXVlcnk6ZnVuY3Rpb24oKXttLmNhbi51c2VBUEkoKSYmUy5hcGkoXCJhYm9ydFwiKX19LGhhczp7bWluaW11bUNoYXJhY3RlcnM6ZnVuY3Rpb24oKXt2YXIgZT1tLmdldC52YWx1ZSgpLHQ9ZS5sZW5ndGg7cmV0dXJuIHQ+PWcubWluQ2hhcmFjdGVyc319LGNsZWFyOntjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1TLmRhdGEoaC5jYWNoZSk7ZT9lJiZ0JiZ0W2VdJiYobS5kZWJ1ZyhcIlJlbW92aW5nIHZhbHVlIGZyb20gY2FjaGVcIixlKSxkZWxldGUgdFtlXSxTLmRhdGEoaC5jYWNoZSx0KSk6KG0uZGVidWcoXCJDbGVhcmluZyBjYWNoZVwiLGUpLFMucmVtb3ZlRGF0YShoLmNhY2hlKSl9fSxyZWFkOntjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1TLmRhdGEoaC5jYWNoZSk7cmV0dXJuISFnLmNhY2hlJiYobS52ZXJib3NlKFwiQ2hlY2tpbmcgY2FjaGUgZm9yIGdlbmVyYXRlZCBodG1sIGZvciBxdWVyeVwiLGUpLFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0W2VdIT09aSYmdFtlXSl9fSxjcmVhdGU6e2lkOmZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxhPWUrMTtyZXR1cm4gdCE9PWk/KG49U3RyaW5nLmZyb21DaGFyQ29kZSg5Nyt0KSxvPW4rYSxtLnZlcmJvc2UoXCJDcmVhdGluZyBjYXRlZ29yeSByZXN1bHQgaWRcIixvKSk6KG89YSxtLnZlcmJvc2UoXCJDcmVhdGluZyByZXN1bHQgaWRcIixvKSksb30scmVzdWx0czpmdW5jdGlvbigpezA9PT1SLmxlbmd0aCYmKFI9ZShcIjxkaXYgLz5cIikuYWRkQ2xhc3MocC5yZXN1bHRzKS5hcHBlbmRUbyhTKSl9fSxpbmplY3Q6e3Jlc3VsdDpmdW5jdGlvbihlLHQsbil7bS52ZXJib3NlKFwiSW5qZWN0aW5nIHJlc3VsdCBpbnRvIHJlc3VsdHNcIik7dmFyIG89biE9PWk/Ui5jaGlsZHJlbigpLmVxKG4pLmNoaWxkcmVuKHkucmVzdWx0KS5lcSh0KTpSLmNoaWxkcmVuKHkucmVzdWx0KS5lcSh0KTttLnZlcmJvc2UoXCJJbmplY3RpbmcgcmVzdWx0cyBtZXRhZGF0YVwiLG8pLG8uZGF0YShoLnJlc3VsdCxlKX0saWQ6ZnVuY3Rpb24odCl7bS5kZWJ1ZyhcIkluamVjdGluZyB1bmlxdWUgaWRzIGludG8gcmVzdWx0c1wiKTt2YXIgbj0wLG89MDtyZXR1cm5cImNhdGVnb3J5XCI9PT1nLnR5cGU/ZS5lYWNoKHQsZnVuY3Rpb24odCxhKXtvPTAsZS5lYWNoKGEucmVzdWx0cyxmdW5jdGlvbihlLHQpe3ZhciByPWEucmVzdWx0c1tlXTtyLmlkPT09aSYmKHIuaWQ9bS5jcmVhdGUuaWQobyxuKSksbS5pbmplY3QucmVzdWx0KHIsbyxuKSxvKyt9KSxuKyt9KTplLmVhY2godCxmdW5jdGlvbihlLG4pe3ZhciBhPXRbZV07YS5pZD09PWkmJihhLmlkPW0uY3JlYXRlLmlkKG8pKSxtLmluamVjdC5yZXN1bHQoYSxvKSxvKyt9KSx0fX0sc2F2ZTp7cmVzdWx0czpmdW5jdGlvbihlKXttLnZlcmJvc2UoXCJTYXZpbmcgY3VycmVudCBzZWFyY2ggcmVzdWx0cyB0byBtZXRhZGF0YVwiLGUpLFMuZGF0YShoLnJlc3VsdHMsZSl9fSx3cml0ZTp7Y2FjaGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLmRhdGEoaC5jYWNoZSkhPT1pP1MuZGF0YShoLmNhY2hlKTp7fTtnLmNhY2hlJiYobS52ZXJib3NlKFwiV3JpdGluZyBnZW5lcmF0ZWQgaHRtbCB0byBjYWNoZVwiLGUsdCksbltlXT10LFMuZGF0YShoLmNhY2hlLG4pKX19LGFkZFJlc3VsdHM6ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNGdW5jdGlvbihnLm9uUmVzdWx0c0FkZCkmJmcub25SZXN1bHRzQWRkLmNhbGwoUix0KT09PSExPyhtLmRlYnVnKFwib25SZXN1bHRzQWRkIGNhbGxiYWNrIGNhbmNlbGxlZCBkZWZhdWx0IGFjdGlvblwiKSwhMSk6dm9pZCh0PyhSLmh0bWwodCksbS5yZWZyZXNoUmVzdWx0cygpLGcuc2VsZWN0Rmlyc3RSZXN1bHQmJm0uc2VsZWN0LmZpcnN0UmVzdWx0KCksbS5zaG93UmVzdWx0cygpKTptLmhpZGVSZXN1bHRzKCkpfSxzaG93UmVzdWx0czpmdW5jdGlvbigpe20uaXMudmlzaWJsZSgpfHwobS5jYW4udHJhbnNpdGlvbigpPyhtLmRlYnVnKFwiU2hvd2luZyByZXN1bHRzIHdpdGggY3NzIGFuaW1hdGlvbnNcIiksUi50cmFuc2l0aW9uKHthbmltYXRpb246Zy50cmFuc2l0aW9uK1wiIGluXCIsZGVidWc6Zy5kZWJ1Zyx2ZXJib3NlOmcudmVyYm9zZSxkdXJhdGlvbjpnLmR1cmF0aW9uLHF1ZXVlOiEwfSkpOihtLmRlYnVnKFwiU2hvd2luZyByZXN1bHRzIHdpdGggamF2YXNjcmlwdFwiKSxSLnN0b3AoKS5mYWRlSW4oZy5kdXJhdGlvbixnLmVhc2luZykpLGcub25SZXN1bHRzT3Blbi5jYWxsKFIpKX0saGlkZVJlc3VsdHM6ZnVuY3Rpb24oKXttLmlzLnZpc2libGUoKSYmKG0uY2FuLnRyYW5zaXRpb24oKT8obS5kZWJ1ZyhcIkhpZGluZyByZXN1bHRzIHdpdGggY3NzIGFuaW1hdGlvbnNcIiksUi50cmFuc2l0aW9uKHthbmltYXRpb246Zy50cmFuc2l0aW9uK1wiIG91dFwiLGRlYnVnOmcuZGVidWcsdmVyYm9zZTpnLnZlcmJvc2UsZHVyYXRpb246Zy5kdXJhdGlvbixxdWV1ZTohMH0pKToobS5kZWJ1ZyhcIkhpZGluZyByZXN1bHRzIHdpdGggamF2YXNjcmlwdFwiKSxSLnN0b3AoKS5mYWRlT3V0KGcuZHVyYXRpb24sZy5lYXNpbmcpKSxnLm9uUmVzdWx0c0Nsb3NlLmNhbGwoUikpfSxnZW5lcmF0ZVJlc3VsdHM6ZnVuY3Rpb24odCl7bS5kZWJ1ZyhcIkdlbmVyYXRpbmcgaHRtbCBmcm9tIHJlc3BvbnNlXCIsdCk7dmFyIG49Zy50ZW1wbGF0ZXNbZy50eXBlXSxpPWUuaXNQbGFpbk9iamVjdCh0W2IucmVzdWx0c10pJiYhZS5pc0VtcHR5T2JqZWN0KHRbYi5yZXN1bHRzXSksbz1lLmlzQXJyYXkodFtiLnJlc3VsdHNdKSYmdFtiLnJlc3VsdHNdLmxlbmd0aD4wLGE9XCJcIjtyZXR1cm4gaXx8bz8oZy5tYXhSZXN1bHRzPjAmJihpP1wic3RhbmRhcmRcIj09Zy50eXBlJiZtLmVycm9yKHgubWF4UmVzdWx0cyk6dFtiLnJlc3VsdHNdPXRbYi5yZXN1bHRzXS5zbGljZSgwLGcubWF4UmVzdWx0cykpLGUuaXNGdW5jdGlvbihuKT9hPW4odCxiKTptLmVycm9yKHgubm9UZW1wbGF0ZSwhMSkpOmcuc2hvd05vUmVzdWx0cyYmKGE9bS5kaXNwbGF5TWVzc2FnZSh4Lm5vUmVzdWx0cyxcImVtcHR5XCIpKSxnLm9uUmVzdWx0cy5jYWxsKEYsdCksYX0sZGlzcGxheU1lc3NhZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxcInN0YW5kYXJkXCIsbS5kZWJ1ZyhcIkRpc3BsYXlpbmcgbWVzc2FnZVwiLGUsdCksbS5hZGRSZXN1bHRzKGcudGVtcGxhdGVzLm1lc3NhZ2UoZSx0KSksZy50ZW1wbGF0ZXMubWVzc2FnZShlLHQpfSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGcsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gZ1t0XTtnW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxtLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIG1bdF07bVt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXshZy5zaWxlbnQmJmcuZGVidWcmJihnLnBlcmZvcm1hbmNlP20ucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KG0uZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxnLm5hbWUrXCI6XCIpLG0uZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXshZy5zaWxlbnQmJmcudmVyYm9zZSYmZy5kZWJ1ZyYmKGcucGVyZm9ybWFuY2U/bS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKToobS52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZy5uYW1lK1wiOlwiKSxtLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7Zy5zaWxlbnR8fChtLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLGcubmFtZStcIjpcIiksbS5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTtnLnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPWx8fHQsbj10LWksbD10LGMucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDpGLFwiRXhlY3V0aW9uIFRpbWVcIjpufSkpLGNsZWFyVGltZW91dChtLnBlcmZvcm1hbmNlLnRpbWVyKSxtLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQobS5wZXJmb3JtYW5jZS5kaXNwbGF5LDUwMCl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgdD1nLm5hbWUrXCI6XCIsbj0wO2w9ITEsY2xlYXJUaW1lb3V0KG0ucGVyZm9ybWFuY2UudGltZXIpLGUuZWFjaChjLGZ1bmN0aW9uKGUsdCl7bis9dFtcIkV4ZWN1dGlvbiBUaW1lXCJdfSksdCs9XCIgXCIrbitcIm1zXCIscyYmKHQrPVwiICdcIitzK1wiJ1wiKSxyLmxlbmd0aD4xJiYodCs9XCIgKFwiK3IubGVuZ3RoK1wiKVwiKSwoY29uc29sZS5ncm91cCE9PWl8fGNvbnNvbGUudGFibGUhPT1pKSYmYy5sZW5ndGg+MCYmKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQodCksY29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKGMpOmUuZWFjaChjLGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2codC5OYW1lK1wiOiBcIit0W1wiRXhlY3V0aW9uIFRpbWVcIl0rXCJtc1wiKX0pLGNvbnNvbGUuZ3JvdXBFbmQoKSksYz1bXX19LGludm9rZTpmdW5jdGlvbih0LG4sbyl7dmFyIHIscyxsLGM9TztyZXR1cm4gbj1ufHxmLG89Rnx8byxcInN0cmluZ1wiPT10eXBlb2YgdCYmYyE9PWkmJih0PXQuc3BsaXQoL1tcXC4gXS8pLHI9dC5sZW5ndGgtMSxlLmVhY2godCxmdW5jdGlvbihuLG8pe3ZhciBhPW4hPXI/byt0W24rMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdFtuKzFdLnNsaWNlKDEpOnQ7aWYoZS5pc1BsYWluT2JqZWN0KGNbYV0pJiZuIT1yKWM9Y1thXTtlbHNle2lmKGNbYV0hPT1pKXJldHVybiBzPWNbYV0sITE7aWYoIWUuaXNQbGFpbk9iamVjdChjW29dKXx8bj09cilyZXR1cm4gY1tvXSE9PWkmJihzPWNbb10sITEpO2M9Y1tvXX19KSksZS5pc0Z1bmN0aW9uKHMpP2w9cy5hcHBseShvLG4pOnMhPT1pJiYobD1zKSxlLmlzQXJyYXkoYSk/YS5wdXNoKGwpOmEhPT1pP2E9W2EsbF06bCE9PWkmJihhPWwpLHN9fSxkPyhPPT09aSYmbS5pbml0aWFsaXplKCksbS5pbnZva2UodSkpOihPIT09aSYmTy5pbnZva2UoXCJkZXN0cm95XCIpLG0uaW5pdGlhbGl6ZSgpKX0pLGEhPT1pP2E6dGhpc30sZS5mbi5zZWFyY2guc2V0dGluZ3M9e25hbWU6XCJTZWFyY2hcIixuYW1lc3BhY2U6XCJzZWFyY2hcIixzaWxlbnQ6ITEsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCx0eXBlOlwic3RhbmRhcmRcIixtaW5DaGFyYWN0ZXJzOjEsc2VsZWN0Rmlyc3RSZXN1bHQ6ITEsYXBpU2V0dGluZ3M6ITEsc291cmNlOiExLHNlYXJjaEZpZWxkczpbXCJ0aXRsZVwiLFwiZGVzY3JpcHRpb25cIl0sZGlzcGxheUZpZWxkOlwiXCIsc2VhcmNoRnVsbFRleHQ6ITAsYXV0b21hdGljOiEwLGhpZGVEZWxheTowLHNlYXJjaERlbGF5OjIwMCxtYXhSZXN1bHRzOjcsY2FjaGU6ITAsc2hvd05vUmVzdWx0czohMCx0cmFuc2l0aW9uOlwic2NhbGVcIixkdXJhdGlvbjoyMDAsZWFzaW5nOlwiZWFzZU91dEV4cG9cIixvblNlbGVjdDohMSxvblJlc3VsdHNBZGQ6ITEsb25TZWFyY2hRdWVyeTpmdW5jdGlvbihlKXt9LG9uUmVzdWx0czpmdW5jdGlvbihlKXt9LG9uUmVzdWx0c09wZW46ZnVuY3Rpb24oKXt9LG9uUmVzdWx0c0Nsb3NlOmZ1bmN0aW9uKCl7fSxjbGFzc05hbWU6e2FuaW1hdGluZzpcImFuaW1hdGluZ1wiLGFjdGl2ZTpcImFjdGl2ZVwiLGVtcHR5OlwiZW1wdHlcIixmb2N1czpcImZvY3VzXCIsaGlkZGVuOlwiaGlkZGVuXCIsbG9hZGluZzpcImxvYWRpbmdcIixyZXN1bHRzOlwicmVzdWx0c1wiLHByZXNzZWQ6XCJkb3duXCJ9LGVycm9yOntzb3VyY2U6XCJDYW5ub3Qgc2VhcmNoLiBObyBzb3VyY2UgdXNlZCwgYW5kIFNlbWFudGljIEFQSSBtb2R1bGUgd2FzIG5vdCBpbmNsdWRlZFwiLG5vUmVzdWx0czpcIllvdXIgc2VhcmNoIHJldHVybmVkIG5vIHJlc3VsdHNcIixsb2dnaW5nOlwiRXJyb3IgaW4gZGVidWcgbG9nZ2luZywgZXhpdGluZy5cIixub0VuZHBvaW50OlwiTm8gc2VhcmNoIGVuZHBvaW50IHdhcyBzcGVjaWZpZWRcIixub1RlbXBsYXRlOlwiQSB2YWxpZCB0ZW1wbGF0ZSBuYW1lIHdhcyBub3Qgc3BlY2lmaWVkLlwiLHNlcnZlckVycm9yOlwiVGhlcmUgd2FzIGFuIGlzc3VlIHF1ZXJ5aW5nIHRoZSBzZXJ2ZXIuXCIsbWF4UmVzdWx0czpcIlJlc3VsdHMgbXVzdCBiZSBhbiBhcnJheSB0byB1c2UgbWF4UmVzdWx0cyBzZXR0aW5nXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwifSxtZXRhZGF0YTp7Y2FjaGU6XCJjYWNoZVwiLHJlc3VsdHM6XCJyZXN1bHRzXCIscmVzdWx0OlwicmVzdWx0XCJ9LHJlZ0V4cDp7ZXNjYXBlOi9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZyxiZWdpbnNXaXRoOlwiKD86c3xeKVwifSxmaWVsZHM6e2NhdGVnb3JpZXM6XCJyZXN1bHRzXCIsY2F0ZWdvcnlOYW1lOlwibmFtZVwiLGNhdGVnb3J5UmVzdWx0czpcInJlc3VsdHNcIixkZXNjcmlwdGlvbjpcImRlc2NyaXB0aW9uXCIsaW1hZ2U6XCJpbWFnZVwiLHByaWNlOlwicHJpY2VcIixyZXN1bHRzOlwicmVzdWx0c1wiLHRpdGxlOlwidGl0bGVcIix1cmw6XCJ1cmxcIixhY3Rpb246XCJhY3Rpb25cIixhY3Rpb25UZXh0OlwidGV4dFwiLGFjdGlvblVSTDpcInVybFwifSxzZWxlY3Rvcjp7cHJvbXB0OlwiLnByb21wdFwiLHNlYXJjaEJ1dHRvbjpcIi5zZWFyY2guYnV0dG9uXCIscmVzdWx0czpcIi5yZXN1bHRzXCIsbWVzc2FnZTpcIi5yZXN1bHRzID4gLm1lc3NhZ2VcIixjYXRlZ29yeTpcIi5jYXRlZ29yeVwiLHJlc3VsdDpcIi5yZXN1bHRcIix0aXRsZTpcIi50aXRsZSwgLm5hbWVcIn0sdGVtcGxhdGVzOntlc2NhcGU6ZnVuY3Rpb24oZSl7dmFyIHQ9L1smPD5cIidgXS9nLG49L1smPD5cIidgXS8saT17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjeDI3O1wiLFwiYFwiOlwiJiN4NjA7XCJ9LG89ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV19O3JldHVybiBuLnRlc3QoZSk/ZS5yZXBsYWNlKHQsbyk6ZX0sbWVzc2FnZTpmdW5jdGlvbihlLHQpe3ZhciBuPVwiXCI7cmV0dXJuIGUhPT1pJiZ0IT09aSYmKG4rPSc8ZGl2IGNsYXNzPVwibWVzc2FnZSAnK3QrJ1wiPicsbis9XCJlbXB0eVwiPT10Pyc8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+Tm8gUmVzdWx0czwvZGl2IGNsYXNzPVwiaGVhZGVyXCI+PGRpdiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+JytlKyc8L2RpdiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+JzonIDxkaXYgY2xhc3M9XCJkZXNjcmlwdGlvblwiPicrZStcIjwvZGl2PlwiLG4rPVwiPC9kaXY+XCIpLG59LGNhdGVnb3J5OmZ1bmN0aW9uKHQsbil7dmFyIG89XCJcIjtlLmZuLnNlYXJjaC5zZXR0aW5ncy50ZW1wbGF0ZXMuZXNjYXBlO3JldHVybiB0W24uY2F0ZWdvcnlSZXN1bHRzXSE9PWkmJihlLmVhY2godFtuLmNhdGVnb3J5UmVzdWx0c10sZnVuY3Rpb24odCxhKXthW24ucmVzdWx0c10hPT1pJiZhLnJlc3VsdHMubGVuZ3RoPjAmJihvKz0nPGRpdiBjbGFzcz1cImNhdGVnb3J5XCI+JyxhW24uY2F0ZWdvcnlOYW1lXSE9PWkmJihvKz0nPGRpdiBjbGFzcz1cIm5hbWVcIj4nK2Fbbi5jYXRlZ29yeU5hbWVdK1wiPC9kaXY+XCIpLGUuZWFjaChhLnJlc3VsdHMsZnVuY3Rpb24oZSx0KXtvKz10W24udXJsXT8nPGEgY2xhc3M9XCJyZXN1bHRcIiBocmVmPVwiJyt0W24udXJsXSsnXCI+JzonPGEgY2xhc3M9XCJyZXN1bHRcIj4nLHRbbi5pbWFnZV0hPT1pJiYobys9JzxkaXYgY2xhc3M9XCJpbWFnZVwiPiA8aW1nIHNyYz1cIicrdFtuLmltYWdlXSsnXCI+PC9kaXY+Jyksbys9JzxkaXYgY2xhc3M9XCJjb250ZW50XCI+Jyx0W24ucHJpY2VdIT09aSYmKG8rPSc8ZGl2IGNsYXNzPVwicHJpY2VcIj4nK3Rbbi5wcmljZV0rXCI8L2Rpdj5cIiksdFtuLnRpdGxlXSE9PWkmJihvKz0nPGRpdiBjbGFzcz1cInRpdGxlXCI+Jyt0W24udGl0bGVdK1wiPC9kaXY+XCIpLHRbbi5kZXNjcmlwdGlvbl0hPT1pJiYobys9JzxkaXYgY2xhc3M9XCJkZXNjcmlwdGlvblwiPicrdFtuLmRlc2NyaXB0aW9uXStcIjwvZGl2PlwiKSxvKz1cIjwvZGl2PlwiLG8rPVwiPC9hPlwifSksbys9XCI8L2Rpdj5cIil9KSx0W24uYWN0aW9uXSYmKG8rPSc8YSBocmVmPVwiJyt0W24uYWN0aW9uXVtuLmFjdGlvblVSTF0rJ1wiIGNsYXNzPVwiYWN0aW9uXCI+Jyt0W24uYWN0aW9uXVtuLmFjdGlvblRleHRdK1wiPC9hPlwiKSxvKX0sc3RhbmRhcmQ6ZnVuY3Rpb24odCxuKXt2YXIgbz1cIlwiO3JldHVybiB0W24ucmVzdWx0c10hPT1pJiYoZS5lYWNoKHRbbi5yZXN1bHRzXSxmdW5jdGlvbihlLHQpe28rPXRbbi51cmxdPyc8YSBjbGFzcz1cInJlc3VsdFwiIGhyZWY9XCInK3Rbbi51cmxdKydcIj4nOic8YSBjbGFzcz1cInJlc3VsdFwiPicsdFtuLmltYWdlXSE9PWkmJihvKz0nPGRpdiBjbGFzcz1cImltYWdlXCI+IDxpbWcgc3JjPVwiJyt0W24uaW1hZ2VdKydcIj48L2Rpdj4nKSxvKz0nPGRpdiBjbGFzcz1cImNvbnRlbnRcIj4nLHRbbi5wcmljZV0hPT1pJiYobys9JzxkaXYgY2xhc3M9XCJwcmljZVwiPicrdFtuLnByaWNlXStcIjwvZGl2PlwiKSx0W24udGl0bGVdIT09aSYmKG8rPSc8ZGl2IGNsYXNzPVwidGl0bGVcIj4nK3Rbbi50aXRsZV0rXCI8L2Rpdj5cIiksdFtuLmRlc2NyaXB0aW9uXSE9PWkmJihvKz0nPGRpdiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+Jyt0W24uZGVzY3JpcHRpb25dK1wiPC9kaXY+XCIpLG8rPVwiPC9kaXY+XCIsbys9XCI8L2E+XCJ9KSx0W24uYWN0aW9uXSYmKG8rPSc8YSBocmVmPVwiJyt0W24uYWN0aW9uXVtuLmFjdGlvblVSTF0rJ1wiIGNsYXNzPVwiYWN0aW9uXCI+Jyt0W24uYWN0aW9uXVtuLmFjdGlvblRleHRdK1wiPC9hPlwiKSxvKX19fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxlLmZuLnNoYXBlPWZ1bmN0aW9uKG8pe3ZhciBhLHI9ZSh0aGlzKSxzPShlKFwiYm9keVwiKSwobmV3IERhdGUpLmdldFRpbWUoKSksbD1bXSxjPWFyZ3VtZW50c1swXSx1PVwic3RyaW5nXCI9PXR5cGVvZiBjLGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZj10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9O3JldHVybiByLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxtLGcscD1yLnNlbGVjdG9yfHxcIlwiLGg9ZS5pc1BsYWluT2JqZWN0KG8pP2UuZXh0ZW5kKCEwLHt9LGUuZm4uc2hhcGUuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi5zaGFwZS5zZXR0aW5ncyksdj1oLm5hbWVzcGFjZSxiPWguc2VsZWN0b3IseT1oLmVycm9yLHg9aC5jbGFzc05hbWUsQz1cIi5cIit2LHc9XCJtb2R1bGUtXCIrdixrPWUodGhpcyksUz1rLmZpbmQoYi5zaWRlcyksVD1rLmZpbmQoYi5zaWRlKSxBPSExLFI9dGhpcyxFPWsuZGF0YSh3KTtnPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiSW5pdGlhbGl6aW5nIG1vZHVsZSBmb3JcIixSKSxnLnNldC5kZWZhdWx0U2lkZSgpLGcuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIG1vZHVsZVwiLGcpLEU9ZyxrLmRhdGEodyxFKX0sZGVzdHJveTpmdW5jdGlvbigpe2cudmVyYm9zZShcIkRlc3Ryb3lpbmcgcHJldmlvdXMgbW9kdWxlIGZvclwiLFIpLGsucmVtb3ZlRGF0YSh3KS5vZmYoQyl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJSZWZyZXNoaW5nIHNlbGVjdG9yIGNhY2hlIGZvclwiLFIpLGs9ZShSKSxTPWUodGhpcykuZmluZChiLnNoYXBlKSxUPWUodGhpcykuZmluZChiLnNpZGUpfSxyZXBhaW50OmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiRm9yY2luZyByZXBhaW50IGV2ZW50XCIpO3ZhciBlPVNbMF18fG4uY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLm9mZnNldFdpZHRofSxhbmltYXRlOmZ1bmN0aW9uKGUsbil7Zy52ZXJib3NlKFwiQW5pbWF0aW5nIGJveCB3aXRoIHByb3BlcnRpZXNcIixlKSxuPW58fGZ1bmN0aW9uKGUpe2cudmVyYm9zZShcIkV4ZWN1dGluZyBhbmltYXRpb24gY2FsbGJhY2tcIiksZSE9PWkmJmUuc3RvcFByb3BhZ2F0aW9uKCksZy5yZXNldCgpLGcuc2V0LmFjdGl2ZSgpfSxoLmJlZm9yZUNoYW5nZS5jYWxsKG1bMF0pLGcuZ2V0LnRyYW5zaXRpb25FdmVudCgpPyhnLnZlcmJvc2UoXCJTdGFydGluZyBDU1MgYW5pbWF0aW9uXCIpLGsuYWRkQ2xhc3MoeC5hbmltYXRpbmcpLFMuY3NzKGUpLm9uZShnLmdldC50cmFuc2l0aW9uRXZlbnQoKSxuKSxnLnNldC5kdXJhdGlvbihoLmR1cmF0aW9uKSxmKGZ1bmN0aW9uKCl7ay5hZGRDbGFzcyh4LmFuaW1hdGluZyksdC5hZGRDbGFzcyh4LmhpZGRlbil9KSk6bigpfSxxdWV1ZTpmdW5jdGlvbihlKXtnLmRlYnVnKFwiUXVldWVpbmcgYW5pbWF0aW9uIG9mXCIsZSksUy5vbmUoZy5nZXQudHJhbnNpdGlvbkV2ZW50KCksZnVuY3Rpb24oKXtnLmRlYnVnKFwiRXhlY3V0aW5nIHF1ZXVlZCBhbmltYXRpb25cIiksc2V0VGltZW91dChmdW5jdGlvbigpe2suc2hhcGUoZSl9LDApfSl9LHJlc2V0OmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiQW5pbWF0aW5nIHN0YXRlcyByZXNldFwiKSxrLnJlbW92ZUNsYXNzKHguYW5pbWF0aW5nKS5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIiksUy5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIiksVC5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIikucmVtb3ZlQ2xhc3MoeC5oaWRkZW4pLG0ucmVtb3ZlQ2xhc3MoeC5hbmltYXRpbmcpLmF0dHIoXCJzdHlsZVwiLFwiXCIpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKX0saXM6e2NvbXBsZXRlOmZ1bmN0aW9uKCl7cmV0dXJuIFQuZmlsdGVyKFwiLlwiK3guYWN0aXZlKVswXT09bVswXX0sYW5pbWF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaGFzQ2xhc3MoeC5hbmltYXRpbmcpfX0sc2V0OntkZWZhdWx0U2lkZTpmdW5jdGlvbigpe3Q9ay5maW5kKFwiLlwiK2guY2xhc3NOYW1lLmFjdGl2ZSksbT10Lm5leHQoYi5zaWRlKS5sZW5ndGg+MD90Lm5leHQoYi5zaWRlKTprLmZpbmQoYi5zaWRlKS5maXJzdCgpLEE9ITEsZy52ZXJib3NlKFwiQWN0aXZlIHNpZGUgc2V0IHRvXCIsdCksZy52ZXJib3NlKFwiTmV4dCBzaWRlIHNldCB0b1wiLG0pfSxkdXJhdGlvbjpmdW5jdGlvbihlKXtlPWV8fGguZHVyYXRpb24sZT1cIm51bWJlclwiPT10eXBlb2YgZT9lK1wibXNcIjplLGcudmVyYm9zZShcIlNldHRpbmcgYW5pbWF0aW9uIGR1cmF0aW9uXCIsZSksKGguZHVyYXRpb258fDA9PT1oLmR1cmF0aW9uKSYmUy5hZGQoVCkuY3NzKHtcIi13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvblwiOmUsXCItbW96LXRyYW5zaXRpb24tZHVyYXRpb25cIjplLFwiLW1zLXRyYW5zaXRpb24tZHVyYXRpb25cIjplLFwiLW8tdHJhbnNpdGlvbi1kdXJhdGlvblwiOmUsXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCI6ZX0pfSxjdXJyZW50U3RhZ2VTaXplOmZ1bmN0aW9uKCl7dmFyIGU9ay5maW5kKFwiLlwiK2guY2xhc3NOYW1lLmFjdGl2ZSksdD1lLm91dGVyV2lkdGgoITApLG49ZS5vdXRlckhlaWdodCghMCk7ay5jc3Moe3dpZHRoOnQsaGVpZ2h0Om59KX0sc3RhZ2VTaXplOmZ1bmN0aW9uKCl7dmFyIGU9ay5jbG9uZSgpLmFkZENsYXNzKHgubG9hZGluZyksdD1lLmZpbmQoXCIuXCIraC5jbGFzc05hbWUuYWN0aXZlKSxuPUE/ZS5maW5kKGIuc2lkZSkuZXEoQSk6dC5uZXh0KGIuc2lkZSkubGVuZ3RoPjA/dC5uZXh0KGIuc2lkZSk6ZS5maW5kKGIuc2lkZSkuZmlyc3QoKSxpPVwibmV4dFwiPT1oLndpZHRoP24ub3V0ZXJXaWR0aCghMCk6XCJpbml0aWFsXCI9PWgud2lkdGg/ay53aWR0aCgpOmgud2lkdGgsbz1cIm5leHRcIj09aC5oZWlnaHQ/bi5vdXRlckhlaWdodCghMCk6XCJpbml0aWFsXCI9PWguaGVpZ2h0P2suaGVpZ2h0KCk6aC5oZWlnaHQ7dC5yZW1vdmVDbGFzcyh4LmFjdGl2ZSksbi5hZGRDbGFzcyh4LmFjdGl2ZSksZS5pbnNlcnRBZnRlcihrKSxlLnJlbW92ZSgpLFwiYXV0b1wiIT1oLndpZHRoJiYoay5jc3MoXCJ3aWR0aFwiLGkraC5qaXR0ZXIpLGcudmVyYm9zZShcIlNwZWNpZnlpbmcgd2lkdGggZHVyaW5nIGFuaW1hdGlvblwiLGkpKSxcImF1dG9cIiE9aC5oZWlnaHQmJihrLmNzcyhcImhlaWdodFwiLG8raC5qaXR0ZXIpLGcudmVyYm9zZShcIlNwZWNpZnlpbmcgaGVpZ2h0IGR1cmluZyBhbmltYXRpb25cIixvKSl9LG5leHRTaWRlOmZ1bmN0aW9uKGUpe0E9ZSxtPVQuZmlsdGVyKGUpLEE9VC5pbmRleChtKSwwPT09bS5sZW5ndGgmJihnLnNldC5kZWZhdWx0U2lkZSgpLGcuZXJyb3IoeS5zaWRlKSksZy52ZXJib3NlKFwiTmV4dCBzaWRlIG1hbnVhbGx5IHNldCB0b1wiLG0pfSxhY3RpdmU6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJTZXR0aW5nIG5ldyBzaWRlIHRvIGFjdGl2ZVwiLG0pLFQucmVtb3ZlQ2xhc3MoeC5hY3RpdmUpLG0uYWRkQ2xhc3MoeC5hY3RpdmUpLGgub25DaGFuZ2UuY2FsbChtWzBdKSxnLnNldC5kZWZhdWx0U2lkZSgpfX0sZmxpcDp7dXA6ZnVuY3Rpb24oKXtpZihnLmlzLmNvbXBsZXRlKCkmJiFnLmlzLmFuaW1hdGluZygpJiYhaC5hbGxvd1JlcGVhdHMpcmV0dXJuIHZvaWQgZy5kZWJ1ZyhcIlNpZGUgYWxyZWFkeSB2aXNpYmxlXCIsbSk7aWYoZy5pcy5hbmltYXRpbmcoKSlnLnF1ZXVlKFwiZmxpcCB1cFwiKTtlbHNle2cuZGVidWcoXCJGbGlwcGluZyB1cFwiLG0pO3ZhciBlPWcuZ2V0LnRyYW5zZm9ybS51cCgpO2cuc2V0LnN0YWdlU2l6ZSgpLGcuc3RhZ2UuYWJvdmUoKSxnLmFuaW1hdGUoZSl9fSxkb3duOmZ1bmN0aW9uKCl7aWYoZy5pcy5jb21wbGV0ZSgpJiYhZy5pcy5hbmltYXRpbmcoKSYmIWguYWxsb3dSZXBlYXRzKXJldHVybiB2b2lkIGcuZGVidWcoXCJTaWRlIGFscmVhZHkgdmlzaWJsZVwiLG0pO2lmKGcuaXMuYW5pbWF0aW5nKCkpZy5xdWV1ZShcImZsaXAgZG93blwiKTtlbHNle2cuZGVidWcoXCJGbGlwcGluZyBkb3duXCIsbSk7dmFyIGU9Zy5nZXQudHJhbnNmb3JtLmRvd24oKTtnLnNldC5zdGFnZVNpemUoKSxnLnN0YWdlLmJlbG93KCksZy5hbmltYXRlKGUpfX0sbGVmdDpmdW5jdGlvbigpe2lmKGcuaXMuY29tcGxldGUoKSYmIWcuaXMuYW5pbWF0aW5nKCkmJiFoLmFsbG93UmVwZWF0cylyZXR1cm4gdm9pZCBnLmRlYnVnKFwiU2lkZSBhbHJlYWR5IHZpc2libGVcIixtKTtpZihnLmlzLmFuaW1hdGluZygpKWcucXVldWUoXCJmbGlwIGxlZnRcIik7ZWxzZXtnLmRlYnVnKFwiRmxpcHBpbmcgbGVmdFwiLG0pO3ZhciBlPWcuZ2V0LnRyYW5zZm9ybS5sZWZ0KCk7Zy5zZXQuc3RhZ2VTaXplKCksZy5zdGFnZS5sZWZ0KCksZy5hbmltYXRlKGUpfX0scmlnaHQ6ZnVuY3Rpb24oKXtpZihnLmlzLmNvbXBsZXRlKCkmJiFnLmlzLmFuaW1hdGluZygpJiYhaC5hbGxvd1JlcGVhdHMpcmV0dXJuIHZvaWQgZy5kZWJ1ZyhcIlNpZGUgYWxyZWFkeSB2aXNpYmxlXCIsbSk7aWYoZy5pcy5hbmltYXRpbmcoKSlnLnF1ZXVlKFwiZmxpcCByaWdodFwiKTtlbHNle2cuZGVidWcoXCJGbGlwcGluZyByaWdodFwiLG0pO3ZhciBlPWcuZ2V0LnRyYW5zZm9ybS5yaWdodCgpO2cuc2V0LnN0YWdlU2l6ZSgpLGcuc3RhZ2UucmlnaHQoKSxnLmFuaW1hdGUoZSl9fSxvdmVyOmZ1bmN0aW9uKCl7cmV0dXJuIWcuaXMuY29tcGxldGUoKXx8Zy5pcy5hbmltYXRpbmcoKXx8aC5hbGxvd1JlcGVhdHM/dm9pZChnLmlzLmFuaW1hdGluZygpP2cucXVldWUoXCJmbGlwIG92ZXJcIik6KGcuZGVidWcoXCJGbGlwcGluZyBvdmVyXCIsbSksZy5zZXQuc3RhZ2VTaXplKCksZy5zdGFnZS5iZWhpbmQoKSxnLmFuaW1hdGUoZy5nZXQudHJhbnNmb3JtLm92ZXIoKSkpKTp2b2lkIGcuZGVidWcoXCJTaWRlIGFscmVhZHkgdmlzaWJsZVwiLG0pfSxiYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIWcuaXMuY29tcGxldGUoKXx8Zy5pcy5hbmltYXRpbmcoKXx8aC5hbGxvd1JlcGVhdHM/dm9pZChnLmlzLmFuaW1hdGluZygpP2cucXVldWUoXCJmbGlwIGJhY2tcIik6KGcuZGVidWcoXCJGbGlwcGluZyBiYWNrXCIsbSksZy5zZXQuc3RhZ2VTaXplKCksZy5zdGFnZS5iZWhpbmQoKSxnLmFuaW1hdGUoZy5nZXQudHJhbnNmb3JtLmJhY2soKSkpKTp2b2lkIGcuZGVidWcoXCJTaWRlIGFscmVhZHkgdmlzaWJsZVwiLG0pfX0sZ2V0Ont0cmFuc2Zvcm06e3VwOmZ1bmN0aW9uKCl7dmFyIGU9e3k6LSgodC5vdXRlckhlaWdodCghMCktbS5vdXRlckhlaWdodCghMCkpLzIpLHo6LSh0Lm91dGVySGVpZ2h0KCEwKS8yKX07cmV0dXJue3RyYW5zZm9ybTpcInRyYW5zbGF0ZVkoXCIrZS55K1wicHgpIHRyYW5zbGF0ZVooXCIrZS56K1wicHgpIHJvdGF0ZVgoLTkwZGVnKVwifX0sZG93bjpmdW5jdGlvbigpe3ZhciBlPXt5Oi0oKHQub3V0ZXJIZWlnaHQoITApLW0ub3V0ZXJIZWlnaHQoITApKS8yKSx6Oi0odC5vdXRlckhlaWdodCghMCkvMil9O3JldHVybnt0cmFuc2Zvcm06XCJ0cmFuc2xhdGVZKFwiK2UueStcInB4KSB0cmFuc2xhdGVaKFwiK2UueitcInB4KSByb3RhdGVYKDkwZGVnKVwifX0sbGVmdDpmdW5jdGlvbigpe3ZhciBlPXt4Oi0oKHQub3V0ZXJXaWR0aCghMCktbS5vdXRlcldpZHRoKCEwKSkvMiksejotKHQub3V0ZXJXaWR0aCghMCkvMil9O3JldHVybnt0cmFuc2Zvcm06XCJ0cmFuc2xhdGVYKFwiK2UueCtcInB4KSB0cmFuc2xhdGVaKFwiK2UueitcInB4KSByb3RhdGVZKDkwZGVnKVwifX0scmlnaHQ6ZnVuY3Rpb24oKXt2YXIgZT17eDotKCh0Lm91dGVyV2lkdGgoITApLW0ub3V0ZXJXaWR0aCghMCkpLzIpLHo6LSh0Lm91dGVyV2lkdGgoITApLzIpfTtyZXR1cm57dHJhbnNmb3JtOlwidHJhbnNsYXRlWChcIitlLngrXCJweCkgdHJhbnNsYXRlWihcIitlLnorXCJweCkgcm90YXRlWSgtOTBkZWcpXCJ9fSxvdmVyOmZ1bmN0aW9uKCl7dmFyIGU9e3g6LSgodC5vdXRlcldpZHRoKCEwKS1tLm91dGVyV2lkdGgoITApKS8yKX07cmV0dXJue3RyYW5zZm9ybTpcInRyYW5zbGF0ZVgoXCIrZS54K1wicHgpIHJvdGF0ZVkoMTgwZGVnKVwifX0sYmFjazpmdW5jdGlvbigpe3ZhciBlPXt4Oi0oKHQub3V0ZXJXaWR0aCghMCktbS5vdXRlcldpZHRoKCEwKSkvMil9O3JldHVybnt0cmFuc2Zvcm06XCJ0cmFuc2xhdGVYKFwiK2UueCtcInB4KSByb3RhdGVZKC0xODBkZWcpXCJ9fX0sdHJhbnNpdGlvbkV2ZW50OmZ1bmN0aW9uKCl7dmFyIGUsdD1uLmNyZWF0ZUVsZW1lbnQoXCJlbGVtZW50XCIpLG89e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn07Zm9yKGUgaW4gbylpZih0LnN0eWxlW2VdIT09aSlyZXR1cm4gb1tlXX0sbmV4dFNpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5uZXh0KGIuc2lkZSkubGVuZ3RoPjA/dC5uZXh0KGIuc2lkZSk6ay5maW5kKGIuc2lkZSkuZmlyc3QoKX19LHN0YWdlOnthYm92ZTpmdW5jdGlvbigpe3ZhciBlPXtvcmlnaW46KHQub3V0ZXJIZWlnaHQoITApLW0ub3V0ZXJIZWlnaHQoITApKS8yLGRlcHRoOnthY3RpdmU6bS5vdXRlckhlaWdodCghMCkvMixuZXh0OnQub3V0ZXJIZWlnaHQoITApLzJ9fTtnLnZlcmJvc2UoXCJTZXR0aW5nIHRoZSBpbml0aWFsIGFuaW1hdGlvbiBwb3NpdGlvbiBhcyBhYm92ZVwiLG0sZSksUy5jc3Moe3RyYW5zZm9ybTpcInRyYW5zbGF0ZVooLVwiK2UuZGVwdGguYWN0aXZlK1wicHgpXCJ9KSx0LmNzcyh7dHJhbnNmb3JtOlwicm90YXRlWSgwZGVnKSB0cmFuc2xhdGVaKFwiK2UuZGVwdGguYWN0aXZlK1wicHgpXCJ9KSxtLmFkZENsYXNzKHguYW5pbWF0aW5nKS5jc3Moe3RvcDplLm9yaWdpbitcInB4XCIsdHJhbnNmb3JtOlwicm90YXRlWCg5MGRlZykgdHJhbnNsYXRlWihcIitlLmRlcHRoLm5leHQrXCJweClcIn0pfSxiZWxvdzpmdW5jdGlvbigpe3ZhciBlPXtvcmlnaW46KHQub3V0ZXJIZWlnaHQoITApLW0ub3V0ZXJIZWlnaHQoITApKS8yLGRlcHRoOnthY3RpdmU6bS5vdXRlckhlaWdodCghMCkvMixuZXh0OnQub3V0ZXJIZWlnaHQoITApLzJ9fTtnLnZlcmJvc2UoXCJTZXR0aW5nIHRoZSBpbml0aWFsIGFuaW1hdGlvbiBwb3NpdGlvbiBhcyBiZWxvd1wiLG0sZSksUy5jc3Moe3RyYW5zZm9ybTpcInRyYW5zbGF0ZVooLVwiK2UuZGVwdGguYWN0aXZlK1wicHgpXCJ9KSx0LmNzcyh7dHJhbnNmb3JtOlwicm90YXRlWSgwZGVnKSB0cmFuc2xhdGVaKFwiK2UuZGVwdGguYWN0aXZlK1wicHgpXCJ9KSxtLmFkZENsYXNzKHguYW5pbWF0aW5nKS5jc3Moe3RvcDplLm9yaWdpbitcInB4XCIsdHJhbnNmb3JtOlwicm90YXRlWCgtOTBkZWcpIHRyYW5zbGF0ZVooXCIrZS5kZXB0aC5uZXh0K1wicHgpXCJ9KX0sbGVmdDpmdW5jdGlvbigpe3ZhciBlPXthY3RpdmU6dC5vdXRlcldpZHRoKCEwKSxuZXh0Om0ub3V0ZXJXaWR0aCghMCl9LG49e29yaWdpbjooZS5hY3RpdmUtZS5uZXh0KS8yLGRlcHRoOnthY3RpdmU6ZS5uZXh0LzIsbmV4dDplLmFjdGl2ZS8yfX07Zy52ZXJib3NlKFwiU2V0dGluZyB0aGUgaW5pdGlhbCBhbmltYXRpb24gcG9zaXRpb24gYXMgbGVmdFwiLG0sbiksUy5jc3Moe3RyYW5zZm9ybTpcInRyYW5zbGF0ZVooLVwiK24uZGVwdGguYWN0aXZlK1wicHgpXCJ9KSx0LmNzcyh7dHJhbnNmb3JtOlwicm90YXRlWSgwZGVnKSB0cmFuc2xhdGVaKFwiK24uZGVwdGguYWN0aXZlK1wicHgpXCJ9KSxtLmFkZENsYXNzKHguYW5pbWF0aW5nKS5jc3Moe2xlZnQ6bi5vcmlnaW4rXCJweFwiLHRyYW5zZm9ybTpcInJvdGF0ZVkoLTkwZGVnKSB0cmFuc2xhdGVaKFwiK24uZGVwdGgubmV4dCtcInB4KVwifSl9LHJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGU9e2FjdGl2ZTp0Lm91dGVyV2lkdGgoITApLG5leHQ6bS5vdXRlcldpZHRoKCEwKX0sbj17b3JpZ2luOihlLmFjdGl2ZS1lLm5leHQpLzIsZGVwdGg6e2FjdGl2ZTplLm5leHQvMixuZXh0OmUuYWN0aXZlLzJ9fTtnLnZlcmJvc2UoXCJTZXR0aW5nIHRoZSBpbml0aWFsIGFuaW1hdGlvbiBwb3NpdGlvbiBhcyBsZWZ0XCIsbSxuKSxTLmNzcyh7dHJhbnNmb3JtOlwidHJhbnNsYXRlWigtXCIrbi5kZXB0aC5hY3RpdmUrXCJweClcIn0pLHQuY3NzKHt0cmFuc2Zvcm06XCJyb3RhdGVZKDBkZWcpIHRyYW5zbGF0ZVooXCIrbi5kZXB0aC5hY3RpdmUrXCJweClcIn0pLG0uYWRkQ2xhc3MoeC5hbmltYXRpbmcpLmNzcyh7bGVmdDpuLm9yaWdpbitcInB4XCIsdHJhbnNmb3JtOlwicm90YXRlWSg5MGRlZykgdHJhbnNsYXRlWihcIituLmRlcHRoLm5leHQrXCJweClcIn0pfSxiZWhpbmQ6ZnVuY3Rpb24oKXt2YXIgZT17YWN0aXZlOnQub3V0ZXJXaWR0aCghMCksbmV4dDptLm91dGVyV2lkdGgoITApfSxuPXtvcmlnaW46KGUuYWN0aXZlLWUubmV4dCkvMixkZXB0aDp7YWN0aXZlOmUubmV4dC8yLG5leHQ6ZS5hY3RpdmUvMn19O2cudmVyYm9zZShcIlNldHRpbmcgdGhlIGluaXRpYWwgYW5pbWF0aW9uIHBvc2l0aW9uIGFzIGJlaGluZFwiLG0sbiksdC5jc3Moe3RyYW5zZm9ybTpcInJvdGF0ZVkoMGRlZylcIn0pLG0uYWRkQ2xhc3MoeC5hbmltYXRpbmcpLmNzcyh7bGVmdDpuLm9yaWdpbitcInB4XCIsdHJhbnNmb3JtOlwicm90YXRlWSgtMTgwZGVnKVwifSl9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoZy5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxoLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGhbdF07ZS5pc1BsYWluT2JqZWN0KGhbdF0pP2UuZXh0ZW5kKCEwLGhbdF0sbik6aFt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsZyx0KTtlbHNle2lmKG49PT1pKXJldHVybiBnW3RdO2dbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7IWguc2lsZW50JiZoLmRlYnVnJiYoaC5wZXJmb3JtYW5jZT9nLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihnLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsaC5uYW1lK1wiOlwiKSxnLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IWguc2lsZW50JiZoLnZlcmJvc2UmJmguZGVidWcmJihoLnBlcmZvcm1hbmNlP2cucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGcudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGgubmFtZStcIjpcIiksZy52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe2guc2lsZW50fHwoZy5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxoLm5hbWUrXCI6XCIpLGcuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7aC5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1zfHx0LG49dC1pLHM9dCxsLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6UixcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoZy5wZXJmb3JtYW5jZS50aW1lciksZy5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KGcucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9aC5uYW1lK1wiOlwiLG49MDtzPSExLGNsZWFyVGltZW91dChnLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gobCxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHAmJih0Kz1cIiAnXCIrcCtcIidcIiksci5sZW5ndGg+MSYmKHQrPVwiIChcIityLmxlbmd0aCtcIilcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmwubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShsKTplLmVhY2gobCxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGw9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsbCxjPUU7cmV0dXJuIG49bnx8ZCxvPVJ8fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pJiYocz1jW29dLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkobyxuKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KGEpP2EucHVzaChsKTphIT09aT9hPVthLGxdOmwhPT1pJiYoYT1sKSxzfX0sdT8oRT09PWkmJmcuaW5pdGlhbGl6ZSgpLGcuaW52b2tlKGMpKTooRSE9PWkmJkUuaW52b2tlKFwiZGVzdHJveVwiKSxnLmluaXRpYWxpemUoKSl9KSxhIT09aT9hOnRoaXN9LGUuZm4uc2hhcGUuc2V0dGluZ3M9e25hbWU6XCJTaGFwZVwiLHNpbGVudDohMSxkZWJ1ZzohMSx2ZXJib3NlOiExLGppdHRlcjowLHBlcmZvcm1hbmNlOiEwLG5hbWVzcGFjZTpcInNoYXBlXCIsd2lkdGg6XCJpbml0aWFsXCIsaGVpZ2h0OlwiaW5pdGlhbFwiLGJlZm9yZUNoYW5nZTpmdW5jdGlvbigpe30sb25DaGFuZ2U6ZnVuY3Rpb24oKXt9LGFsbG93UmVwZWF0czohMSxkdXJhdGlvbjohMSxlcnJvcjp7c2lkZTpcIllvdSB0cmllZCB0byBzd2l0Y2ggdG8gYSBzaWRlIHRoYXQgZG9lcyBub3QgZXhpc3QuXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkXCJ9LGNsYXNzTmFtZTp7YW5pbWF0aW5nOlwiYW5pbWF0aW5nXCIsaGlkZGVuOlwiaGlkZGVuXCIsbG9hZGluZzpcImxvYWRpbmdcIixhY3RpdmU6XCJhY3RpdmVcIn0sc2VsZWN0b3I6e3NpZGVzOlwiLnNpZGVzXCIsc2lkZTpcIi5zaWRlXCJ9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxlLmZuLnNpZGViYXI9ZnVuY3Rpb24obyl7dmFyIGEscj1lKHRoaXMpLHM9ZSh0KSxsPWUobiksYz1lKFwiaHRtbFwiKSx1PWUoXCJoZWFkXCIpLGQ9ci5zZWxlY3Rvcnx8XCJcIixmPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG09W10sZz1hcmd1bWVudHNbMF0scD1cInN0cmluZ1wiPT10eXBlb2YgZyxoPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHY9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfTtyZXR1cm4gci5lYWNoKGZ1bmN0aW9uKCl7dmFyIHIsYix5LHgsQyx3LGs9ZS5pc1BsYWluT2JqZWN0KG8pP2UuZXh0ZW5kKCEwLHt9LGUuZm4uc2lkZWJhci5zZXR0aW5ncyxvKTplLmV4dGVuZCh7fSxlLmZuLnNpZGViYXIuc2V0dGluZ3MpLFM9ay5zZWxlY3RvcixUPWsuY2xhc3NOYW1lLEE9ay5uYW1lc3BhY2UsUj1rLnJlZ0V4cCxFPWsuZXJyb3IsUD1cIi5cIitBLEY9XCJtb2R1bGUtXCIrQSxPPWUodGhpcyksRD1lKGsuY29udGV4dCkscT1PLmNoaWxkcmVuKFMuc2lkZWJhciksaj1ELmNoaWxkcmVuKFMuZml4ZWQpLHo9RC5jaGlsZHJlbihTLnB1c2hlciksTT10aGlzLEk9Ty5kYXRhKEYpO3c9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXt3LmRlYnVnKFwiSW5pdGlhbGl6aW5nIHNpZGViYXJcIixvKSx3LmNyZWF0ZS5pZCgpLEM9dy5nZXQudHJhbnNpdGlvbkV2ZW50KCksdy5pcy5pb3MoKSYmdy5zZXQuaW9zKCksay5kZWxheVNldHVwP3Yody5zZXR1cC5sYXlvdXQpOncuc2V0dXAubGF5b3V0KCksdihmdW5jdGlvbigpe3cuc2V0dXAuY2FjaGUoKX0pLHcuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIG1vZHVsZVwiLHcpLEk9dyxPLmRhdGEoRix3KX0sY3JlYXRlOntpZDpmdW5jdGlvbigpe3k9KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpK1wiMDAwMDAwMDAwXCIpLnN1YnN0cigyLDgpLGI9XCIuXCIreSx3LnZlcmJvc2UoXCJDcmVhdGluZyB1bmlxdWUgaWQgZm9yIGVsZW1lbnRcIix5KX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZSBmb3JcIixPKSxPLm9mZihQKS5yZW1vdmVEYXRhKEYpLHcuaXMuaW9zKCkmJncucmVtb3ZlLmlvcygpLEQub2ZmKGIpLHMub2ZmKGIpLGwub2ZmKGIpfSxldmVudDp7Y2xpY2thd2F5OmZ1bmN0aW9uKGUpe3ZhciB0PXouZmluZChlLnRhcmdldCkubGVuZ3RoPjB8fHouaXMoZS50YXJnZXQpLG49RC5pcyhlLnRhcmdldCk7dCYmKHcudmVyYm9zZShcIlVzZXIgY2xpY2tlZCBvbiBkaW1tZWQgcGFnZVwiKSx3LmhpZGUoKSksbiYmKHcudmVyYm9zZShcIlVzZXIgY2xpY2tlZCBvbiBkaW1tYWJsZSBjb250ZXh0IChzY2FsZWQgb3V0IHBhZ2UpXCIpLHcuaGlkZSgpKX0sdG91Y2g6ZnVuY3Rpb24oZSl7fSxjb250YWluU2Nyb2xsOmZ1bmN0aW9uKGUpe00uc2Nyb2xsVG9wPD0wJiYoTS5zY3JvbGxUb3A9MSksTS5zY3JvbGxUb3ArTS5vZmZzZXRIZWlnaHQ+PU0uc2Nyb2xsSGVpZ2h0JiYoTS5zY3JvbGxUb3A9TS5zY3JvbGxIZWlnaHQtTS5vZmZzZXRIZWlnaHQtMSl9LHNjcm9sbDpmdW5jdGlvbih0KXswPT09ZSh0LnRhcmdldCkuY2xvc2VzdChTLnNpZGViYXIpLmxlbmd0aCYmdC5wcmV2ZW50RGVmYXVsdCgpfX0sYmluZDp7Y2xpY2thd2F5OmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiQWRkaW5nIGNsaWNrYXdheSBldmVudHMgdG8gY29udGV4dFwiLEQpLGsuY2xvc2FibGUmJkQub24oXCJjbGlja1wiK2Isdy5ldmVudC5jbGlja2F3YXkpLm9uKFwidG91Y2hlbmRcIitiLHcuZXZlbnQuY2xpY2thd2F5KX0sc2Nyb2xsTG9jazpmdW5jdGlvbigpe2suc2Nyb2xsTG9jayYmKHcuZGVidWcoXCJEaXNhYmxpbmcgcGFnZSBzY3JvbGxcIikscy5vbihcIkRPTU1vdXNlU2Nyb2xsXCIrYix3LmV2ZW50LnNjcm9sbCkpLHcudmVyYm9zZShcIkFkZGluZyBldmVudHMgdG8gY29udGFpbiBzaWRlYmFyIHNjcm9sbFwiKSxsLm9uKFwidG91Y2htb3ZlXCIrYix3LmV2ZW50LnRvdWNoKSxPLm9uKFwic2Nyb2xsXCIrUCx3LmV2ZW50LmNvbnRhaW5TY3JvbGwpfX0sdW5iaW5kOntjbGlja2F3YXk6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJSZW1vdmluZyBjbGlja2F3YXkgZXZlbnRzIGZyb20gY29udGV4dFwiLEQpLEQub2ZmKGIpfSxzY3JvbGxMb2NrOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiUmVtb3Zpbmcgc2Nyb2xsIGxvY2sgZnJvbSBwYWdlXCIpLGwub2ZmKGIpLHMub2ZmKGIpLE8ub2ZmKFwic2Nyb2xsXCIrUCl9fSxhZGQ6e2lubGluZUNTUzpmdW5jdGlvbigpe3ZhciB0LG49dy5jYWNoZS53aWR0aHx8Ty5vdXRlcldpZHRoKCksaT13LmNhY2hlLmhlaWdodHx8Ty5vdXRlckhlaWdodCgpLG89dy5pcy5ydGwoKSxhPXcuZ2V0LmRpcmVjdGlvbigpLHM9e2xlZnQ6bixyaWdodDotbix0b3A6aSxib3R0b206LWl9O28mJih3LnZlcmJvc2UoXCJSVEwgZGV0ZWN0ZWQsIGZsaXBwaW5nIHdpZHRoc1wiKSxzLmxlZnQ9LW4scy5yaWdodD1uKSx0PVwiPHN0eWxlPlwiLFwibGVmdFwiPT09YXx8XCJyaWdodFwiPT09YT8ody5kZWJ1ZyhcIkFkZGluZyBDU1MgcnVsZXMgZm9yIGFuaW1hdGlvbiBkaXN0YW5jZVwiLG4pLHQrPVwiIC51aS52aXNpYmxlLlwiK2ErXCIuc2lkZWJhciB+IC5maXhlZCwgLnVpLnZpc2libGUuXCIrYStcIi5zaWRlYmFyIH4gLnB1c2hlciB7ICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKFwiK3NbYV0rXCJweCwgMCwgMCk7ICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKFwiK3NbYV0rXCJweCwgMCwgMCk7IH1cIik6XCJ0b3BcIiE9PWEmJlwiYm90dG9tXCIhPWF8fCh0Kz1cIiAudWkudmlzaWJsZS5cIithK1wiLnNpZGViYXIgfiAuZml4ZWQsIC51aS52aXNpYmxlLlwiK2ErXCIuc2lkZWJhciB+IC5wdXNoZXIgeyAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCBcIitzW2FdK1wicHgsIDApOyAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCBcIitzW2FdK1wicHgsIDApOyB9XCIpLHcuaXMuaWUoKSYmKFwibGVmdFwiPT09YXx8XCJyaWdodFwiPT09YT8ody5kZWJ1ZyhcIkFkZGluZyBDU1MgcnVsZXMgZm9yIGFuaW1hdGlvbiBkaXN0YW5jZVwiLG4pLHQrPVwiIGJvZHkucHVzaGFibGUgPiAudWkudmlzaWJsZS5cIithK1wiLnNpZGViYXIgfiAucHVzaGVyOmFmdGVyIHsgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoXCIrc1thXStcInB4LCAwLCAwKTsgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoXCIrc1thXStcInB4LCAwLCAwKTsgfVwiKTpcInRvcFwiIT09YSYmXCJib3R0b21cIiE9YXx8KHQrPVwiIGJvZHkucHVzaGFibGUgPiAudWkudmlzaWJsZS5cIithK1wiLnNpZGViYXIgfiAucHVzaGVyOmFmdGVyIHsgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgXCIrc1thXStcInB4LCAwKTsgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgXCIrc1thXStcInB4LCAwKTsgfVwiKSx0Kz1cIiBib2R5LnB1c2hhYmxlID4gLnVpLnZpc2libGUubGVmdC5zaWRlYmFyIH4gLnVpLnZpc2libGUucmlnaHQuc2lkZWJhciB+IC5wdXNoZXI6YWZ0ZXIsIGJvZHkucHVzaGFibGUgPiAudWkudmlzaWJsZS5yaWdodC5zaWRlYmFyIH4gLnVpLnZpc2libGUubGVmdC5zaWRlYmFyIH4gLnB1c2hlcjphZnRlciB7ICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDBweCwgMCwgMCk7ICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDBweCwgMCwgMCk7IH1cIiksdCs9XCI8L3N0eWxlPlwiLHI9ZSh0KS5hcHBlbmRUbyh1KSx3LmRlYnVnKFwiQWRkaW5nIHNpemluZyBjc3MgdG8gaGVhZFwiLHIpfX0scmVmcmVzaDpmdW5jdGlvbigpe3cudmVyYm9zZShcIlJlZnJlc2hpbmcgc2VsZWN0b3IgY2FjaGVcIiksRD1lKGsuY29udGV4dCkscT1ELmNoaWxkcmVuKFMuc2lkZWJhciksej1ELmNoaWxkcmVuKFMucHVzaGVyKSxqPUQuY2hpbGRyZW4oUy5maXhlZCksdy5jbGVhci5jYWNoZSgpfSxyZWZyZXNoU2lkZWJhcnM6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJSZWZyZXNoaW5nIG90aGVyIHNpZGViYXJzXCIpLHE9RC5jaGlsZHJlbihTLnNpZGViYXIpfSxyZXBhaW50OmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiRm9yY2luZyByZXBhaW50IGV2ZW50XCIpLE0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtNLm9mZnNldEhlaWdodDtNLnNjcm9sbFRvcD1NLnNjcm9sbFRvcCxNLnN0eWxlLmRpc3BsYXk9XCJcIn0sc2V0dXA6e2NhY2hlOmZ1bmN0aW9uKCl7XG53LmNhY2hlPXt3aWR0aDpPLm91dGVyV2lkdGgoKSxoZWlnaHQ6Ty5vdXRlckhlaWdodCgpLHJ0bDpcInJ0bFwiPT1PLmNzcyhcImRpcmVjdGlvblwiKX19LGxheW91dDpmdW5jdGlvbigpezA9PT1ELmNoaWxkcmVuKFMucHVzaGVyKS5sZW5ndGgmJih3LmRlYnVnKFwiQWRkaW5nIHdyYXBwZXIgZWxlbWVudCBmb3Igc2lkZWJhclwiKSx3LmVycm9yKEUucHVzaGVyKSx6PWUoJzxkaXYgY2xhc3M9XCJwdXNoZXJcIiAvPicpLEQuY2hpbGRyZW4oKS5ub3QoUy5vbWl0dGVkKS5ub3QocSkud3JhcEFsbCh6KSx3LnJlZnJlc2goKSksMCE9PU8ubmV4dEFsbChTLnB1c2hlcikubGVuZ3RoJiZPLm5leHRBbGwoUy5wdXNoZXIpWzBdPT09elswXXx8KHcuZGVidWcoXCJNb3ZlZCBzaWRlYmFyIHRvIGNvcnJlY3QgcGFyZW50IGVsZW1lbnRcIiksdy5lcnJvcihFLm1vdmVkU2lkZWJhcixNKSxPLmRldGFjaCgpLnByZXBlbmRUbyhEKSx3LnJlZnJlc2goKSksdy5jbGVhci5jYWNoZSgpLHcuc2V0LnB1c2hhYmxlKCksdy5zZXQuZGlyZWN0aW9uKCl9fSxhdHRhY2hFdmVudHM6ZnVuY3Rpb24odCxuKXt2YXIgaT1lKHQpO249ZS5pc0Z1bmN0aW9uKHdbbl0pP3dbbl06dy50b2dnbGUsaS5sZW5ndGg+MD8ody5kZWJ1ZyhcIkF0dGFjaGluZyBzaWRlYmFyIGV2ZW50cyB0byBlbGVtZW50XCIsdCxuKSxpLm9uKFwiY2xpY2tcIitQLG4pKTp3LmVycm9yKEUubm90Rm91bmQsdCl9LHNob3c6ZnVuY3Rpb24odCl7aWYodD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sdy5pcy5oaWRkZW4oKSl7aWYody5yZWZyZXNoU2lkZWJhcnMoKSxrLm92ZXJsYXkmJih3LmVycm9yKEUub3ZlcmxheSksay50cmFuc2l0aW9uPVwib3ZlcmxheVwiKSx3LnJlZnJlc2goKSx3Lm90aGVyc0FjdGl2ZSgpKWlmKHcuZGVidWcoXCJPdGhlciBzaWRlYmFycyBjdXJyZW50bHkgdmlzaWJsZVwiKSxrLmV4Y2x1c2l2ZSl7aWYoXCJvdmVybGF5XCIhPWsudHJhbnNpdGlvbilyZXR1cm4gdm9pZCB3LmhpZGVPdGhlcnMody5zaG93KTt3LmhpZGVPdGhlcnMoKX1lbHNlIGsudHJhbnNpdGlvbj1cIm92ZXJsYXlcIjt3LnB1c2hQYWdlKGZ1bmN0aW9uKCl7dC5jYWxsKE0pLGsub25TaG93LmNhbGwoTSl9KSxrLm9uQ2hhbmdlLmNhbGwoTSksay5vblZpc2libGUuY2FsbChNKX1lbHNlIHcuZGVidWcoXCJTaWRlYmFyIGlzIGFscmVhZHkgdmlzaWJsZVwiKX0saGlkZTpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSwody5pcy52aXNpYmxlKCl8fHcuaXMuYW5pbWF0aW5nKCkpJiYody5kZWJ1ZyhcIkhpZGluZyBzaWRlYmFyXCIsdCksdy5yZWZyZXNoU2lkZWJhcnMoKSx3LnB1bGxQYWdlKGZ1bmN0aW9uKCl7dC5jYWxsKE0pLGsub25IaWRkZW4uY2FsbChNKX0pLGsub25DaGFuZ2UuY2FsbChNKSxrLm9uSGlkZS5jYWxsKE0pKX0sb3RoZXJzQW5pbWF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHEubm90KE8pLmZpbHRlcihcIi5cIitULmFuaW1hdGluZykubGVuZ3RoPjB9LG90aGVyc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gcS5ub3QoTykuZmlsdGVyKFwiLlwiK1QudmlzaWJsZSkubGVuZ3RoPjB9LG90aGVyc0FjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB3Lm90aGVyc1Zpc2libGUoKXx8dy5vdGhlcnNBbmltYXRpbmcoKX0saGlkZU90aGVyczpmdW5jdGlvbihlKXt2YXIgdD1xLm5vdChPKS5maWx0ZXIoXCIuXCIrVC52aXNpYmxlKSxuPXQubGVuZ3RoLGk9MDtlPWV8fGZ1bmN0aW9uKCl7fSx0LnNpZGViYXIoXCJoaWRlXCIsZnVuY3Rpb24oKXtpKyssaT09biYmZSgpfSl9LHRvZ2dsZTpmdW5jdGlvbigpe3cudmVyYm9zZShcIkRldGVybWluaW5nIHRvZ2dsZWQgZGlyZWN0aW9uXCIpLHcuaXMuaGlkZGVuKCk/dy5zaG93KCk6dy5oaWRlKCl9LHB1c2hQYWdlOmZ1bmN0aW9uKHQpe3ZhciBuLGksbyxhPXcuZ2V0LnRyYW5zaXRpb24oKSxyPVwib3ZlcmxheVwiPT09YXx8dy5vdGhlcnNBY3RpdmUoKT9POno7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sXCJzY2FsZSBkb3duXCI9PWsudHJhbnNpdGlvbiYmdy5zY3JvbGxUb1RvcCgpLHcuc2V0LnRyYW5zaXRpb24oYSksdy5yZXBhaW50KCksbj1mdW5jdGlvbigpe3cuYmluZC5jbGlja2F3YXkoKSx3LmFkZC5pbmxpbmVDU1MoKSx3LnNldC5hbmltYXRpbmcoKSx3LnNldC52aXNpYmxlKCl9LGk9ZnVuY3Rpb24oKXt3LnNldC5kaW1tZWQoKX0sbz1mdW5jdGlvbihlKXtlLnRhcmdldD09clswXSYmKHIub2ZmKEMrYixvKSx3LnJlbW92ZS5hbmltYXRpbmcoKSx3LmJpbmQuc2Nyb2xsTG9jaygpLHQuY2FsbChNKSl9LHIub2ZmKEMrYiksci5vbihDK2IsbyksdihuKSxrLmRpbVBhZ2UmJiF3Lm90aGVyc1Zpc2libGUoKSYmdihpKX0scHVsbFBhZ2U6ZnVuY3Rpb24odCl7dmFyIG4saSxvPXcuZ2V0LnRyYW5zaXRpb24oKSxhPVwib3ZlcmxheVwiPT1vfHx3Lm90aGVyc0FjdGl2ZSgpP086ejt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSx3LnZlcmJvc2UoXCJSZW1vdmluZyBjb250ZXh0IHB1c2ggc3RhdGVcIix3LmdldC5kaXJlY3Rpb24oKSksdy51bmJpbmQuY2xpY2thd2F5KCksdy51bmJpbmQuc2Nyb2xsTG9jaygpLG49ZnVuY3Rpb24oKXt3LnNldC50cmFuc2l0aW9uKG8pLHcuc2V0LmFuaW1hdGluZygpLHcucmVtb3ZlLnZpc2libGUoKSxrLmRpbVBhZ2UmJiF3Lm90aGVyc1Zpc2libGUoKSYmei5yZW1vdmVDbGFzcyhULmRpbW1lZCl9LGk9ZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PWFbMF0mJihhLm9mZihDK2IsaSksdy5yZW1vdmUuYW5pbWF0aW5nKCksdy5yZW1vdmUudHJhbnNpdGlvbigpLHcucmVtb3ZlLmlubGluZUNTUygpLChcInNjYWxlIGRvd25cIj09b3x8ay5yZXR1cm5TY3JvbGwmJncuaXMubW9iaWxlKCkpJiZ3LnNjcm9sbEJhY2soKSx0LmNhbGwoTSkpfSxhLm9mZihDK2IpLGEub24oQytiLGkpLHYobil9LHNjcm9sbFRvVG9wOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiU2Nyb2xsaW5nIHRvIHRvcCBvZiBwYWdlIHRvIGF2b2lkIGFuaW1hdGlvbiBpc3N1ZXNcIikseD1lKHQpLnNjcm9sbFRvcCgpLE8uc2Nyb2xsVG9wKDApLHQuc2Nyb2xsVG8oMCwwKX0sc2Nyb2xsQmFjazpmdW5jdGlvbigpe3cudmVyYm9zZShcIlNjcm9sbGluZyBiYWNrIHRvIG9yaWdpbmFsIHBhZ2UgcG9zaXRpb25cIiksdC5zY3JvbGxUbygwLHgpfSxjbGVhcjp7Y2FjaGU6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJDbGVhcmluZyBjYWNoZWQgZGltZW5zaW9uc1wiKSx3LmNhY2hlPXt9fX0sc2V0Ontpb3M6ZnVuY3Rpb24oKXtjLmFkZENsYXNzKFQuaW9zKX0scHVzaGVkOmZ1bmN0aW9uKCl7RC5hZGRDbGFzcyhULnB1c2hlZCl9LHB1c2hhYmxlOmZ1bmN0aW9uKCl7RC5hZGRDbGFzcyhULnB1c2hhYmxlKX0sZGltbWVkOmZ1bmN0aW9uKCl7ei5hZGRDbGFzcyhULmRpbW1lZCl9LGFjdGl2ZTpmdW5jdGlvbigpe08uYWRkQ2xhc3MoVC5hY3RpdmUpfSxhbmltYXRpbmc6ZnVuY3Rpb24oKXtPLmFkZENsYXNzKFQuYW5pbWF0aW5nKX0sdHJhbnNpdGlvbjpmdW5jdGlvbihlKXtlPWV8fHcuZ2V0LnRyYW5zaXRpb24oKSxPLmFkZENsYXNzKGUpfSxkaXJlY3Rpb246ZnVuY3Rpb24oZSl7ZT1lfHx3LmdldC5kaXJlY3Rpb24oKSxPLmFkZENsYXNzKFRbZV0pfSx2aXNpYmxlOmZ1bmN0aW9uKCl7Ty5hZGRDbGFzcyhULnZpc2libGUpfSxvdmVybGF5OmZ1bmN0aW9uKCl7Ty5hZGRDbGFzcyhULm92ZXJsYXkpfX0scmVtb3ZlOntpbmxpbmVDU1M6ZnVuY3Rpb24oKXt3LmRlYnVnKFwiUmVtb3ZpbmcgaW5saW5lIGNzcyBzdHlsZXNcIixyKSxyJiZyLmxlbmd0aD4wJiZyLnJlbW92ZSgpfSxpb3M6ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKFQuaW9zKX0scHVzaGVkOmZ1bmN0aW9uKCl7RC5yZW1vdmVDbGFzcyhULnB1c2hlZCl9LHB1c2hhYmxlOmZ1bmN0aW9uKCl7RC5yZW1vdmVDbGFzcyhULnB1c2hhYmxlKX0sYWN0aXZlOmZ1bmN0aW9uKCl7Ty5yZW1vdmVDbGFzcyhULmFjdGl2ZSl9LGFuaW1hdGluZzpmdW5jdGlvbigpe08ucmVtb3ZlQ2xhc3MoVC5hbmltYXRpbmcpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGUpe2U9ZXx8dy5nZXQudHJhbnNpdGlvbigpLE8ucmVtb3ZlQ2xhc3MoZSl9LGRpcmVjdGlvbjpmdW5jdGlvbihlKXtlPWV8fHcuZ2V0LmRpcmVjdGlvbigpLE8ucmVtb3ZlQ2xhc3MoVFtlXSl9LHZpc2libGU6ZnVuY3Rpb24oKXtPLnJlbW92ZUNsYXNzKFQudmlzaWJsZSl9LG92ZXJsYXk6ZnVuY3Rpb24oKXtPLnJlbW92ZUNsYXNzKFQub3ZlcmxheSl9fSxnZXQ6e2RpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBPLmhhc0NsYXNzKFQudG9wKT9ULnRvcDpPLmhhc0NsYXNzKFQucmlnaHQpP1QucmlnaHQ6Ty5oYXNDbGFzcyhULmJvdHRvbSk/VC5ib3R0b206VC5sZWZ0fSx0cmFuc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGUsdD13LmdldC5kaXJlY3Rpb24oKTtyZXR1cm4gZT13LmlzLm1vYmlsZSgpP1wiYXV0b1wiPT1rLm1vYmlsZVRyYW5zaXRpb24/ay5kZWZhdWx0VHJhbnNpdGlvbi5tb2JpbGVbdF06ay5tb2JpbGVUcmFuc2l0aW9uOlwiYXV0b1wiPT1rLnRyYW5zaXRpb24/ay5kZWZhdWx0VHJhbnNpdGlvbi5jb21wdXRlclt0XTprLnRyYW5zaXRpb24sdy52ZXJib3NlKFwiRGV0ZXJtaW5lZCB0cmFuc2l0aW9uXCIsZSksZX0sdHJhbnNpdGlvbkV2ZW50OmZ1bmN0aW9uKCl7dmFyIGUsdD1uLmNyZWF0ZUVsZW1lbnQoXCJlbGVtZW50XCIpLG89e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn07Zm9yKGUgaW4gbylpZih0LnN0eWxlW2VdIT09aSlyZXR1cm4gb1tlXX19LGlzOntpZTpmdW5jdGlvbigpe3ZhciBlPSF0LkFjdGl2ZVhPYmplY3QmJlwiQWN0aXZlWE9iamVjdFwiaW4gdCxuPVwiQWN0aXZlWE9iamVjdFwiaW4gdDtyZXR1cm4gZXx8bn0saW9zOmZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudCx0PWUubWF0Y2goUi5pb3MpLG49ZS5tYXRjaChSLm1vYmlsZUNocm9tZSk7cmV0dXJuISghdHx8bikmJih3LnZlcmJvc2UoXCJCcm93c2VyIHdhcyBmb3VuZCB0byBiZSBpT1NcIixlKSwhMCl9LG1vYmlsZTpmdW5jdGlvbigpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQsdD1lLm1hdGNoKFIubW9iaWxlKTtyZXR1cm4gdD8ody52ZXJib3NlKFwiQnJvd3NlciB3YXMgZm91bmQgdG8gYmUgbW9iaWxlXCIsZSksITApOih3LnZlcmJvc2UoXCJCcm93c2VyIGlzIG5vdCBtb2JpbGUsIHVzaW5nIHJlZ3VsYXIgdHJhbnNpdGlvblwiLGUpLCExKX0saGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIXcuaXMudmlzaWJsZSgpfSx2aXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIE8uaGFzQ2xhc3MoVC52aXNpYmxlKX0sb3BlbjpmdW5jdGlvbigpe3JldHVybiB3LmlzLnZpc2libGUoKX0sY2xvc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHcuaXMuaGlkZGVuKCl9LHZlcnRpY2FsOmZ1bmN0aW9uKCl7cmV0dXJuIE8uaGFzQ2xhc3MoVC50b3ApfSxhbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gRC5oYXNDbGFzcyhULmFuaW1hdGluZyl9LHJ0bDpmdW5jdGlvbigpe3JldHVybiB3LmNhY2hlLnJ0bD09PWkmJih3LmNhY2hlLnJ0bD1cInJ0bFwiPT1PLmNzcyhcImRpcmVjdGlvblwiKSksdy5jYWNoZS5ydGx9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYody5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxrLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGtbdF07ZS5pc1BsYWluT2JqZWN0KGtbdF0pP2UuZXh0ZW5kKCEwLGtbdF0sbik6a1t0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsdyx0KTtlbHNle2lmKG49PT1pKXJldHVybiB3W3RdO3dbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7IWsuc2lsZW50JiZrLmRlYnVnJiYoay5wZXJmb3JtYW5jZT93LnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOih3LmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsay5uYW1lK1wiOlwiKSx3LmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IWsuc2lsZW50JiZrLnZlcmJvc2UmJmsuZGVidWcmJihrLnBlcmZvcm1hbmNlP3cucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KHcudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGsubmFtZStcIjpcIiksdy52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe2suc2lsZW50fHwody5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxrLm5hbWUrXCI6XCIpLHcuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7ay5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1mfHx0LG49dC1pLGY9dCxtLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6TSxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQody5wZXJmb3JtYW5jZS50aW1lciksdy5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KHcucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9ay5uYW1lK1wiOlwiLG49MDtmPSExLGNsZWFyVGltZW91dCh3LnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gobSxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLGQmJih0Kz1cIiAnXCIrZCtcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJm0ubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShtKTplLmVhY2gobSxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLG09W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsbCxjPUk7cmV0dXJuIG49bnx8aCxvPU18fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pPyhzPWNbb10sITEpOih3LmVycm9yKEUubWV0aG9kLHQpLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkobyxuKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KGEpP2EucHVzaChsKTphIT09aT9hPVthLGxdOmwhPT1pJiYoYT1sKSxzfX0scD8oST09PWkmJncuaW5pdGlhbGl6ZSgpLHcuaW52b2tlKGcpKTooSSE9PWkmJncuaW52b2tlKFwiZGVzdHJveVwiKSx3LmluaXRpYWxpemUoKSl9KSxhIT09aT9hOnRoaXN9LGUuZm4uc2lkZWJhci5zZXR0aW5ncz17bmFtZTpcIlNpZGViYXJcIixuYW1lc3BhY2U6XCJzaWRlYmFyXCIsc2lsZW50OiExLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsdHJhbnNpdGlvbjpcImF1dG9cIixtb2JpbGVUcmFuc2l0aW9uOlwiYXV0b1wiLGRlZmF1bHRUcmFuc2l0aW9uOntjb21wdXRlcjp7bGVmdDpcInVuY292ZXJcIixyaWdodDpcInVuY292ZXJcIix0b3A6XCJvdmVybGF5XCIsYm90dG9tOlwib3ZlcmxheVwifSxtb2JpbGU6e2xlZnQ6XCJ1bmNvdmVyXCIscmlnaHQ6XCJ1bmNvdmVyXCIsdG9wOlwib3ZlcmxheVwiLGJvdHRvbTpcIm92ZXJsYXlcIn19LGNvbnRleHQ6XCJib2R5XCIsZXhjbHVzaXZlOiExLGNsb3NhYmxlOiEwLGRpbVBhZ2U6ITAsc2Nyb2xsTG9jazohMSxyZXR1cm5TY3JvbGw6ITEsZGVsYXlTZXR1cDohMSxkdXJhdGlvbjo1MDAsb25DaGFuZ2U6ZnVuY3Rpb24oKXt9LG9uU2hvdzpmdW5jdGlvbigpe30sb25IaWRlOmZ1bmN0aW9uKCl7fSxvbkhpZGRlbjpmdW5jdGlvbigpe30sb25WaXNpYmxlOmZ1bmN0aW9uKCl7fSxjbGFzc05hbWU6e2FjdGl2ZTpcImFjdGl2ZVwiLGFuaW1hdGluZzpcImFuaW1hdGluZ1wiLGRpbW1lZDpcImRpbW1lZFwiLGlvczpcImlvc1wiLHB1c2hhYmxlOlwicHVzaGFibGVcIixwdXNoZWQ6XCJwdXNoZWRcIixyaWdodDpcInJpZ2h0XCIsdG9wOlwidG9wXCIsbGVmdDpcImxlZnRcIixib3R0b206XCJib3R0b21cIix2aXNpYmxlOlwidmlzaWJsZVwifSxzZWxlY3Rvcjp7Zml4ZWQ6XCIuZml4ZWRcIixvbWl0dGVkOlwic2NyaXB0LCBsaW5rLCBzdHlsZSwgLnVpLm1vZGFsLCAudWkuZGltbWVyLCAudWkubmFnLCAudWkuZml4ZWRcIixwdXNoZXI6XCIucHVzaGVyXCIsc2lkZWJhcjpcIi51aS5zaWRlYmFyXCJ9LHJlZ0V4cDp7aW9zOi8oaVBhZHxpUGhvbmV8aVBvZCkvZyxtb2JpbGVDaHJvbWU6LyhDcmlPUykvZyxtb2JpbGU6L01vYmlsZXxpUChob25lfG9kfGFkKXxBbmRyb2lkfEJsYWNrQmVycnl8SUVNb2JpbGV8S2luZGxlfE5ldEZyb250fFNpbGstQWNjZWxlcmF0ZWR8KGhwd3x3ZWIpT1N8RmVubmVjfE1pbmltb3xPcGVyYSBNKG9iaXxpbmkpfEJsYXplcnxEb2xmaW58RG9scGhpbnxTa3lmaXJlfFp1bmUvZ30sZXJyb3I6e21ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIixwdXNoZXI6XCJIYWQgdG8gYWRkIHB1c2hlciBlbGVtZW50LiBGb3Igb3B0aW1hbCBwZXJmb3JtYW5jZSBtYWtlIHN1cmUgYm9keSBjb250ZW50IGlzIGluc2lkZSBhIHB1c2hlciBlbGVtZW50XCIsbW92ZWRTaWRlYmFyOlwiSGFkIHRvIG1vdmUgc2lkZWJhci4gRm9yIG9wdGltYWwgcGVyZm9ybWFuY2UgbWFrZSBzdXJlIHNpZGViYXIgYW5kIHB1c2hlciBhcmUgZGlyZWN0IGNoaWxkcmVuIG9mIHlvdXIgYm9keSB0YWdcIixvdmVybGF5OlwiVGhlIG92ZXJsYXkgc2V0dGluZyBpcyBubyBsb25nZXIgc3VwcG9ydGVkLCB1c2UgYW5pbWF0aW9uOiBvdmVybGF5XCIsbm90Rm91bmQ6XCJUaGVyZSB3ZXJlIG5vIGVsZW1lbnRzIHRoYXQgbWF0Y2hlZCB0aGUgc3BlY2lmaWVkIHNlbGVjdG9yXCJ9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxlLmZuLnN0aWNreT1mdW5jdGlvbihvKXt2YXIgYSxyPWUodGhpcykscz1yLnNlbGVjdG9yfHxcIlwiLGw9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1bXSx1PWFyZ3VtZW50c1swXSxkPVwic3RyaW5nXCI9PXR5cGVvZiB1LGY9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHIuZWFjaChmdW5jdGlvbigpe3ZhciByLG0sZyxwLGgsdj1lLmlzUGxhaW5PYmplY3Qobyk/ZS5leHRlbmQoITAse30sZS5mbi5zdGlja3kuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi5zdGlja3kuc2V0dGluZ3MpLGI9di5jbGFzc05hbWUseT12Lm5hbWVzcGFjZSx4PXYuZXJyb3IsQz1cIi5cIit5LHc9XCJtb2R1bGUtXCIreSxrPWUodGhpcyksUz1lKHQpLFQ9ZSh2LnNjcm9sbENvbnRleHQpLEE9KGsuc2VsZWN0b3J8fFwiXCIsay5kYXRhKHcpKSxSPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwwKX0sRT10aGlzO2g9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXtoLmRldGVybWluZUNvbnRhaW5lcigpLGguZGV0ZXJtaW5lQ29udGV4dCgpLGgudmVyYm9zZShcIkluaXRpYWxpemluZyBzdGlja3lcIix2LHIpLGguc2F2ZS5wb3NpdGlvbnMoKSxoLmNoZWNrRXJyb3JzKCksaC5iaW5kLmV2ZW50cygpLHYub2JzZXJ2ZUNoYW5nZXMmJmgub2JzZXJ2ZUNoYW5nZXMoKSxoLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7aC52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixoKSxBPWgsay5kYXRhKHcsaCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtoLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIGluc3RhbmNlXCIpLGgucmVzZXQoKSxnJiZnLmRpc2Nvbm5lY3QoKSxwJiZwLmRpc2Nvbm5lY3QoKSxTLm9mZihcImxvYWRcIitDLGguZXZlbnQubG9hZCkub2ZmKFwicmVzaXplXCIrQyxoLmV2ZW50LnJlc2l6ZSksVC5vZmYoXCJzY3JvbGxjaGFuZ2VcIitDLGguZXZlbnQuc2Nyb2xsY2hhbmdlKSxrLnJlbW92ZURhdGEodyl9LG9ic2VydmVDaGFuZ2VzOmZ1bmN0aW9uKCl7XCJNdXRhdGlvbk9ic2VydmVyXCJpbiB0JiYoZz1uZXcgTXV0YXRpb25PYnNlcnZlcihoLmV2ZW50LmRvY3VtZW50Q2hhbmdlZCkscD1uZXcgTXV0YXRpb25PYnNlcnZlcihoLmV2ZW50LmNoYW5nZWQpLGcub2JzZXJ2ZShuLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLHAub2JzZXJ2ZShFLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLHAub2JzZXJ2ZShtWzBdLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLGguZGVidWcoXCJTZXR0aW5nIHVwIG11dGF0aW9uIG9ic2VydmVyXCIscCkpfSxkZXRlcm1pbmVDb250YWluZXI6ZnVuY3Rpb24oKXtyPXYuY29udGFpbmVyP2Uodi5jb250YWluZXIpOmsub2Zmc2V0UGFyZW50KCl9LGRldGVybWluZUNvbnRleHQ6ZnVuY3Rpb24oKXtpZihtPXYuY29udGV4dD9lKHYuY29udGV4dCk6ciwwPT09bS5sZW5ndGgpcmV0dXJuIHZvaWQgaC5lcnJvcih4LmludmFsaWRDb250ZXh0LHYuY29udGV4dCxrKX0sY2hlY2tFcnJvcnM6ZnVuY3Rpb24oKXtpZihoLmlzLmhpZGRlbigpJiZoLmVycm9yKHgudmlzaWJsZSxrKSxoLmNhY2hlLmVsZW1lbnQuaGVpZ2h0PmguY2FjaGUuY29udGV4dC5oZWlnaHQpcmV0dXJuIGgucmVzZXQoKSx2b2lkIGguZXJyb3IoeC5lbGVtZW50U2l6ZSxrKX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7Uy5vbihcImxvYWRcIitDLGguZXZlbnQubG9hZCkub24oXCJyZXNpemVcIitDLGguZXZlbnQucmVzaXplKSxULm9mZihcInNjcm9sbFwiK0MpLm9uKFwic2Nyb2xsXCIrQyxoLmV2ZW50LnNjcm9sbCkub24oXCJzY3JvbGxjaGFuZ2VcIitDLGguZXZlbnQuc2Nyb2xsY2hhbmdlKX19LGV2ZW50OntjaGFuZ2VkOmZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChoLnRpbWVyKSxoLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLnZlcmJvc2UoXCJET00gdHJlZSBtb2RpZmllZCwgdXBkYXRpbmcgc3RpY2t5IG1lbnVcIixlKSxoLnJlZnJlc2goKX0sMTAwKX0sZG9jdW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKHQpe1tdLmZvckVhY2guY2FsbCh0LGZ1bmN0aW9uKHQpe3QucmVtb3ZlZE5vZGVzJiZbXS5mb3JFYWNoLmNhbGwodC5yZW1vdmVkTm9kZXMsZnVuY3Rpb24odCl7KHQ9PUV8fGUodCkuZmluZChFKS5sZW5ndGg+MCkmJihoLmRlYnVnKFwiRWxlbWVudCByZW1vdmVkIGZyb20gRE9NLCB0ZWFyaW5nIGRvd24gZXZlbnRzXCIpLGguZGVzdHJveSgpKX0pfSl9LGxvYWQ6ZnVuY3Rpb24oKXtoLnZlcmJvc2UoXCJQYWdlIGNvbnRlbnRzIGZpbmlzaGVkIGxvYWRpbmdcIiksUihoLnJlZnJlc2gpfSxyZXNpemU6ZnVuY3Rpb24oKXtoLnZlcmJvc2UoXCJXaW5kb3cgcmVzaXplZFwiKSxSKGgucmVmcmVzaCl9LHNjcm9sbDpmdW5jdGlvbigpe1IoZnVuY3Rpb24oKXtULnRyaWdnZXJIYW5kbGVyKFwic2Nyb2xsY2hhbmdlXCIrQyxULnNjcm9sbFRvcCgpKX0pfSxzY3JvbGxjaGFuZ2U6ZnVuY3Rpb24oZSx0KXtoLnN0aWNrKHQpLHYub25TY3JvbGwuY2FsbChFKX19LHJlZnJlc2g6ZnVuY3Rpb24oZSl7aC5yZXNldCgpLHYuY29udGV4dHx8aC5kZXRlcm1pbmVDb250ZXh0KCksZSYmaC5kZXRlcm1pbmVDb250YWluZXIoKSxoLnNhdmUucG9zaXRpb25zKCksaC5zdGljaygpLHYub25SZXBvc2l0aW9uLmNhbGwoRSl9LHN1cHBvcnRzOntzdGlja3k6ZnVuY3Rpb24oKXt2YXIgdD1lKFwiPGRpdi8+XCIpO3RbMF07cmV0dXJuIHQuYWRkQ2xhc3MoYi5zdXBwb3J0ZWQpLHQuY3NzKFwicG9zaXRpb25cIikubWF0Y2goXCJzdGlja3lcIil9fSxzYXZlOntsYXN0U2Nyb2xsOmZ1bmN0aW9uKGUpe2gubGFzdFNjcm9sbD1lfSxlbGVtZW50U2Nyb2xsOmZ1bmN0aW9uKGUpe2guZWxlbWVudFNjcm9sbD1lfSxwb3NpdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT17aGVpZ2h0OlQuaGVpZ2h0KCl9LHQ9e21hcmdpbjp7dG9wOnBhcnNlSW50KGsuY3NzKFwibWFyZ2luLXRvcFwiKSwxMCksYm90dG9tOnBhcnNlSW50KGsuY3NzKFwibWFyZ2luLWJvdHRvbVwiKSwxMCl9LG9mZnNldDprLm9mZnNldCgpLHdpZHRoOmsub3V0ZXJXaWR0aCgpLGhlaWdodDprLm91dGVySGVpZ2h0KCl9LG49e29mZnNldDptLm9mZnNldCgpLGhlaWdodDptLm91dGVySGVpZ2h0KCl9Oyh7aGVpZ2h0OnIub3V0ZXJIZWlnaHQoKX0pO2guaXMuc3RhbmRhcmRTY3JvbGwoKXx8KGguZGVidWcoXCJOb24tc3RhbmRhcmQgc2Nyb2xsLiBSZW1vdmluZyBzY3JvbGwgb2Zmc2V0IGZyb20gZWxlbWVudCBvZmZzZXRcIiksZS50b3A9VC5zY3JvbGxUb3AoKSxlLmxlZnQ9VC5zY3JvbGxMZWZ0KCksdC5vZmZzZXQudG9wKz1lLnRvcCxuLm9mZnNldC50b3ArPWUudG9wLHQub2Zmc2V0LmxlZnQrPWUubGVmdCxuLm9mZnNldC5sZWZ0Kz1lLmxlZnQpLGguY2FjaGU9e2ZpdHM6dC5oZWlnaHQ8ZS5oZWlnaHQsc2Nyb2xsQ29udGV4dDp7aGVpZ2h0OmUuaGVpZ2h0fSxlbGVtZW50OnttYXJnaW46dC5tYXJnaW4sdG9wOnQub2Zmc2V0LnRvcC10Lm1hcmdpbi50b3AsbGVmdDp0Lm9mZnNldC5sZWZ0LHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LGJvdHRvbTp0Lm9mZnNldC50b3ArdC5oZWlnaHR9LGNvbnRleHQ6e3RvcDpuLm9mZnNldC50b3AsaGVpZ2h0Om4uaGVpZ2h0LGJvdHRvbTpuLm9mZnNldC50b3Arbi5oZWlnaHR9fSxoLnNldC5jb250YWluZXJTaXplKCksaC5zZXQuc2l6ZSgpLGguc3RpY2soKSxoLmRlYnVnKFwiQ2FjaGluZyBlbGVtZW50IHBvc2l0aW9uc1wiLGguY2FjaGUpfX0sZ2V0OntkaXJlY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9XCJkb3duXCI7cmV0dXJuIGU9ZXx8VC5zY3JvbGxUb3AoKSxoLmxhc3RTY3JvbGwhPT1pJiYoaC5sYXN0U2Nyb2xsPGU/dD1cImRvd25cIjpoLmxhc3RTY3JvbGw+ZSYmKHQ9XCJ1cFwiKSksdH0sc2Nyb2xsQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fFQuc2Nyb2xsVG9wKCksaC5sYXN0U2Nyb2xsP2UtaC5sYXN0U2Nyb2xsOjB9LGN1cnJlbnRFbGVtZW50U2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIGguZWxlbWVudFNjcm9sbD9oLmVsZW1lbnRTY3JvbGw6aC5pcy50b3AoKT9NYXRoLmFicyhwYXJzZUludChrLmNzcyhcInRvcFwiKSwxMCkpfHwwOk1hdGguYWJzKHBhcnNlSW50KGsuY3NzKFwiYm90dG9tXCIpLDEwKSl8fDB9LGVsZW1lbnRTY3JvbGw6ZnVuY3Rpb24oZSl7ZT1lfHxULnNjcm9sbFRvcCgpO3ZhciB0PWguY2FjaGUuZWxlbWVudCxuPWguY2FjaGUuc2Nyb2xsQ29udGV4dCxpPWguZ2V0LnNjcm9sbENoYW5nZShlKSxvPXQuaGVpZ2h0LW4uaGVpZ2h0K3Yub2Zmc2V0LGE9aC5nZXQuY3VycmVudEVsZW1lbnRTY3JvbGwoKSxyPWEraTtyZXR1cm4gYT1oLmNhY2hlLmZpdHN8fHI8MD8wOnI+bz9vOnJ9fSxyZW1vdmU6e2xhc3RTY3JvbGw6ZnVuY3Rpb24oKXtkZWxldGUgaC5sYXN0U2Nyb2xsfSxlbGVtZW50U2Nyb2xsOmZ1bmN0aW9uKGUpe2RlbGV0ZSBoLmVsZW1lbnRTY3JvbGx9LG9mZnNldDpmdW5jdGlvbigpe2suY3NzKFwibWFyZ2luLXRvcFwiLFwiXCIpfX0sc2V0OntvZmZzZXQ6ZnVuY3Rpb24oKXtoLnZlcmJvc2UoXCJTZXR0aW5nIG9mZnNldCBvbiBlbGVtZW50XCIsdi5vZmZzZXQpLGsuY3NzKFwibWFyZ2luLXRvcFwiLHYub2Zmc2V0KX0sY29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3ZhciBlPXIuZ2V0KDApLnRhZ05hbWU7XCJIVE1MXCI9PT1lfHxcImJvZHlcIj09ZT9oLmRldGVybWluZUNvbnRhaW5lcigpOk1hdGguYWJzKHIub3V0ZXJIZWlnaHQoKS1oLmNhY2hlLmNvbnRleHQuaGVpZ2h0KT52LmppdHRlciYmKGguZGVidWcoXCJDb250ZXh0IGhhcyBwYWRkaW5nLCBzcGVjaWZ5aW5nIGV4YWN0IGhlaWdodCBmb3IgY29udGFpbmVyXCIsaC5jYWNoZS5jb250ZXh0LmhlaWdodCksci5jc3Moe2hlaWdodDpoLmNhY2hlLmNvbnRleHQuaGVpZ2h0fSkpfSxtaW5pbXVtU2l6ZTpmdW5jdGlvbigpe3ZhciBlPWguY2FjaGUuZWxlbWVudDtyLmNzcyhcIm1pbi1oZWlnaHRcIixlLmhlaWdodCl9LHNjcm9sbDpmdW5jdGlvbihlKXtoLmRlYnVnKFwiU2V0dGluZyBzY3JvbGwgb24gZWxlbWVudFwiLGUpLGguZWxlbWVudFNjcm9sbCE9ZSYmKGguaXMudG9wKCkmJmsuY3NzKFwiYm90dG9tXCIsXCJcIikuY3NzKFwidG9wXCIsLWUpLGguaXMuYm90dG9tKCkmJmsuY3NzKFwidG9wXCIsXCJcIikuY3NzKFwiYm90dG9tXCIsZSkpfSxzaXplOmZ1bmN0aW9uKCl7MCE9PWguY2FjaGUuZWxlbWVudC5oZWlnaHQmJjAhPT1oLmNhY2hlLmVsZW1lbnQud2lkdGgmJihFLnN0eWxlLnNldFByb3BlcnR5KFwid2lkdGhcIixoLmNhY2hlLmVsZW1lbnQud2lkdGgrXCJweFwiLFwiaW1wb3J0YW50XCIpLEUuc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIixoLmNhY2hlLmVsZW1lbnQuaGVpZ2h0K1wicHhcIixcImltcG9ydGFudFwiKSl9fSxpczp7c3RhbmRhcmRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gVFswXT09dH0sdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaGFzQ2xhc3MoYi50b3ApfSxib3R0b206ZnVuY3Rpb24oKXtyZXR1cm4gay5oYXNDbGFzcyhiLmJvdHRvbSl9LGluaXRpYWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiFoLmlzLmZpeGVkKCkmJiFoLmlzLmJvdW5kKCl9LGhpZGRlbjpmdW5jdGlvbigpe3JldHVybiFrLmlzKFwiOnZpc2libGVcIil9LGJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaGFzQ2xhc3MoYi5ib3VuZCl9LGZpeGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaGFzQ2xhc3MoYi5maXhlZCl9fSxzdGljazpmdW5jdGlvbihlKXt2YXIgdD1lfHxULnNjcm9sbFRvcCgpLG49aC5jYWNoZSxpPW4uZml0cyxvPW4uZWxlbWVudCxhPW4uc2Nyb2xsQ29udGV4dCxyPW4uY29udGV4dCxzPWguaXMuYm90dG9tKCkmJnYucHVzaGluZz92LmJvdHRvbU9mZnNldDp2Lm9mZnNldCxlPXt0b3A6dCtzLGJvdHRvbTp0K3MrYS5oZWlnaHR9LGw9KGguZ2V0LmRpcmVjdGlvbihlLnRvcCksaT8wOmguZ2V0LmVsZW1lbnRTY3JvbGwoZS50b3ApKSxjPSFpLHU9MCE9PW8uaGVpZ2h0O3UmJihoLmlzLmluaXRpYWxQb3NpdGlvbigpP2UudG9wPj1yLmJvdHRvbT8oaC5kZWJ1ZyhcIkluaXRpYWwgZWxlbWVudCBwb3NpdGlvbiBpcyBib3R0b20gb2YgY29udGFpbmVyXCIpLGguYmluZEJvdHRvbSgpKTplLnRvcD5vLnRvcCYmKG8uaGVpZ2h0K2UudG9wLWw+PXIuYm90dG9tPyhoLmRlYnVnKFwiSW5pdGlhbCBlbGVtZW50IHBvc2l0aW9uIGlzIGJvdHRvbSBvZiBjb250YWluZXJcIiksaC5iaW5kQm90dG9tKCkpOihoLmRlYnVnKFwiSW5pdGlhbCBlbGVtZW50IHBvc2l0aW9uIGlzIGZpeGVkXCIpLGguZml4VG9wKCkpKTpoLmlzLmZpeGVkKCk/aC5pcy50b3AoKT9lLnRvcDw9by50b3A/KGguZGVidWcoXCJGaXhlZCBlbGVtZW50IHJlYWNoZWQgdG9wIG9mIGNvbnRhaW5lclwiKSxoLnNldEluaXRpYWxQb3NpdGlvbigpKTpvLmhlaWdodCtlLnRvcC1sPj1yLmJvdHRvbT8oaC5kZWJ1ZyhcIkZpeGVkIGVsZW1lbnQgcmVhY2hlZCBib3R0b20gb2YgY29udGFpbmVyXCIpLGguYmluZEJvdHRvbSgpKTpjJiYoaC5zZXQuc2Nyb2xsKGwpLGguc2F2ZS5sYXN0U2Nyb2xsKGUudG9wKSxoLnNhdmUuZWxlbWVudFNjcm9sbChsKSk6aC5pcy5ib3R0b20oKSYmKGUuYm90dG9tLW8uaGVpZ2h0PD1vLnRvcD8oaC5kZWJ1ZyhcIkJvdHRvbSBmaXhlZCByYWlsIGhhcyByZWFjaGVkIHRvcCBvZiBjb250YWluZXJcIiksaC5zZXRJbml0aWFsUG9zaXRpb24oKSk6ZS5ib3R0b20+PXIuYm90dG9tPyhoLmRlYnVnKFwiQm90dG9tIGZpeGVkIHJhaWwgaGFzIHJlYWNoZWQgYm90dG9tIG9mIGNvbnRhaW5lclwiKSxoLmJpbmRCb3R0b20oKSk6YyYmKGguc2V0LnNjcm9sbChsKSxoLnNhdmUubGFzdFNjcm9sbChlLnRvcCksaC5zYXZlLmVsZW1lbnRTY3JvbGwobCkpKTpoLmlzLmJvdHRvbSgpJiYoZS50b3A8PW8udG9wPyhoLmRlYnVnKFwiSnVtcGVkIGZyb20gYm90dG9tIGZpeGVkIHRvIHRvcCBmaXhlZCwgbW9zdCBsaWtlbHkgdXNlZCBob21lL2VuZCBidXR0b25cIiksaC5zZXRJbml0aWFsUG9zaXRpb24oKSk6di5wdXNoaW5nP2guaXMuYm91bmQoKSYmZS5ib3R0b208PXIuYm90dG9tJiYoaC5kZWJ1ZyhcIkZpeGluZyBib3R0b20gYXR0YWNoZWQgZWxlbWVudCB0byBib3R0b20gb2YgYnJvd3Nlci5cIiksaC5maXhCb3R0b20oKSk6aC5pcy5ib3VuZCgpJiZlLnRvcDw9ci5ib3R0b20tby5oZWlnaHQmJihoLmRlYnVnKFwiRml4aW5nIGJvdHRvbSBhdHRhY2hlZCBlbGVtZW50IHRvIHRvcCBvZiBicm93c2VyLlwiKSxoLmZpeFRvcCgpKSkpfSxiaW5kVG9wOmZ1bmN0aW9uKCl7aC5kZWJ1ZyhcIkJpbmRpbmcgZWxlbWVudCB0byB0b3Agb2YgcGFyZW50IGNvbnRhaW5lclwiKSxoLnJlbW92ZS5vZmZzZXQoKSxrLmNzcyh7bGVmdDpcIlwiLHRvcDpcIlwiLG1hcmdpbkJvdHRvbTpcIlwifSkucmVtb3ZlQ2xhc3MoYi5maXhlZCkucmVtb3ZlQ2xhc3MoYi5ib3R0b20pLmFkZENsYXNzKGIuYm91bmQpLmFkZENsYXNzKGIudG9wKSx2Lm9uVG9wLmNhbGwoRSksdi5vblVuc3RpY2suY2FsbChFKX0sYmluZEJvdHRvbTpmdW5jdGlvbigpe2guZGVidWcoXCJCaW5kaW5nIGVsZW1lbnQgdG8gYm90dG9tIG9mIHBhcmVudCBjb250YWluZXJcIiksaC5yZW1vdmUub2Zmc2V0KCksay5jc3Moe2xlZnQ6XCJcIix0b3A6XCJcIn0pLnJlbW92ZUNsYXNzKGIuZml4ZWQpLnJlbW92ZUNsYXNzKGIudG9wKS5hZGRDbGFzcyhiLmJvdW5kKS5hZGRDbGFzcyhiLmJvdHRvbSksdi5vbkJvdHRvbS5jYWxsKEUpLHYub25VbnN0aWNrLmNhbGwoRSl9LHNldEluaXRpYWxQb3NpdGlvbjpmdW5jdGlvbigpe2guZGVidWcoXCJSZXR1cm5pbmcgdG8gaW5pdGlhbCBwb3NpdGlvblwiKSxoLnVuZml4KCksaC51bmJpbmQoKX0sZml4VG9wOmZ1bmN0aW9uKCl7aC5kZWJ1ZyhcIkZpeGluZyBlbGVtZW50IHRvIHRvcCBvZiBwYWdlXCIpLGguc2V0Lm1pbmltdW1TaXplKCksaC5zZXQub2Zmc2V0KCksay5jc3Moe2xlZnQ6aC5jYWNoZS5lbGVtZW50LmxlZnQsYm90dG9tOlwiXCIsbWFyZ2luQm90dG9tOlwiXCJ9KS5yZW1vdmVDbGFzcyhiLmJvdW5kKS5yZW1vdmVDbGFzcyhiLmJvdHRvbSkuYWRkQ2xhc3MoYi5maXhlZCkuYWRkQ2xhc3MoYi50b3ApLHYub25TdGljay5jYWxsKEUpfSxmaXhCb3R0b206ZnVuY3Rpb24oKXtoLmRlYnVnKFwiU3RpY2tpbmcgZWxlbWVudCB0byBib3R0b20gb2YgcGFnZVwiKSxoLnNldC5taW5pbXVtU2l6ZSgpLGguc2V0Lm9mZnNldCgpLGsuY3NzKHtsZWZ0OmguY2FjaGUuZWxlbWVudC5sZWZ0LGJvdHRvbTpcIlwiLG1hcmdpbkJvdHRvbTpcIlwifSkucmVtb3ZlQ2xhc3MoYi5ib3VuZCkucmVtb3ZlQ2xhc3MoYi50b3ApLmFkZENsYXNzKGIuZml4ZWQpLmFkZENsYXNzKGIuYm90dG9tKSx2Lm9uU3RpY2suY2FsbChFKX0sdW5iaW5kOmZ1bmN0aW9uKCl7aC5pcy5ib3VuZCgpJiYoaC5kZWJ1ZyhcIlJlbW92aW5nIGNvbnRhaW5lciBib3VuZCBwb3NpdGlvbiBvbiBlbGVtZW50XCIpLGgucmVtb3ZlLm9mZnNldCgpLGsucmVtb3ZlQ2xhc3MoYi5ib3VuZCkucmVtb3ZlQ2xhc3MoYi50b3ApLnJlbW92ZUNsYXNzKGIuYm90dG9tKSl9LHVuZml4OmZ1bmN0aW9uKCl7aC5pcy5maXhlZCgpJiYoaC5kZWJ1ZyhcIlJlbW92aW5nIGZpeGVkIHBvc2l0aW9uIG9uIGVsZW1lbnRcIiksaC5yZW1vdmUub2Zmc2V0KCksay5yZW1vdmVDbGFzcyhiLmZpeGVkKS5yZW1vdmVDbGFzcyhiLnRvcCkucmVtb3ZlQ2xhc3MoYi5ib3R0b20pLHYub25VbnN0aWNrLmNhbGwoRSkpfSxyZXNldDpmdW5jdGlvbigpe2guZGVidWcoXCJSZXNldHRpbmcgZWxlbWVudHMgcG9zaXRpb25cIiksaC51bmJpbmQoKSxoLnVuZml4KCksaC5yZXNldENTUygpLGgucmVtb3ZlLm9mZnNldCgpLGgucmVtb3ZlLmxhc3RTY3JvbGwoKX0scmVzZXRDU1M6ZnVuY3Rpb24oKXtrLmNzcyh7d2lkdGg6XCJcIixoZWlnaHQ6XCJcIn0pLHIuY3NzKHtoZWlnaHQ6XCJcIn0pfSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLHYsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gdlt0XTt2W3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxoLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGhbdF07aFt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXshdi5zaWxlbnQmJnYuZGVidWcmJih2LnBlcmZvcm1hbmNlP2gucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGguZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSx2Lm5hbWUrXCI6XCIpLGguZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXshdi5zaWxlbnQmJnYudmVyYm9zZSYmdi5kZWJ1ZyYmKHYucGVyZm9ybWFuY2U/aC5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooaC52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsdi5uYW1lK1wiOlwiKSxoLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7di5zaWxlbnR8fChoLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLHYubmFtZStcIjpcIiksaC5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTt2LnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPWx8fHQsbj10LWksbD10LGMucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDpFLFwiRXhlY3V0aW9uIFRpbWVcIjpufSkpLGNsZWFyVGltZW91dChoLnBlcmZvcm1hbmNlLnRpbWVyKSxoLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQoaC5wZXJmb3JtYW5jZS5kaXNwbGF5LDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9di5uYW1lK1wiOlwiLG49MDtsPSExLGNsZWFyVGltZW91dChoLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2goYyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHMmJih0Kz1cIiAnXCIrcytcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmMubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShjKTplLmVhY2goYyxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGM9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsbCxjPUE7cmV0dXJuIG49bnx8ZixvPUV8fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pJiYocz1jW29dLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkobyxuKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KGEpP2EucHVzaChsKTphIT09aT9hPVthLGxdOmwhPT1pJiYoYT1sKSxzfX0sZD8oQT09PWkmJmguaW5pdGlhbGl6ZSgpLGguaW52b2tlKHUpKTooQSE9PWkmJkEuaW52b2tlKFwiZGVzdHJveVwiKSxoLmluaXRpYWxpemUoKSl9KSxhIT09aT9hOnRoaXN9LGUuZm4uc3RpY2t5LnNldHRpbmdzPXtuYW1lOlwiU3RpY2t5XCIsbmFtZXNwYWNlOlwic3RpY2t5XCIsc2lsZW50OiExLGRlYnVnOiExLHZlcmJvc2U6ITAscGVyZm9ybWFuY2U6ITAscHVzaGluZzohMSxjb250ZXh0OiExLGNvbnRhaW5lcjohMSxzY3JvbGxDb250ZXh0OnQsb2Zmc2V0OjAsYm90dG9tT2Zmc2V0OjAsaml0dGVyOjUsb2JzZXJ2ZUNoYW5nZXM6ITEsb25SZXBvc2l0aW9uOmZ1bmN0aW9uKCl7fSxvblNjcm9sbDpmdW5jdGlvbigpe30sb25TdGljazpmdW5jdGlvbigpe30sb25VbnN0aWNrOmZ1bmN0aW9uKCl7fSxvblRvcDpmdW5jdGlvbigpe30sb25Cb3R0b206ZnVuY3Rpb24oKXt9LGVycm9yOntjb250YWluZXI6XCJTdGlja3kgZWxlbWVudCBtdXN0IGJlIGluc2lkZSBhIHJlbGF0aXZlIGNvbnRhaW5lclwiLHZpc2libGU6XCJFbGVtZW50IGlzIGhpZGRlbiwgeW91IG11c3QgY2FsbCByZWZyZXNoIGFmdGVyIGVsZW1lbnQgYmVjb21lcyB2aXNpYmxlLiBVc2Ugc2lsZW50IHNldHRpbmcgdG8gc3VycHJlc3MgdGhpcyB3YXJuaW5nIGluIHByb2R1Y3Rpb24uXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwiLGludmFsaWRDb250ZXh0OlwiQ29udGV4dCBzcGVjaWZpZWQgZG9lcyBub3QgZXhpc3RcIixlbGVtZW50U2l6ZTpcIlN0aWNreSBlbGVtZW50IGlzIGxhcmdlciB0aGFuIGl0cyBjb250YWluZXIsIGNhbm5vdCBjcmVhdGUgc3RpY2t5LlwifSxjbGFzc05hbWU6e2JvdW5kOlwiYm91bmRcIixmaXhlZDpcImZpeGVkXCIsc3VwcG9ydGVkOlwibmF0aXZlXCIsdG9wOlwidG9wXCIsYm90dG9tOlwiYm90dG9tXCJ9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxlLmZuLnRhYj1mdW5jdGlvbihvKXt2YXIgYSxyPWUoZS5pc0Z1bmN0aW9uKHRoaXMpP3Q6dGhpcykscz1yLnNlbGVjdG9yfHxcIlwiLGw9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1bXSx1PWFyZ3VtZW50c1swXSxkPVwic3RyaW5nXCI9PXR5cGVvZiB1LGY9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbT0hMTtyZXR1cm4gci5lYWNoKGZ1bmN0aW9uKCl7dmFyIGcscCxoLHYsYix5LHg9ZS5pc1BsYWluT2JqZWN0KG8pP2UuZXh0ZW5kKCEwLHt9LGUuZm4udGFiLnNldHRpbmdzLG8pOmUuZXh0ZW5kKHt9LGUuZm4udGFiLnNldHRpbmdzKSxDPXguY2xhc3NOYW1lLHc9eC5tZXRhZGF0YSxrPXguc2VsZWN0b3IsUz14LmVycm9yLFQ9XCIuXCIreC5uYW1lc3BhY2UsQT1cIm1vZHVsZS1cIit4Lm5hbWVzcGFjZSxSPWUodGhpcyksRT17fSxQPSEwLEY9MCxPPXRoaXMsRD1SLmRhdGEoQSk7Yj17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe2IuZGVidWcoXCJJbml0aWFsaXppbmcgdGFiIG1lbnUgaXRlbVwiLFIpLGIuZml4LmNhbGxiYWNrcygpLGIuZGV0ZXJtaW5lVGFicygpLGIuZGVidWcoXCJEZXRlcm1pbmluZyB0YWJzXCIseC5jb250ZXh0LHApLHguYXV0byYmYi5zZXQuYXV0bygpLGIuYmluZC5ldmVudHMoKSx4Lmhpc3RvcnkmJiFtJiYoYi5pbml0aWFsaXplSGlzdG9yeSgpLG09ITApLGIuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtiLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIG1vZHVsZVwiLGIpLEQ9YixSLmRhdGEoQSxiKX0sZGVzdHJveTpmdW5jdGlvbigpe2IuZGVidWcoXCJEZXN0cm95aW5nIHRhYnNcIixSKSxSLnJlbW92ZURhdGEoQSkub2ZmKFQpfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXtlLmlzV2luZG93KE8pfHwoYi5kZWJ1ZyhcIkF0dGFjaGluZyB0YWIgYWN0aXZhdGlvbiBldmVudHMgdG8gZWxlbWVudFwiLFIpLFIub24oXCJjbGlja1wiK1QsYi5ldmVudC5jbGljaykpfX0sZGV0ZXJtaW5lVGFiczpmdW5jdGlvbigpe3ZhciB0O1wicGFyZW50XCI9PT14LmNvbnRleHQ/KFIuY2xvc2VzdChrLnVpKS5sZW5ndGg+MD8odD1SLmNsb3Nlc3Qoay51aSksYi52ZXJib3NlKFwiVXNpbmcgY2xvc2VzdCBVSSBlbGVtZW50IGFzIHBhcmVudFwiLHQpKTp0PVIsZz10LnBhcmVudCgpLGIudmVyYm9zZShcIkRldGVybWluZWQgcGFyZW50IGVsZW1lbnQgZm9yIGNyZWF0aW5nIGNvbnRleHRcIixnKSk6eC5jb250ZXh0PyhnPWUoeC5jb250ZXh0KSxiLnZlcmJvc2UoXCJVc2luZyBzZWxlY3RvciBmb3IgdGFiIGNvbnRleHRcIix4LmNvbnRleHQsZykpOmc9ZShcImJvZHlcIikseC5jaGlsZHJlbk9ubHk/KHA9Zy5jaGlsZHJlbihrLnRhYnMpLGIuZGVidWcoXCJTZWFyY2hpbmcgdGFiIGNvbnRleHQgY2hpbGRyZW4gZm9yIHRhYnNcIixnLHApKToocD1nLmZpbmQoay50YWJzKSxiLmRlYnVnKFwiU2VhcmNoaW5nIHRhYiBjb250ZXh0IGZvciB0YWJzXCIsZyxwKSl9LGZpeDp7Y2FsbGJhY2tzOmZ1bmN0aW9uKCl7ZS5pc1BsYWluT2JqZWN0KG8pJiYoby5vblRhYkxvYWR8fG8ub25UYWJJbml0KSYmKG8ub25UYWJMb2FkJiYoby5vbkxvYWQ9by5vblRhYkxvYWQsZGVsZXRlIG8ub25UYWJMb2FkLGIuZXJyb3IoUy5sZWdhY3lMb2FkLG8ub25Mb2FkKSksby5vblRhYkluaXQmJihvLm9uRmlyc3RMb2FkPW8ub25UYWJJbml0LGRlbGV0ZSBvLm9uVGFiSW5pdCxiLmVycm9yKFMubGVnYWN5SW5pdCxvLm9uRmlyc3RMb2FkKSkseD1lLmV4dGVuZCghMCx7fSxlLmZuLnRhYi5zZXR0aW5ncyxvKSl9fSxpbml0aWFsaXplSGlzdG9yeTpmdW5jdGlvbigpe2lmKGIuZGVidWcoXCJJbml0aWFsaXppbmcgcGFnZSBzdGF0ZVwiKSxlLmFkZHJlc3M9PT1pKXJldHVybiBiLmVycm9yKFMuc3RhdGUpLCExO2lmKFwic3RhdGVcIj09eC5oaXN0b3J5VHlwZSl7aWYoYi5kZWJ1ZyhcIlVzaW5nIEhUTUw1IHRvIG1hbmFnZSBzdGF0ZVwiKSx4LnBhdGg9PT0hMSlyZXR1cm4gYi5lcnJvcihTLnBhdGgpLCExO2UuYWRkcmVzcy5oaXN0b3J5KCEwKS5zdGF0ZSh4LnBhdGgpfWUuYWRkcmVzcy5iaW5kKFwiY2hhbmdlXCIsYi5ldmVudC5oaXN0b3J5LmNoYW5nZSl9LGV2ZW50OntjbGljazpmdW5jdGlvbih0KXt2YXIgbj1lKHRoaXMpLmRhdGEody50YWIpO24hPT1pPyh4Lmhpc3Rvcnk/KGIudmVyYm9zZShcIlVwZGF0aW5nIHBhZ2Ugc3RhdGVcIix0KSxlLmFkZHJlc3MudmFsdWUobikpOihiLnZlcmJvc2UoXCJDaGFuZ2luZyB0YWJcIix0KSxiLmNoYW5nZVRhYihuKSksdC5wcmV2ZW50RGVmYXVsdCgpKTpiLmRlYnVnKFwiTm8gdGFiIHNwZWNpZmllZFwiKX0saGlzdG9yeTp7Y2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBuPXQucGF0aE5hbWVzLmpvaW4oXCIvXCIpfHxiLmdldC5pbml0aWFsUGF0aCgpLG89eC50ZW1wbGF0ZXMuZGV0ZXJtaW5lVGl0bGUobil8fCExO2IucGVyZm9ybWFuY2UuZGlzcGxheSgpLGIuZGVidWcoXCJIaXN0b3J5IGNoYW5nZSBldmVudFwiLG4sdCkseT10LG4hPT1pJiZiLmNoYW5nZVRhYihuKSxvJiZlLmFkZHJlc3MudGl0bGUobyl9fX0scmVmcmVzaDpmdW5jdGlvbigpe2gmJihiLmRlYnVnKFwiUmVmcmVzaGluZyB0YWJcIixoKSxiLmNoYW5nZVRhYihoKSl9LGNhY2hlOntyZWFkOmZ1bmN0aW9uKGUpe3JldHVybiBlIT09aSYmRVtlXX0sYWRkOmZ1bmN0aW9uKGUsdCl7ZT1lfHxoLGIuZGVidWcoXCJBZGRpbmcgY2FjaGVkIGNvbnRlbnQgZm9yXCIsZSksRVtlXT10fSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZT1lfHxoLGIuZGVidWcoXCJSZW1vdmluZyBjYWNoZWQgY29udGVudCBmb3JcIixlKSxkZWxldGUgRVtlXX19LHNldDp7YXV0bzpmdW5jdGlvbigpe3ZhciB0PVwic3RyaW5nXCI9PXR5cGVvZiB4LnBhdGg/eC5wYXRoLnJlcGxhY2UoL1xcLyQvLFwiXCIpK1wiL3skdGFifVwiOlwiL3skdGFifVwiO2IudmVyYm9zZShcIlNldHRpbmcgdXAgYXV0b21hdGljIHRhYiByZXRyaWV2YWwgZnJvbSBzZXJ2ZXJcIix0KSxlLmlzUGxhaW5PYmplY3QoeC5hcGlTZXR0aW5ncyk/eC5hcGlTZXR0aW5ncy51cmw9dDp4LmFwaVNldHRpbmdzPXt1cmw6dH19LGxvYWRpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9Yi5nZXQudGFiRWxlbWVudChlKSxuPXQuaGFzQ2xhc3MoQy5sb2FkaW5nKTtufHwoYi52ZXJib3NlKFwiU2V0dGluZyBsb2FkaW5nIHN0YXRlIGZvclwiLHQpLHQuYWRkQ2xhc3MoQy5sb2FkaW5nKS5zaWJsaW5ncyhwKS5yZW1vdmVDbGFzcyhDLmFjdGl2ZStcIiBcIitDLmxvYWRpbmcpLHQubGVuZ3RoPjAmJngub25SZXF1ZXN0LmNhbGwodFswXSxlKSl9LHN0YXRlOmZ1bmN0aW9uKHQpe2UuYWRkcmVzcy52YWx1ZSh0KX19LGNoYW5nZVRhYjpmdW5jdGlvbihuKXt2YXIgaT10Lmhpc3RvcnkmJnQuaGlzdG9yeS5wdXNoU3RhdGUsbz1pJiZ4Lmlnbm9yZUZpcnN0TG9hZCYmUCxhPXguYXV0b3x8ZS5pc1BsYWluT2JqZWN0KHguYXBpU2V0dGluZ3MpLHI9YSYmIW8/Yi51dGlsaXRpZXMucGF0aFRvQXJyYXkobik6Yi5nZXQuZGVmYXVsdFBhdGhBcnJheShuKTtuPWIudXRpbGl0aWVzLmFycmF5VG9QYXRoKHIpLGUuZWFjaChyLGZ1bmN0aW9uKHQsaSl7dmFyIHMsbCxjLHUsZD1yLnNsaWNlKDAsdCsxKSxmPWIudXRpbGl0aWVzLmFycmF5VG9QYXRoKGQpLG09Yi5pcy50YWIoZikscD10KzE9PXIubGVuZ3RoLGs9Yi5nZXQudGFiRWxlbWVudChmKTtpZihiLnZlcmJvc2UoXCJMb29raW5nIGZvciB0YWJcIixpKSxtKXtpZihiLnZlcmJvc2UoXCJUYWIgd2FzIGZvdW5kXCIsaSksaD1mLHY9Yi51dGlsaXRpZXMuZmlsdGVyQXJyYXkocixkKSxwP3U9ITA6KGw9ci5zbGljZSgwLHQrMiksYz1iLnV0aWxpdGllcy5hcnJheVRvUGF0aChsKSx1PSFiLmlzLnRhYihjKSx1JiZiLnZlcmJvc2UoXCJUYWIgcGFyYW1ldGVycyBmb3VuZFwiLGwpKSx1JiZhKXJldHVybiBvPyhiLmRlYnVnKFwiSWdub3JpbmcgcmVtb3RlIGNvbnRlbnQgb24gZmlyc3QgdGFiIGxvYWRcIixmKSxQPSExLGIuY2FjaGUuYWRkKG4say5odG1sKCkpLGIuYWN0aXZhdGUuYWxsKGYpLHgub25GaXJzdExvYWQuY2FsbChrWzBdLGYsdix5KSx4Lm9uTG9hZC5jYWxsKGtbMF0sZix2LHkpKTooYi5hY3RpdmF0ZS5uYXZpZ2F0aW9uKGYpLGIuZmV0Y2guY29udGVudChmLG4pKSwhMTtiLmRlYnVnKFwiT3BlbmVkIGxvY2FsIHRhYlwiLGYpLGIuYWN0aXZhdGUuYWxsKGYpLGIuY2FjaGUucmVhZChmKXx8KGIuY2FjaGUuYWRkKGYsITApLGIuZGVidWcoXCJGaXJzdCB0aW1lIHRhYiBsb2FkZWQgY2FsbGluZyB0YWIgaW5pdFwiKSx4Lm9uRmlyc3RMb2FkLmNhbGwoa1swXSxmLHYseSkpLHgub25Mb2FkLmNhbGwoa1swXSxmLHYseSl9ZWxzZXtpZihuLnNlYXJjaChcIi9cIikhPS0xfHxcIlwiPT09bilyZXR1cm4gYi5lcnJvcihTLm1pc3NpbmdUYWIsUixnLGYpLCExO2lmKHM9ZShcIiNcIituKycsIGFbbmFtZT1cIicrbisnXCJdJyksZj1zLmNsb3Nlc3QoXCJbZGF0YS10YWJdXCIpLmRhdGEody50YWIpLGs9Yi5nZXQudGFiRWxlbWVudChmKSxzJiZzLmxlbmd0aD4wJiZmKXJldHVybiBiLmRlYnVnKFwiQW5jaG9yIGxpbmsgdXNlZCwgb3BlbmluZyBwYXJlbnQgdGFiXCIsayxzKSxrLmhhc0NsYXNzKEMuYWN0aXZlKXx8c2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2Nyb2xsVG8ocyl9LDApLGIuYWN0aXZhdGUuYWxsKGYpLGIuY2FjaGUucmVhZChmKXx8KGIuY2FjaGUuYWRkKGYsITApLGIuZGVidWcoXCJGaXJzdCB0aW1lIHRhYiBsb2FkZWQgY2FsbGluZyB0YWIgaW5pdFwiKSx4Lm9uRmlyc3RMb2FkLmNhbGwoa1swXSxmLHYseSkpLHgub25Mb2FkLmNhbGwoa1swXSxmLHYseSksITF9fSl9LHNjcm9sbFRvOmZ1bmN0aW9uKHQpe3ZhciBpPSEhKHQmJnQubGVuZ3RoPjApJiZ0Lm9mZnNldCgpLnRvcDtpIT09ITEmJihiLmRlYnVnKFwiRm9yY2luZyBzY3JvbGwgdG8gYW4gaW4tcGFnZSBsaW5rIGluIGEgaGlkZGVuIHRhYlwiLGksdCksZShuKS5zY3JvbGxUb3AoaSkpfSx1cGRhdGU6e2NvbnRlbnQ6ZnVuY3Rpb24odCxuLG8pe3ZhciBhPWIuZ2V0LnRhYkVsZW1lbnQodCkscj1hWzBdO289byE9PWk/bzp4LmV2YWx1YXRlU2NyaXB0cyxcInN0cmluZ1wiPT10eXBlb2YgeC5jYWNoZVR5cGUmJlwiZG9tXCI9PXguY2FjaGVUeXBlLnRvTG93ZXJDYXNlKCkmJlwic3RyaW5nXCIhPXR5cGVvZiBuP2EuZW1wdHkoKS5hcHBlbmQoZShuKS5jbG9uZSghMCkpOm8/KGIuZGVidWcoXCJVcGRhdGluZyBIVE1MIGFuZCBldmFsdWF0aW5nIGlubGluZSBzY3JpcHRzXCIsdCxuKSxhLmh0bWwobikpOihiLmRlYnVnKFwiVXBkYXRpbmcgSFRNTFwiLHQsbiksci5pbm5lckhUTUw9bil9fSxmZXRjaDp7Y29udGVudDpmdW5jdGlvbih0LG4pe3ZhciBvLGEscj1iLmdldC50YWJFbGVtZW50KHQpLHM9e2RhdGFUeXBlOlwiaHRtbFwiLGVuY29kZVBhcmFtZXRlcnM6ITEsb246XCJub3dcIixjYWNoZTp4LmFsd2F5c1JlZnJlc2gsaGVhZGVyczp7XCJYLVJlbW90ZVwiOiEwfSxvblN1Y2Nlc3M6ZnVuY3Rpb24oZSl7XCJyZXNwb25zZVwiPT14LmNhY2hlVHlwZSYmYi5jYWNoZS5hZGQobixlKSxiLnVwZGF0ZS5jb250ZW50KHQsZSksdD09aD8oYi5kZWJ1ZyhcIkNvbnRlbnQgbG9hZGVkXCIsdCksYi5hY3RpdmF0ZS50YWIodCkpOmIuZGVidWcoXCJDb250ZW50IGxvYWRlZCBpbiBiYWNrZ3JvdW5kXCIsdCkseC5vbkZpcnN0TG9hZC5jYWxsKHJbMF0sdCx2LHkpLHgub25Mb2FkLmNhbGwoclswXSx0LHYseSksXCJzdHJpbmdcIj09dHlwZW9mIHguY2FjaGVUeXBlJiZcImRvbVwiPT14LmNhY2hlVHlwZS50b0xvd2VyQ2FzZSgpJiZyLmNoaWxkcmVuKCkubGVuZ3RoPjA/c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPXIuY2hpbGRyZW4oKS5jbG9uZSghMCk7ZT1lLm5vdChcInNjcmlwdFwiKSxiLmNhY2hlLmFkZChuLGUpfSwwKTpiLmNhY2hlLmFkZChuLHIuaHRtbCgpKX0sdXJsRGF0YTp7dGFiOm59fSxsPXIuYXBpKFwiZ2V0IHJlcXVlc3RcIil8fCExLGM9bCYmXCJwZW5kaW5nXCI9PT1sLnN0YXRlKCk7bj1ufHx0LGE9Yi5jYWNoZS5yZWFkKG4pLHguY2FjaGUmJmE/KGIuYWN0aXZhdGUudGFiKHQpLGIuZGVidWcoXCJBZGRpbmcgY2FjaGVkIGNvbnRlbnRcIixuKSxcIm9uY2VcIj09eC5ldmFsdWF0ZVNjcmlwdHM/Yi51cGRhdGUuY29udGVudCh0LGEsITEpOmIudXBkYXRlLmNvbnRlbnQodCxhKSx4Lm9uTG9hZC5jYWxsKHJbMF0sdCx2LHkpKTpjPyhiLnNldC5sb2FkaW5nKHQpLGIuZGVidWcoXCJDb250ZW50IGlzIGFscmVhZHkgbG9hZGluZ1wiLG4pKTplLmFwaSE9PWk/KG89ZS5leHRlbmQoITAse30seC5hcGlTZXR0aW5ncyxzKSxiLmRlYnVnKFwiUmV0cmlldmluZyByZW1vdGUgY29udGVudFwiLG4sbyksYi5zZXQubG9hZGluZyh0KSxyLmFwaShvKSk6Yi5lcnJvcihTLmFwaSl9fSxhY3RpdmF0ZTp7YWxsOmZ1bmN0aW9uKGUpe2IuYWN0aXZhdGUudGFiKGUpLGIuYWN0aXZhdGUubmF2aWdhdGlvbihlKX0sdGFiOmZ1bmN0aW9uKGUpe3ZhciB0PWIuZ2V0LnRhYkVsZW1lbnQoZSksbj1cInNpYmxpbmdzXCI9PXguZGVhY3RpdmF0ZT90LnNpYmxpbmdzKHApOnAubm90KHQpLGk9dC5oYXNDbGFzcyhDLmFjdGl2ZSk7Yi52ZXJib3NlKFwiU2hvd2luZyB0YWIgY29udGVudCBmb3JcIix0KSxpfHwodC5hZGRDbGFzcyhDLmFjdGl2ZSksbi5yZW1vdmVDbGFzcyhDLmFjdGl2ZStcIiBcIitDLmxvYWRpbmcpLHQubGVuZ3RoPjAmJngub25WaXNpYmxlLmNhbGwodFswXSxlKSl9LG5hdmlnYXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9Yi5nZXQubmF2RWxlbWVudChlKSxuPVwic2libGluZ3NcIj09eC5kZWFjdGl2YXRlP3Quc2libGluZ3Mocik6ci5ub3QodCksaT10Lmhhc0NsYXNzKEMuYWN0aXZlKTtiLnZlcmJvc2UoXCJBY3RpdmF0aW5nIHRhYiBuYXZpZ2F0aW9uIGZvclwiLHQsZSksaXx8KHQuYWRkQ2xhc3MoQy5hY3RpdmUpLG4ucmVtb3ZlQ2xhc3MoQy5hY3RpdmUrXCIgXCIrQy5sb2FkaW5nKSl9fSxkZWFjdGl2YXRlOnthbGw6ZnVuY3Rpb24oKXtiLmRlYWN0aXZhdGUubmF2aWdhdGlvbigpLGIuZGVhY3RpdmF0ZS50YWJzKCl9LG5hdmlnYXRpb246ZnVuY3Rpb24oKXtyLnJlbW92ZUNsYXNzKEMuYWN0aXZlKX0sdGFiczpmdW5jdGlvbigpe3AucmVtb3ZlQ2xhc3MoQy5hY3RpdmUrXCIgXCIrQy5sb2FkaW5nKX19LGlzOnt0YWI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1pJiZiLmdldC50YWJFbGVtZW50KGUpLmxlbmd0aD4wfX0sZ2V0Ontpbml0aWFsUGF0aDpmdW5jdGlvbigpe3JldHVybiByLmVxKDApLmRhdGEody50YWIpfHxwLmVxKDApLmRhdGEody50YWIpfSxwYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIGUuYWRkcmVzcy52YWx1ZSgpfSxkZWZhdWx0UGF0aEFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBiLnV0aWxpdGllcy5wYXRoVG9BcnJheShiLmdldC5kZWZhdWx0UGF0aChlKSl9LGRlZmF1bHRQYXRoOmZ1bmN0aW9uKGUpe3ZhciB0PXIuZmlsdGVyKFwiW2RhdGEtXCIrdy50YWIrJ149XCInK2UrJy9cIl0nKS5lcSgwKSxuPXQuZGF0YSh3LnRhYil8fCExO2lmKG4pe2lmKGIuZGVidWcoXCJGb3VuZCBkZWZhdWx0IHRhYlwiLG4pLEY8eC5tYXhEZXB0aClyZXR1cm4gRisrLGIuZ2V0LmRlZmF1bHRQYXRoKG4pO2IuZXJyb3IoUy5yZWN1cnNpb24pfWVsc2UgYi5kZWJ1ZyhcIk5vIGRlZmF1bHQgdGFicyBmb3VuZCBmb3JcIixlLHApO3JldHVybiBGPTAsZX0sbmF2RWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxoLHIuZmlsdGVyKFwiW2RhdGEtXCIrdy50YWIrJz1cIicrZSsnXCJdJyl9LHRhYkVsZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixpLG87cmV0dXJuIGU9ZXx8aCxpPWIudXRpbGl0aWVzLnBhdGhUb0FycmF5KGUpLG89Yi51dGlsaXRpZXMubGFzdChpKSx0PXAuZmlsdGVyKFwiW2RhdGEtXCIrdy50YWIrJz1cIicrZSsnXCJdJyksbj1wLmZpbHRlcihcIltkYXRhLVwiK3cudGFiKyc9XCInK28rJ1wiXScpLHQubGVuZ3RoPjA/dDpufSx0YWI6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LHV0aWxpdGllczp7ZmlsdGVyQXJyYXk6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5ncmVwKHQsZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5BcnJheSh0LG4pPT0tMX0pfSxsYXN0OmZ1bmN0aW9uKHQpe3JldHVybiEhZS5pc0FycmF5KHQpJiZ0W3QubGVuZ3RoLTFdfSxwYXRoVG9BcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWkmJihlPWgpLFwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoXCIvXCIpOltlXX0sYXJyYXlUb1BhdGg6ZnVuY3Rpb24odCl7cmV0dXJuISFlLmlzQXJyYXkodCkmJnQuam9pbihcIi9cIil9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoYi5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCx4LHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIHhbdF07ZS5pc1BsYWluT2JqZWN0KHhbdF0pP2UuZXh0ZW5kKCEwLHhbdF0sbik6eFt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsYix0KTtlbHNle2lmKG49PT1pKXJldHVybiBiW3RdO2JbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7IXguc2lsZW50JiZ4LmRlYnVnJiYoeC5wZXJmb3JtYW5jZT9iLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihiLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUseC5uYW1lK1wiOlwiKSxiLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IXguc2lsZW50JiZ4LnZlcmJvc2UmJnguZGVidWcmJih4LnBlcmZvcm1hbmNlP2IucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGIudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLHgubmFtZStcIjpcIiksYi52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe3guc2lsZW50fHwoYi5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSx4Lm5hbWUrXCI6XCIpLGIuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7eC5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1sfHx0LG49dC1pLGw9dCxjLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6TyxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoYi5wZXJmb3JtYW5jZS50aW1lciksYi5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KGIucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9eC5uYW1lK1wiOlwiLG49MDtsPSExLGNsZWFyVGltZW91dChiLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2goYyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHMmJih0Kz1cIiAnXCIrcytcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmMubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShjKTplLmVhY2goYyxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGM9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsbCxjPUQ7cmV0dXJuIG49bnx8ZixvPU98fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pPyhzPWNbb10sITEpOihiLmVycm9yKFMubWV0aG9kLHQpLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkobyxuKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KGEpP2EucHVzaChsKTphIT09aT9hPVthLGxdOmwhPT1pJiYoYT1sKSxzfX0sZD8oRD09PWkmJmIuaW5pdGlhbGl6ZSgpLGIuaW52b2tlKHUpKTooRCE9PWkmJkQuaW52b2tlKFwiZGVzdHJveVwiKSxiLmluaXRpYWxpemUoKSl9KSxhIT09aT9hOnRoaXN9LGUudGFiPWZ1bmN0aW9uKCl7ZSh0KS50YWIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmZuLnRhYi5zZXR0aW5ncz17bmFtZTpcIlRhYlwiLG5hbWVzcGFjZTpcInRhYlwiLHNpbGVudDohMSxkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLGF1dG86ITEsaGlzdG9yeTohMSxoaXN0b3J5VHlwZTpcImhhc2hcIixwYXRoOiExLGNvbnRleHQ6ITEsY2hpbGRyZW5Pbmx5OiExLG1heERlcHRoOjI1LGRlYWN0aXZhdGU6XCJzaWJsaW5nc1wiLGFsd2F5c1JlZnJlc2g6ITEsY2FjaGU6ITAsY2FjaGVUeXBlOlwicmVzcG9uc2VcIixpZ25vcmVGaXJzdExvYWQ6ITEsYXBpU2V0dGluZ3M6ITEsZXZhbHVhdGVTY3JpcHRzOlwib25jZVwiLG9uRmlyc3RMb2FkOmZ1bmN0aW9uKGUsdCxuKXt9LG9uTG9hZDpmdW5jdGlvbihlLHQsbil7fSxvblZpc2libGU6ZnVuY3Rpb24oZSx0LG4pe30sb25SZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuKXt9LHRlbXBsYXRlczp7ZGV0ZXJtaW5lVGl0bGU6ZnVuY3Rpb24oZSl7fX0sZXJyb3I6e2FwaTpcIllvdSBhdHRlbXB0ZWQgdG8gbG9hZCBjb250ZW50IHdpdGhvdXQgQVBJIG1vZHVsZVwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZFwiLG1pc3NpbmdUYWI6XCJBY3RpdmF0ZWQgdGFiIGNhbm5vdCBiZSBmb3VuZC4gVGFicyBhcmUgY2FzZS1zZW5zaXRpdmUuXCIsbm9Db250ZW50OlwiVGhlIHRhYiB5b3Ugc3BlY2lmaWVkIGlzIG1pc3NpbmcgYSBjb250ZW50IHVybC5cIixwYXRoOlwiSGlzdG9yeSBlbmFibGVkLCBidXQgbm8gcGF0aCB3YXMgc3BlY2lmaWVkXCIscmVjdXJzaW9uOlwiTWF4IHJlY3Vyc2l2ZSBkZXB0aCByZWFjaGVkXCIsbGVnYWN5SW5pdDpcIm9uVGFiSW5pdCBoYXMgYmVlbiByZW5hbWVkIHRvIG9uRmlyc3RMb2FkIGluIDIuMCwgcGxlYXNlIGFkanVzdCB5b3VyIGNvZGUuXCIsXG5sZWdhY3lMb2FkOlwib25UYWJMb2FkIGhhcyBiZWVuIHJlbmFtZWQgdG8gb25Mb2FkIGluIDIuMC4gUGxlYXNlIGFkanVzdCB5b3VyIGNvZGVcIixzdGF0ZTpcIkhpc3RvcnkgcmVxdWlyZXMgQXN1YWwncyBBZGRyZXNzIGxpYnJhcnkgPGh0dHBzOi8vZ2l0aHViLmNvbS9hc3VhbC9qcXVlcnktYWRkcmVzcz5cIn0sbWV0YWRhdGE6e3RhYjpcInRhYlwiLGxvYWRlZDpcImxvYWRlZFwiLHByb21pc2U6XCJwcm9taXNlXCJ9LGNsYXNzTmFtZTp7bG9hZGluZzpcImxvYWRpbmdcIixhY3RpdmU6XCJhY3RpdmVcIn0sc2VsZWN0b3I6e3RhYnM6XCIudWkudGFiXCIsdWk6XCIudWlcIn19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjt0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGUuZm4udHJhbnNpdGlvbj1mdW5jdGlvbigpe3ZhciBvLGE9ZSh0aGlzKSxyPWEuc2VsZWN0b3J8fFwiXCIscz0obmV3IERhdGUpLmdldFRpbWUoKSxsPVtdLGM9YXJndW1lbnRzLHU9Y1swXSxkPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGY9XCJzdHJpbmdcIj09dHlwZW9mIHU7dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfTtyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBtLGcscCxoLHYsYix5LHgsQyx3PWUodGhpcyksaz10aGlzO0M9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXttPUMuZ2V0LnNldHRpbmdzLmFwcGx5KGssYyksaD1tLmNsYXNzTmFtZSxwPW0uZXJyb3Isdj1tLm1ldGFkYXRhLHg9XCIuXCIrbS5uYW1lc3BhY2UseT1cIm1vZHVsZS1cIittLm5hbWVzcGFjZSxnPXcuZGF0YSh5KXx8QyxiPUMuZ2V0LmFuaW1hdGlvbkVuZEV2ZW50KCksZiYmKGY9Qy5pbnZva2UodSkpLGY9PT0hMSYmKEMudmVyYm9zZShcIkNvbnZlcnRlZCBhcmd1bWVudHMgaW50byBzZXR0aW5ncyBvYmplY3RcIixtKSxtLmludGVydmFsP0MuZGVsYXkobS5hbmltYXRlKTpDLmFuaW1hdGUoKSxDLmluc3RhbnRpYXRlKCkpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe0MudmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgbW9kdWxlXCIsQyksZz1DLHcuZGF0YSh5LGcpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Qy52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBtb2R1bGUgZm9yXCIsayksdy5yZW1vdmVEYXRhKHkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7Qy52ZXJib3NlKFwiUmVmcmVzaGluZyBkaXNwbGF5IHR5cGUgb24gbmV4dCBhbmltYXRpb25cIiksZGVsZXRlIEMuZGlzcGxheVR5cGV9LGZvcmNlUmVwYWludDpmdW5jdGlvbigpe0MudmVyYm9zZShcIkZvcmNpbmcgZWxlbWVudCByZXBhaW50XCIpO3ZhciBlPXcucGFyZW50KCksdD13Lm5leHQoKTswPT09dC5sZW5ndGg/dy5kZXRhY2goKS5hcHBlbmRUbyhlKTp3LmRldGFjaCgpLmluc2VydEJlZm9yZSh0KX0scmVwYWludDpmdW5jdGlvbigpe0MudmVyYm9zZShcIlJlcGFpbnRpbmcgZWxlbWVudFwiKTtrLm9mZnNldFdpZHRofSxkZWxheTpmdW5jdGlvbihlKXt2YXIgbixvLHI9Qy5nZXQuYW5pbWF0aW9uRGlyZWN0aW9uKCk7cnx8KHI9Qy5jYW4udHJhbnNpdGlvbigpP0MuZ2V0LmRpcmVjdGlvbigpOlwic3RhdGljXCIpLGU9ZSE9PWk/ZTptLmludGVydmFsLG49XCJhdXRvXCI9PW0ucmV2ZXJzZSYmcj09aC5vdXR3YXJkLG89bnx8MT09bS5yZXZlcnNlPyhhLmxlbmd0aC10KSptLmludGVydmFsOnQqbS5pbnRlcnZhbCxDLmRlYnVnKFwiRGVsYXlpbmcgYW5pbWF0aW9uIGJ5XCIsbyksc2V0VGltZW91dChDLmFuaW1hdGUsbyl9LGFuaW1hdGU6ZnVuY3Rpb24oZSl7aWYobT1lfHxtLCFDLmlzLnN1cHBvcnRlZCgpKXJldHVybiBDLmVycm9yKHAuc3VwcG9ydCksITE7aWYoQy5kZWJ1ZyhcIlByZXBhcmluZyBhbmltYXRpb25cIixtLmFuaW1hdGlvbiksQy5pcy5hbmltYXRpbmcoKSl7aWYobS5xdWV1ZSlyZXR1cm4hbS5hbGxvd1JlcGVhdHMmJkMuaGFzLmRpcmVjdGlvbigpJiZDLmlzLm9jY3VycmluZygpJiZDLnF1ZXVpbmchPT0hMD9DLmRlYnVnKFwiQW5pbWF0aW9uIGlzIGN1cnJlbnRseSBvY2N1cnJpbmcsIHByZXZlbnRpbmcgcXVldWVpbmcgc2FtZSBhbmltYXRpb25cIixtLmFuaW1hdGlvbik6Qy5xdWV1ZShtLmFuaW1hdGlvbiksITE7aWYoIW0uYWxsb3dSZXBlYXRzJiZDLmlzLm9jY3VycmluZygpKXJldHVybiBDLmRlYnVnKFwiQW5pbWF0aW9uIGlzIGFscmVhZHkgb2NjdXJyaW5nLCB3aWxsIG5vdCBleGVjdXRlIHJlcGVhdGVkIGFuaW1hdGlvblwiLG0uYW5pbWF0aW9uKSwhMTtDLmRlYnVnKFwiTmV3IGFuaW1hdGlvbiBzdGFydGVkLCBjb21wbGV0aW5nIHByZXZpb3VzIGVhcmx5XCIsbS5hbmltYXRpb24pLGcuY29tcGxldGUoKX1DLmNhbi5hbmltYXRlKCk/Qy5zZXQuYW5pbWF0aW5nKG0uYW5pbWF0aW9uKTpDLmVycm9yKHAubm9BbmltYXRpb24sbS5hbmltYXRpb24sayl9LHJlc2V0OmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIlJlc2V0dGluZyBhbmltYXRpb24gdG8gYmVnaW5uaW5nIGNvbmRpdGlvbnNcIiksQy5yZW1vdmUuYW5pbWF0aW9uQ2FsbGJhY2tzKCksQy5yZXN0b3JlLmNvbmRpdGlvbnMoKSxDLnJlbW92ZS5hbmltYXRpbmcoKX0scXVldWU6ZnVuY3Rpb24oZSl7Qy5kZWJ1ZyhcIlF1ZXVlaW5nIGFuaW1hdGlvbiBvZlwiLGUpLEMucXVldWluZz0hMCx3Lm9uZShiK1wiLnF1ZXVlXCIreCxmdW5jdGlvbigpe0MucXVldWluZz0hMSxDLnJlcGFpbnQoKSxDLmFuaW1hdGUuYXBwbHkodGhpcyxtKX0pfSxjb21wbGV0ZTpmdW5jdGlvbihlKXtDLmRlYnVnKFwiQW5pbWF0aW9uIGNvbXBsZXRlXCIsbS5hbmltYXRpb24pLEMucmVtb3ZlLmNvbXBsZXRlQ2FsbGJhY2soKSxDLnJlbW92ZS5mYWlsU2FmZSgpLEMuaXMubG9vcGluZygpfHwoQy5pcy5vdXR3YXJkKCk/KEMudmVyYm9zZShcIkFuaW1hdGlvbiBpcyBvdXR3YXJkLCBoaWRpbmcgZWxlbWVudFwiKSxDLnJlc3RvcmUuY29uZGl0aW9ucygpLEMuaGlkZSgpKTpDLmlzLmlud2FyZCgpPyhDLnZlcmJvc2UoXCJBbmltYXRpb24gaXMgb3V0d2FyZCwgc2hvd2luZyBlbGVtZW50XCIpLEMucmVzdG9yZS5jb25kaXRpb25zKCksQy5zaG93KCkpOihDLnZlcmJvc2UoXCJTdGF0aWMgYW5pbWF0aW9uIGNvbXBsZXRlZFwiKSxDLnJlc3RvcmUuY29uZGl0aW9ucygpLG0ub25Db21wbGV0ZS5jYWxsKGspKSl9LGZvcmNlOnt2aXNpYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dy5hdHRyKFwic3R5bGVcIiksdD1DLmdldC51c2VyU3R5bGUoKSxuPUMuZ2V0LmRpc3BsYXlUeXBlKCksbz10K1wiZGlzcGxheTogXCIrbitcIiAhaW1wb3J0YW50O1wiLGE9dy5jc3MoXCJkaXNwbGF5XCIpLHI9ZT09PWl8fFwiXCI9PT1lO2EhPT1uPyhDLnZlcmJvc2UoXCJPdmVycmlkaW5nIGRlZmF1bHQgZGlzcGxheSB0byBzaG93IGVsZW1lbnRcIixuKSx3LmF0dHIoXCJzdHlsZVwiLG8pKTpyJiZ3LnJlbW92ZUF0dHIoXCJzdHlsZVwiKX0saGlkZGVuOmZ1bmN0aW9uKCl7dmFyIGU9dy5hdHRyKFwic3R5bGVcIiksdD13LmNzcyhcImRpc3BsYXlcIiksbj1lPT09aXx8XCJcIj09PWU7XCJub25lXCI9PT10fHxDLmlzLmhpZGRlbigpP24mJncucmVtb3ZlQXR0cihcInN0eWxlXCIpOihDLnZlcmJvc2UoXCJPdmVycmlkaW5nIGRlZmF1bHQgZGlzcGxheSB0byBoaWRlIGVsZW1lbnRcIiksdy5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpKX19LGhhczp7ZGlyZWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBuPSExO3JldHVybiB0PXR8fG0uYW5pbWF0aW9uLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD10LnNwbGl0KFwiIFwiKSxlLmVhY2godCxmdW5jdGlvbihlLHQpe3QhPT1oLmlud2FyZCYmdCE9PWgub3V0d2FyZHx8KG49ITApfSkpLG59LGlubGluZURpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgdD13LmF0dHIoXCJzdHlsZVwiKXx8XCJcIjtyZXR1cm4gZS5pc0FycmF5KHQubWF0Y2goL2Rpc3BsYXkuKj87LyxcIlwiKSl9fSxzZXQ6e2FuaW1hdGluZzpmdW5jdGlvbihlKXt2YXIgdDtDLnJlbW92ZS5jb21wbGV0ZUNhbGxiYWNrKCksZT1lfHxtLmFuaW1hdGlvbix0PUMuZ2V0LmFuaW1hdGlvbkNsYXNzKGUpLEMuc2F2ZS5hbmltYXRpb24odCksQy5mb3JjZS52aXNpYmxlKCksQy5yZW1vdmUuaGlkZGVuKCksQy5yZW1vdmUuZGlyZWN0aW9uKCksQy5zdGFydC5hbmltYXRpb24odCl9LGR1cmF0aW9uOmZ1bmN0aW9uKGUsdCl7dD10fHxtLmR1cmF0aW9uLHQ9XCJudW1iZXJcIj09dHlwZW9mIHQ/dCtcIm1zXCI6dCwodHx8MD09PXQpJiYoQy52ZXJib3NlKFwiU2V0dGluZyBhbmltYXRpb24gZHVyYXRpb25cIix0KSx3LmNzcyh7XCJhbmltYXRpb24tZHVyYXRpb25cIjp0fSkpfSxkaXJlY3Rpb246ZnVuY3Rpb24oZSl7ZT1lfHxDLmdldC5kaXJlY3Rpb24oKSxlPT1oLmlud2FyZD9DLnNldC5pbndhcmQoKTpDLnNldC5vdXR3YXJkKCl9LGxvb3Bpbmc6ZnVuY3Rpb24oKXtDLmRlYnVnKFwiVHJhbnNpdGlvbiBzZXQgdG8gbG9vcFwiKSx3LmFkZENsYXNzKGgubG9vcGluZyl9LGhpZGRlbjpmdW5jdGlvbigpe3cuYWRkQ2xhc3MoaC50cmFuc2l0aW9uKS5hZGRDbGFzcyhoLmhpZGRlbil9LGlud2FyZDpmdW5jdGlvbigpe0MuZGVidWcoXCJTZXR0aW5nIGRpcmVjdGlvbiB0byBpbndhcmRcIiksdy5yZW1vdmVDbGFzcyhoLm91dHdhcmQpLmFkZENsYXNzKGguaW53YXJkKX0sb3V0d2FyZDpmdW5jdGlvbigpe0MuZGVidWcoXCJTZXR0aW5nIGRpcmVjdGlvbiB0byBvdXR3YXJkXCIpLHcucmVtb3ZlQ2xhc3MoaC5pbndhcmQpLmFkZENsYXNzKGgub3V0d2FyZCl9LHZpc2libGU6ZnVuY3Rpb24oKXt3LmFkZENsYXNzKGgudHJhbnNpdGlvbikuYWRkQ2xhc3MoaC52aXNpYmxlKX19LHN0YXJ0OnthbmltYXRpb246ZnVuY3Rpb24oZSl7ZT1lfHxDLmdldC5hbmltYXRpb25DbGFzcygpLEMuZGVidWcoXCJTdGFydGluZyB0d2VlblwiLGUpLHcuYWRkQ2xhc3MoZSkub25lKGIrXCIuY29tcGxldGVcIit4LEMuY29tcGxldGUpLG0udXNlRmFpbFNhZmUmJkMuYWRkLmZhaWxTYWZlKCksQy5zZXQuZHVyYXRpb24obS5kdXJhdGlvbiksbS5vblN0YXJ0LmNhbGwoayl9fSxzYXZlOnthbmltYXRpb246ZnVuY3Rpb24oZSl7Qy5jYWNoZXx8KEMuY2FjaGU9e30pLEMuY2FjaGUuYW5pbWF0aW9uPWV9LGRpc3BsYXlUeXBlOmZ1bmN0aW9uKGUpe1wibm9uZVwiIT09ZSYmdy5kYXRhKHYuZGlzcGxheVR5cGUsZSl9LHRyYW5zaXRpb25FeGlzdHM6ZnVuY3Rpb24odCxuKXtlLmZuLnRyYW5zaXRpb24uZXhpc3RzW3RdPW4sQy52ZXJib3NlKFwiU2F2aW5nIGV4aXN0ZW5jZSBvZiB0cmFuc2l0aW9uXCIsdCxuKX19LHJlc3RvcmU6e2NvbmRpdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT1DLmdldC5jdXJyZW50QW5pbWF0aW9uKCk7ZSYmKHcucmVtb3ZlQ2xhc3MoZSksQy52ZXJib3NlKFwiUmVtb3ZpbmcgYW5pbWF0aW9uIGNsYXNzXCIsQy5jYWNoZSkpLEMucmVtb3ZlLmR1cmF0aW9uKCl9fSxhZGQ6e2ZhaWxTYWZlOmZ1bmN0aW9uKCl7dmFyIGU9Qy5nZXQuZHVyYXRpb24oKTtDLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt3LnRyaWdnZXJIYW5kbGVyKGIpfSxlK20uZmFpbFNhZmVEZWxheSksQy52ZXJib3NlKFwiQWRkaW5nIGZhaWwgc2FmZSB0aW1lclwiLEMudGltZXIpfX0scmVtb3ZlOnthbmltYXRpbmc6ZnVuY3Rpb24oKXt3LnJlbW92ZUNsYXNzKGguYW5pbWF0aW5nKX0sYW5pbWF0aW9uQ2FsbGJhY2tzOmZ1bmN0aW9uKCl7Qy5yZW1vdmUucXVldWVDYWxsYmFjaygpLEMucmVtb3ZlLmNvbXBsZXRlQ2FsbGJhY2soKX0scXVldWVDYWxsYmFjazpmdW5jdGlvbigpe3cub2ZmKFwiLnF1ZXVlXCIreCl9LGNvbXBsZXRlQ2FsbGJhY2s6ZnVuY3Rpb24oKXt3Lm9mZihcIi5jb21wbGV0ZVwiK3gpfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dy5jc3MoXCJkaXNwbGF5XCIsXCJcIil9LGRpcmVjdGlvbjpmdW5jdGlvbigpe3cucmVtb3ZlQ2xhc3MoaC5pbndhcmQpLnJlbW92ZUNsYXNzKGgub3V0d2FyZCl9LGR1cmF0aW9uOmZ1bmN0aW9uKCl7dy5jc3MoXCJhbmltYXRpb24tZHVyYXRpb25cIixcIlwiKX0sZmFpbFNhZmU6ZnVuY3Rpb24oKXtDLnZlcmJvc2UoXCJSZW1vdmluZyBmYWlsIHNhZmUgdGltZXJcIixDLnRpbWVyKSxDLnRpbWVyJiZjbGVhclRpbWVvdXQoQy50aW1lcil9LGhpZGRlbjpmdW5jdGlvbigpe3cucmVtb3ZlQ2xhc3MoaC5oaWRkZW4pfSx2aXNpYmxlOmZ1bmN0aW9uKCl7dy5yZW1vdmVDbGFzcyhoLnZpc2libGUpfSxsb29waW5nOmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIlRyYW5zaXRpb25zIGFyZSBubyBsb25nZXIgbG9vcGluZ1wiKSxDLmlzLmxvb3BpbmcoKSYmKEMucmVzZXQoKSx3LnJlbW92ZUNsYXNzKGgubG9vcGluZykpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKCl7dy5yZW1vdmVDbGFzcyhoLnZpc2libGUpLnJlbW92ZUNsYXNzKGguaGlkZGVuKX19LGdldDp7c2V0dGluZ3M6ZnVuY3Rpb24odCxuLGkpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P2UuZXh0ZW5kKCEwLHt9LGUuZm4udHJhbnNpdGlvbi5zZXR0aW5ncyx0KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2UuZXh0ZW5kKHt9LGUuZm4udHJhbnNpdGlvbi5zZXR0aW5ncyx7YW5pbWF0aW9uOnQsb25Db21wbGV0ZTppLGR1cmF0aW9uOm59KTpcInN0cmluZ1wiPT10eXBlb2Ygbnx8XCJudW1iZXJcIj09dHlwZW9mIG4/ZS5leHRlbmQoe30sZS5mbi50cmFuc2l0aW9uLnNldHRpbmdzLHthbmltYXRpb246dCxkdXJhdGlvbjpufSk6XCJvYmplY3RcIj09dHlwZW9mIG4/ZS5leHRlbmQoe30sZS5mbi50cmFuc2l0aW9uLnNldHRpbmdzLG4se2FuaW1hdGlvbjp0fSk6XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9lLmV4dGVuZCh7fSxlLmZuLnRyYW5zaXRpb24uc2V0dGluZ3Mse2FuaW1hdGlvbjp0LG9uQ29tcGxldGU6bn0pOmUuZXh0ZW5kKHt9LGUuZm4udHJhbnNpdGlvbi5zZXR0aW5ncyx7YW5pbWF0aW9uOnR9KX0sYW5pbWF0aW9uQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8bS5hbmltYXRpb24sbj1DLmNhbi50cmFuc2l0aW9uKCkmJiFDLmhhcy5kaXJlY3Rpb24oKT9DLmdldC5kaXJlY3Rpb24oKStcIiBcIjpcIlwiO3JldHVybiBoLmFuaW1hdGluZytcIiBcIitoLnRyYW5zaXRpb24rXCIgXCIrbit0fSxjdXJyZW50QW5pbWF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuISghQy5jYWNoZXx8Qy5jYWNoZS5hbmltYXRpb249PT1pKSYmQy5jYWNoZS5hbmltYXRpb259LGN1cnJlbnREaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gQy5pcy5pbndhcmQoKT9oLmlud2FyZDpoLm91dHdhcmR9LGRpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBDLmlzLmhpZGRlbigpfHwhQy5pcy52aXNpYmxlKCk/aC5pbndhcmQ6aC5vdXR3YXJkfSxhbmltYXRpb25EaXJlY3Rpb246ZnVuY3Rpb24odCl7dmFyIG47cmV0dXJuIHQ9dHx8bS5hbmltYXRpb24sXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoXCIgXCIpLGUuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7dD09PWguaW53YXJkP249aC5pbndhcmQ6dD09PWgub3V0d2FyZCYmKG49aC5vdXR3YXJkKX0pKSwhIW4mJm59LGR1cmF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fG0uZHVyYXRpb24sZT09PSExJiYoZT13LmNzcyhcImFuaW1hdGlvbi1kdXJhdGlvblwiKXx8MCksXCJzdHJpbmdcIj09dHlwZW9mIGU/ZS5pbmRleE9mKFwibXNcIik+LTE/cGFyc2VGbG9hdChlKToxZTMqcGFyc2VGbG9hdChlKTplfSxkaXNwbGF5VHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gZT1lPT09aXx8ZSxtLmRpc3BsYXlUeXBlP20uZGlzcGxheVR5cGU6KGUmJncuZGF0YSh2LmRpc3BsYXlUeXBlKT09PWkmJkMuY2FuLnRyYW5zaXRpb24oITApLHcuZGF0YSh2LmRpc3BsYXlUeXBlKSl9LHVzZXJTdHlsZTpmdW5jdGlvbihlKXtyZXR1cm4gZT1lfHx3LmF0dHIoXCJzdHlsZVwiKXx8XCJcIixlLnJlcGxhY2UoL2Rpc3BsYXkuKj87LyxcIlwiKX0sdHJhbnNpdGlvbkV4aXN0czpmdW5jdGlvbih0KXtyZXR1cm4gZS5mbi50cmFuc2l0aW9uLmV4aXN0c1t0XX0sYW5pbWF0aW9uU3RhcnRFdmVudDpmdW5jdGlvbigpe3ZhciBlLHQ9bi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG89e2FuaW1hdGlvbjpcImFuaW1hdGlvbnN0YXJ0XCIsT0FuaW1hdGlvbjpcIm9BbmltYXRpb25TdGFydFwiLE1vekFuaW1hdGlvbjpcIm1vekFuaW1hdGlvblN0YXJ0XCIsV2Via2l0QW5pbWF0aW9uOlwid2Via2l0QW5pbWF0aW9uU3RhcnRcIn07Zm9yKGUgaW4gbylpZih0LnN0eWxlW2VdIT09aSlyZXR1cm4gb1tlXTtyZXR1cm4hMX0sYW5pbWF0aW9uRW5kRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZSx0PW4uY3JlYXRlRWxlbWVudChcImRpdlwiKSxvPXthbmltYXRpb246XCJhbmltYXRpb25lbmRcIixPQW5pbWF0aW9uOlwib0FuaW1hdGlvbkVuZFwiLE1vekFuaW1hdGlvbjpcIm1vekFuaW1hdGlvbkVuZFwiLFdlYmtpdEFuaW1hdGlvbjpcIndlYmtpdEFuaW1hdGlvbkVuZFwifTtmb3IoZSBpbiBvKWlmKHQuc3R5bGVbZV0hPT1pKXJldHVybiBvW2VdO3JldHVybiExfX0sY2FuOnt0cmFuc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBuLG8sYSxyLHMsbCxjPW0uYW5pbWF0aW9uLHU9Qy5nZXQudHJhbnNpdGlvbkV4aXN0cyhjKSxkPUMuZ2V0LmRpc3BsYXlUeXBlKCExKTtpZih1PT09aXx8dCl7aWYoQy52ZXJib3NlKFwiRGV0ZXJtaW5pbmcgd2hldGhlciBhbmltYXRpb24gZXhpc3RzXCIpLG49dy5hdHRyKFwiY2xhc3NcIiksbz13LnByb3AoXCJ0YWdOYW1lXCIpLGE9ZShcIjxcIitvK1wiIC8+XCIpLmFkZENsYXNzKG4pLmluc2VydEFmdGVyKHcpLHI9YS5hZGRDbGFzcyhjKS5yZW1vdmVDbGFzcyhoLmlud2FyZCkucmVtb3ZlQ2xhc3MoaC5vdXR3YXJkKS5hZGRDbGFzcyhoLmFuaW1hdGluZykuYWRkQ2xhc3MoaC50cmFuc2l0aW9uKS5jc3MoXCJhbmltYXRpb25OYW1lXCIpLHM9YS5hZGRDbGFzcyhoLmlud2FyZCkuY3NzKFwiYW5pbWF0aW9uTmFtZVwiKSxkfHwoZD1hLmF0dHIoXCJjbGFzc1wiLG4pLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5yZW1vdmVDbGFzcyhoLmhpZGRlbikucmVtb3ZlQ2xhc3MoaC52aXNpYmxlKS5zaG93KCkuY3NzKFwiZGlzcGxheVwiKSxDLnZlcmJvc2UoXCJEZXRlcm1pbmluZyBmaW5hbCBkaXNwbGF5IHN0YXRlXCIsZCksQy5zYXZlLmRpc3BsYXlUeXBlKGQpKSxhLnJlbW92ZSgpLHIhPXMpQy5kZWJ1ZyhcIkRpcmVjdGlvbiBleGlzdHMgZm9yIGFuaW1hdGlvblwiLGMpLGw9ITA7ZWxzZXtpZihcIm5vbmVcIj09cnx8IXIpcmV0dXJuIHZvaWQgQy5kZWJ1ZyhcIk5vIGFuaW1hdGlvbiBkZWZpbmVkIGluIGNzc1wiLGMpO0MuZGVidWcoXCJTdGF0aWMgYW5pbWF0aW9uIGZvdW5kXCIsYyxkKSxsPSExfUMuc2F2ZS50cmFuc2l0aW9uRXhpc3RzKGMsbCl9cmV0dXJuIHUhPT1pP3U6bH0sYW5pbWF0ZTpmdW5jdGlvbigpe3JldHVybiBDLmNhbi50cmFuc2l0aW9uKCkhPT1pfX0saXM6e2FuaW1hdGluZzpmdW5jdGlvbigpe3JldHVybiB3Lmhhc0NsYXNzKGguYW5pbWF0aW5nKX0saW53YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHcuaGFzQ2xhc3MoaC5pbndhcmQpfSxvdXR3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHcuaGFzQ2xhc3MoaC5vdXR3YXJkKX0sbG9vcGluZzpmdW5jdGlvbigpe3JldHVybiB3Lmhhc0NsYXNzKGgubG9vcGluZyl9LG9jY3VycmluZzpmdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxtLmFuaW1hdGlvbixlPVwiLlwiK2UucmVwbGFjZShcIiBcIixcIi5cIiksdy5maWx0ZXIoZSkubGVuZ3RoPjB9LHZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdy5pcyhcIjp2aXNpYmxlXCIpfSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm5cImhpZGRlblwiPT09dy5jc3MoXCJ2aXNpYmlsaXR5XCIpfSxzdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYiE9PSExfX0saGlkZTpmdW5jdGlvbigpe0MudmVyYm9zZShcIkhpZGluZyBlbGVtZW50XCIpLEMuaXMuYW5pbWF0aW5nKCkmJkMucmVzZXQoKSxrLmJsdXIoKSxDLnJlbW92ZS5kaXNwbGF5KCksQy5yZW1vdmUudmlzaWJsZSgpLEMuc2V0LmhpZGRlbigpLEMuZm9yY2UuaGlkZGVuKCksbS5vbkhpZGUuY2FsbChrKSxtLm9uQ29tcGxldGUuY2FsbChrKX0sc2hvdzpmdW5jdGlvbihlKXtDLnZlcmJvc2UoXCJTaG93aW5nIGVsZW1lbnRcIixlKSxDLnJlbW92ZS5oaWRkZW4oKSxDLnNldC52aXNpYmxlKCksQy5mb3JjZS52aXNpYmxlKCksbS5vblNob3cuY2FsbChrKSxtLm9uQ29tcGxldGUuY2FsbChrKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7Qy5pcy52aXNpYmxlKCk/Qy5oaWRlKCk6Qy5zaG93KCl9LHN0b3A6ZnVuY3Rpb24oKXtDLmRlYnVnKFwiU3RvcHBpbmcgY3VycmVudCBhbmltYXRpb25cIiksdy50cmlnZ2VySGFuZGxlcihiKX0sc3RvcEFsbDpmdW5jdGlvbigpe0MuZGVidWcoXCJTdG9wcGluZyBhbGwgYW5pbWF0aW9uXCIpLEMucmVtb3ZlLnF1ZXVlQ2FsbGJhY2soKSx3LnRyaWdnZXJIYW5kbGVyKGIpfSxjbGVhcjp7cXVldWU6ZnVuY3Rpb24oKXtDLmRlYnVnKFwiQ2xlYXJpbmcgYW5pbWF0aW9uIHF1ZXVlXCIpLEMucmVtb3ZlLnF1ZXVlQ2FsbGJhY2soKX19LGVuYWJsZTpmdW5jdGlvbigpe0MudmVyYm9zZShcIlN0YXJ0aW5nIGFuaW1hdGlvblwiKSx3LnJlbW92ZUNsYXNzKGguZGlzYWJsZWQpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIlN0b3BwaW5nIGFuaW1hdGlvblwiKSx3LmFkZENsYXNzKGguZGlzYWJsZWQpfSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoQy5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxtLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIG1bdF07ZS5pc1BsYWluT2JqZWN0KG1bdF0pP2UuZXh0ZW5kKCEwLG1bdF0sbik6bVt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsQyx0KTtlbHNle2lmKG49PT1pKXJldHVybiBDW3RdO0NbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7IW0uc2lsZW50JiZtLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9DLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihDLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxDLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IW0uc2lsZW50JiZtLnZlcmJvc2UmJm0uZGVidWcmJihtLnBlcmZvcm1hbmNlP0MucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KEMudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLG0ubmFtZStcIjpcIiksQy52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe20uc2lsZW50fHwoQy5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxtLm5hbWUrXCI6XCIpLEMuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7bS5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1zfHx0LG49dC1pLHM9dCxsLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6ayxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoQy5wZXJmb3JtYW5jZS50aW1lciksQy5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KEMucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9bS5uYW1lK1wiOlwiLG49MDtzPSExLGNsZWFyVGltZW91dChDLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gobCxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHImJih0Kz1cIiAnXCIrcitcIidcIiksYS5sZW5ndGg+MSYmKHQrPVwiIChcIithLmxlbmd0aCtcIilcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmwubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShsKTplLmVhY2gobCxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGw9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLGEpe3ZhciByLHMsbCxjPWc7cmV0dXJuIG49bnx8ZCxhPWt8fGEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJmMhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChjW2FdKSYmbiE9ciljPWNbYV07ZWxzZXtpZihjW2FdIT09aSlyZXR1cm4gcz1jW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QoY1tvXSl8fG49PXIpcmV0dXJuIGNbb10hPT1pJiYocz1jW29dLCExKTtjPWNbb119fSkpLGUuaXNGdW5jdGlvbihzKT9sPXMuYXBwbHkoYSxuKTpzIT09aSYmKGw9cyksZS5pc0FycmF5KG8pP28ucHVzaChsKTpvIT09aT9vPVtvLGxdOmwhPT1pJiYobz1sKSxzIT09aSYmc319LEMuaW5pdGlhbGl6ZSgpfSksbyE9PWk/bzp0aGlzfSxlLmZuLnRyYW5zaXRpb24uZXhpc3RzPXt9LGUuZm4udHJhbnNpdGlvbi5zZXR0aW5ncz17bmFtZTpcIlRyYW5zaXRpb25cIixzaWxlbnQ6ITEsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCxuYW1lc3BhY2U6XCJ0cmFuc2l0aW9uXCIsaW50ZXJ2YWw6MCxyZXZlcnNlOlwiYXV0b1wiLG9uU3RhcnQ6ZnVuY3Rpb24oKXt9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt9LG9uU2hvdzpmdW5jdGlvbigpe30sb25IaWRlOmZ1bmN0aW9uKCl7fSx1c2VGYWlsU2FmZTohMCxmYWlsU2FmZURlbGF5OjEwMCxhbGxvd1JlcGVhdHM6ITEsZGlzcGxheVR5cGU6ITEsYW5pbWF0aW9uOlwiZmFkZVwiLGR1cmF0aW9uOiExLHF1ZXVlOiEwLG1ldGFkYXRhOntkaXNwbGF5VHlwZTpcImRpc3BsYXlcIn0sY2xhc3NOYW1lOnthbmltYXRpbmc6XCJhbmltYXRpbmdcIixkaXNhYmxlZDpcImRpc2FibGVkXCIsaGlkZGVuOlwiaGlkZGVuXCIsaW53YXJkOlwiaW5cIixsb2FkaW5nOlwibG9hZGluZ1wiLGxvb3Bpbmc6XCJsb29waW5nXCIsb3V0d2FyZDpcIm91dFwiLHRyYW5zaXRpb246XCJ0cmFuc2l0aW9uXCIsdmlzaWJsZTpcInZpc2libGVcIn0sZXJyb3I6e25vQW5pbWF0aW9uOlwiRWxlbWVudCBpcyBubyBsb25nZXIgYXR0YWNoZWQgdG8gRE9NLiBVbmFibGUgdG8gYW5pbWF0ZS4gIFVzZSBzaWxlbnQgc2V0dGluZyB0byBzdXJwcmVzcyB0aGlzIHdhcm5pbmcgaW4gcHJvZHVjdGlvbi5cIixyZXBlYXRlZDpcIlRoYXQgYW5pbWF0aW9uIGlzIGFscmVhZHkgb2NjdXJyaW5nLCBjYW5jZWxsaW5nIHJlcGVhdGVkIGFuaW1hdGlvblwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZFwiLHN1cHBvcnQ6XCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBDU1MgYW5pbWF0aW9uc1wifX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO3ZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO2UuYXBpPWUuZm4uYXBpPWZ1bmN0aW9uKG4pe3ZhciBvLGE9ZShlLmlzRnVuY3Rpb24odGhpcyk/dDp0aGlzKSxyPWEuc2VsZWN0b3J8fFwiXCIscz0obmV3IERhdGUpLmdldFRpbWUoKSxsPVtdLGM9YXJndW1lbnRzWzBdLHU9XCJzdHJpbmdcIj09dHlwZW9mIGMsZD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGEsZixtLGcscCxoLHY9ZS5pc1BsYWluT2JqZWN0KG4pP2UuZXh0ZW5kKCEwLHt9LGUuZm4uYXBpLnNldHRpbmdzLG4pOmUuZXh0ZW5kKHt9LGUuZm4uYXBpLnNldHRpbmdzKSxiPXYubmFtZXNwYWNlLHk9di5tZXRhZGF0YSx4PXYuc2VsZWN0b3IsQz12LmVycm9yLHc9di5jbGFzc05hbWUsaz1cIi5cIitiLFM9XCJtb2R1bGUtXCIrYixUPWUodGhpcyksQT1ULmNsb3Nlc3QoeC5mb3JtKSxSPXYuc3RhdGVDb250ZXh0P2Uodi5zdGF0ZUNvbnRleHQpOlQsRT10aGlzLFA9UlswXSxGPVQuZGF0YShTKTtoPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7dXx8aC5iaW5kLmV2ZW50cygpLGguaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtoLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIG1vZHVsZVwiLGgpLEY9aCxULmRhdGEoUyxGKX0sZGVzdHJveTpmdW5jdGlvbigpe2gudmVyYm9zZShcIkRlc3Ryb3lpbmcgcHJldmlvdXMgbW9kdWxlIGZvclwiLEUpLFQucmVtb3ZlRGF0YShTKS5vZmYoayl9LGJpbmQ6e2V2ZW50czpmdW5jdGlvbigpe3ZhciBlPWguZ2V0LmV2ZW50KCk7ZT8oaC52ZXJib3NlKFwiQXR0YWNoaW5nIEFQSSBldmVudHMgdG8gZWxlbWVudFwiLGUpLFQub24oZStrLGguZXZlbnQudHJpZ2dlcikpOlwibm93XCI9PXYub24mJihoLmRlYnVnKFwiUXVlcnlpbmcgQVBJIGVuZHBvaW50IGltbWVkaWF0ZWx5XCIpLGgucXVlcnkoKSl9fSxkZWNvZGU6e2pzb246ZnVuY3Rpb24oZSl7aWYoZSE9PWkmJlwic3RyaW5nXCI9PXR5cGVvZiBlKXRyeXtlPUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7fXJldHVybiBlfX0scmVhZDp7Y2FjaGVkUmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIHQuU3RvcmFnZT09PWk/dm9pZCBoLmVycm9yKEMubm9TdG9yYWdlKToobj1zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGUpLGguZGVidWcoXCJVc2luZyBjYWNoZWQgcmVzcG9uc2VcIixlLG4pLG49aC5kZWNvZGUuanNvbihuKSl9fSx3cml0ZTp7Y2FjaGVkUmVzcG9uc2U6ZnVuY3Rpb24obixvKXtyZXR1cm4gbyYmXCJcIj09PW8/dm9pZCBoLmRlYnVnKFwiUmVzcG9uc2UgZW1wdHksIG5vdCBjYWNoaW5nXCIsbyk6dC5TdG9yYWdlPT09aT92b2lkIGguZXJyb3IoQy5ub1N0b3JhZ2UpOihlLmlzUGxhaW5PYmplY3QobykmJihvPUpTT04uc3RyaW5naWZ5KG8pKSxzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKG4sbyksdm9pZCBoLnZlcmJvc2UoXCJTdG9yaW5nIGNhY2hlZCByZXNwb25zZSBmb3IgdXJsXCIsbixvKSl9fSxxdWVyeTpmdW5jdGlvbigpe2lmKGguaXMuZGlzYWJsZWQoKSlyZXR1cm4gdm9pZCBoLmRlYnVnKFwiRWxlbWVudCBpcyBkaXNhYmxlZCBBUEkgcmVxdWVzdCBhYm9ydGVkXCIpO2lmKGguaXMubG9hZGluZygpKXtpZighdi5pbnRlcnJ1cHRSZXF1ZXN0cylyZXR1cm4gdm9pZCBoLmRlYnVnKFwiQ2FuY2VsbGluZyByZXF1ZXN0LCBwcmV2aW91cyByZXF1ZXN0IGlzIHN0aWxsIHBlbmRpbmdcIik7aC5kZWJ1ZyhcIkludGVycnVwdGluZyBwcmV2aW91cyByZXF1ZXN0XCIpLGguYWJvcnQoKX1yZXR1cm4gdi5kZWZhdWx0RGF0YSYmZS5leHRlbmQoITAsdi51cmxEYXRhLGguZ2V0LmRlZmF1bHREYXRhKCkpLHYuc2VyaWFsaXplRm9ybSYmKHYuZGF0YT1oLmFkZC5mb3JtRGF0YSh2LmRhdGEpKSxmPWguZ2V0LnNldHRpbmdzKCksZj09PSExPyhoLmNhbmNlbGxlZD0hMCx2b2lkIGguZXJyb3IoQy5iZWZvcmVTZW5kKSk6KGguY2FuY2VsbGVkPSExLG09aC5nZXQudGVtcGxhdGVkVVJMKCksbXx8aC5pcy5tb2NrZWQoKT8obT1oLmFkZC51cmxEYXRhKG0pLG18fGguaXMubW9ja2VkKCk/KGYudXJsPXYuYmFzZSttLGE9ZS5leHRlbmQoITAse30sdix7dHlwZTp2Lm1ldGhvZHx8di50eXBlLGRhdGE6Zyx1cmw6di5iYXNlK20sYmVmb3JlU2VuZDp2LmJlZm9yZVhIUixzdWNjZXNzOmZ1bmN0aW9uKCl7fSxmYWlsdXJlOmZ1bmN0aW9uKCl7fSxjb21wbGV0ZTpmdW5jdGlvbigpe319KSxoLmRlYnVnKFwiUXVlcnlpbmcgVVJMXCIsYS51cmwpLGgudmVyYm9zZShcIlVzaW5nIEFKQVggc2V0dGluZ3NcIixhKSxcImxvY2FsXCI9PT12LmNhY2hlJiZoLnJlYWQuY2FjaGVkUmVzcG9uc2UobSk/KGguZGVidWcoXCJSZXNwb25zZSByZXR1cm5lZCBmcm9tIGxvY2FsIGNhY2hlXCIpLGgucmVxdWVzdD1oLmNyZWF0ZS5yZXF1ZXN0KCksdm9pZCBoLnJlcXVlc3QucmVzb2x2ZVdpdGgoUCxbaC5yZWFkLmNhY2hlZFJlc3BvbnNlKG0pXSkpOnZvaWQodi50aHJvdHRsZT92LnRocm90dGxlRmlyc3RSZXF1ZXN0fHxoLnRpbWVyPyhoLmRlYnVnKFwiVGhyb3R0bGluZyByZXF1ZXN0XCIsdi50aHJvdHRsZSksY2xlYXJUaW1lb3V0KGgudGltZXIpLGgudGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2gudGltZXImJmRlbGV0ZSBoLnRpbWVyLGguZGVidWcoXCJTZW5kaW5nIHRocm90dGxlZCByZXF1ZXN0XCIsZyxhLm1ldGhvZCksaC5zZW5kLnJlcXVlc3QoKX0sdi50aHJvdHRsZSkpOihoLmRlYnVnKFwiU2VuZGluZyByZXF1ZXN0XCIsZyxhLm1ldGhvZCksaC5zZW5kLnJlcXVlc3QoKSxoLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt9LHYudGhyb3R0bGUpKTooaC5kZWJ1ZyhcIlNlbmRpbmcgcmVxdWVzdFwiLGcsYS5tZXRob2QpLGguc2VuZC5yZXF1ZXN0KCkpKSk6dm9pZCAwKTp2b2lkIGguZXJyb3IoQy5taXNzaW5nVVJMKSl9LHNob3VsZDp7cmVtb3ZlRXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdi5oaWRlRXJyb3I9PT0hMHx8XCJhdXRvXCI9PT12LmhpZGVFcnJvciYmIWguaXMuZm9ybSgpfX0saXM6e2Rpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIFQuZmlsdGVyKHguZGlzYWJsZWQpLmxlbmd0aD4wfSxleHBlY3RpbmdKU09OOmZ1bmN0aW9uKCl7cmV0dXJuXCJqc29uXCI9PT12LmRhdGFUeXBlfHxcImpzb25wXCI9PT12LmRhdGFUeXBlfSxmb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIFQuaXMoXCJmb3JtXCIpfHxSLmlzKFwiZm9ybVwiKX0sbW9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHYubW9ja1Jlc3BvbnNlfHx2Lm1vY2tSZXNwb25zZUFzeW5jfHx2LnJlc3BvbnNlfHx2LnJlc3BvbnNlQXN5bmN9LGlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIFQuaXMoXCJpbnB1dFwiKX0sbG9hZGluZzpmdW5jdGlvbigpe3JldHVybiEhaC5yZXF1ZXN0JiZcInBlbmRpbmdcIj09aC5yZXF1ZXN0LnN0YXRlKCl9LGFib3J0ZWRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJlYWR5U3RhdGUhPT1pJiYwPT09ZS5yZWFkeVN0YXRlPyhoLnZlcmJvc2UoXCJYSFIgcmVxdWVzdCBkZXRlcm1pbmVkIHRvIGJlIGFib3J0ZWRcIiksITApOihoLnZlcmJvc2UoXCJYSFIgcmVxdWVzdCB3YXMgbm90IGFib3J0ZWRcIiksITEpfSx2YWxpZFJlc3BvbnNlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmlzLmV4cGVjdGluZ0pTT04oKSYmZS5pc0Z1bmN0aW9uKHYuc3VjY2Vzc1Rlc3QpPyhoLmRlYnVnKFwiQ2hlY2tpbmcgSlNPTiByZXR1cm5lZCBzdWNjZXNzXCIsdi5zdWNjZXNzVGVzdCx0KSx2LnN1Y2Nlc3NUZXN0KHQpPyhoLmRlYnVnKFwiUmVzcG9uc2UgcGFzc2VkIHN1Y2Nlc3MgdGVzdFwiLHQpLCEwKTooaC5kZWJ1ZyhcIlJlc3BvbnNlIGZhaWxlZCBzdWNjZXNzIHRlc3RcIix0KSwhMSkpOihoLnZlcmJvc2UoXCJSZXNwb25zZSBpcyBub3QgSlNPTiwgc2tpcHBpbmcgdmFsaWRhdGlvblwiLHYuc3VjY2Vzc1Rlc3QsdCksITApfX0sd2FzOntjYW5jZWxsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC5jYW5jZWxsZWR8fCExfSxzdWNjZXNmdWw6ZnVuY3Rpb24oKXtyZXR1cm4gaC5yZXF1ZXN0JiZcInJlc29sdmVkXCI9PWgucmVxdWVzdC5zdGF0ZSgpfSxmYWlsdXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGgucmVxdWVzdCYmXCJyZWplY3RlZFwiPT1oLnJlcXVlc3Quc3RhdGUoKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5yZXF1ZXN0JiYoXCJyZXNvbHZlZFwiPT1oLnJlcXVlc3Quc3RhdGUoKXx8XCJyZWplY3RlZFwiPT1oLnJlcXVlc3Quc3RhdGUoKSl9fSxhZGQ6e3VybERhdGE6ZnVuY3Rpb24odCxuKXt2YXIgbyxhO3JldHVybiB0JiYobz10Lm1hdGNoKHYucmVnRXhwLnJlcXVpcmVkKSxhPXQubWF0Y2godi5yZWdFeHAub3B0aW9uYWwpLG49bnx8di51cmxEYXRhLG8mJihoLmRlYnVnKFwiTG9va2luZyBmb3IgcmVxdWlyZWQgVVJMIHZhcmlhYmxlc1wiLG8pLGUuZWFjaChvLGZ1bmN0aW9uKG8sYSl7dmFyIHI9YS5pbmRleE9mKFwiJFwiKSE9PS0xP2Euc3Vic3RyKDIsYS5sZW5ndGgtMyk6YS5zdWJzdHIoMSxhLmxlbmd0aC0yKSxzPWUuaXNQbGFpbk9iamVjdChuKSYmbltyXSE9PWk/bltyXTpULmRhdGEocikhPT1pP1QuZGF0YShyKTpSLmRhdGEocikhPT1pP1IuZGF0YShyKTpuW3JdO3JldHVybiBzPT09aT8oaC5lcnJvcihDLnJlcXVpcmVkUGFyYW1ldGVyLHIsdCksdD0hMSwhMSk6KGgudmVyYm9zZShcIkZvdW5kIHJlcXVpcmVkIHZhcmlhYmxlXCIscixzKSxzPXYuZW5jb2RlUGFyYW1ldGVycz9oLmdldC51cmxFbmNvZGVkVmFsdWUocyk6cyx0PXQucmVwbGFjZShhLHMpLHZvaWQgMCl9KSksYSYmKGguZGVidWcoXCJMb29raW5nIGZvciBvcHRpb25hbCBVUkwgdmFyaWFibGVzXCIsbyksZS5lYWNoKGEsZnVuY3Rpb24obyxhKXt2YXIgcj1hLmluZGV4T2YoXCIkXCIpIT09LTE/YS5zdWJzdHIoMyxhLmxlbmd0aC00KTphLnN1YnN0cigyLGEubGVuZ3RoLTMpLHM9ZS5pc1BsYWluT2JqZWN0KG4pJiZuW3JdIT09aT9uW3JdOlQuZGF0YShyKSE9PWk/VC5kYXRhKHIpOlIuZGF0YShyKSE9PWk/Ui5kYXRhKHIpOm5bcl07cyE9PWk/KGgudmVyYm9zZShcIk9wdGlvbmFsIHZhcmlhYmxlIEZvdW5kXCIscixzKSx0PXQucmVwbGFjZShhLHMpKTooaC52ZXJib3NlKFwiT3B0aW9uYWwgdmFyaWFibGUgbm90IGZvdW5kXCIsciksdD10LmluZGV4T2YoXCIvXCIrYSkhPT0tMT90LnJlcGxhY2UoXCIvXCIrYSxcIlwiKTp0LnJlcGxhY2UoYSxcIlwiKSl9KSkpLHR9LGZvcm1EYXRhOmZ1bmN0aW9uKHQpe3ZhciBuLG89ZS5mbi5zZXJpYWxpemVPYmplY3QhPT1pLGE9bz9BLnNlcmlhbGl6ZU9iamVjdCgpOkEuc2VyaWFsaXplKCk7cmV0dXJuIHQ9dHx8di5kYXRhLG49ZS5pc1BsYWluT2JqZWN0KHQpLG4/bz8oaC5kZWJ1ZyhcIkV4dGVuZGluZyBleGlzdGluZyBkYXRhIHdpdGggZm9ybSBkYXRhXCIsdCxhKSx0PWUuZXh0ZW5kKCEwLHt9LHQsYSkpOihoLmVycm9yKEMubWlzc2luZ1NlcmlhbGl6ZSksaC5kZWJ1ZyhcIkNhbnQgZXh0ZW5kIGRhdGEuIFJlcGxhY2luZyBkYXRhIHdpdGggZm9ybSBkYXRhXCIsdCxhKSx0PWEpOihoLmRlYnVnKFwiQWRkaW5nIGZvcm0gZGF0YVwiLGEpLHQ9YSksdH19LHNlbmQ6e3JlcXVlc3Q6ZnVuY3Rpb24oKXtoLnNldC5sb2FkaW5nKCksaC5yZXF1ZXN0PWguY3JlYXRlLnJlcXVlc3QoKSxoLmlzLm1vY2tlZCgpP2gubW9ja2VkWEhSPWguY3JlYXRlLm1vY2tlZFhIUigpOmgueGhyPWguY3JlYXRlLnhocigpLHYub25SZXF1ZXN0LmNhbGwoUCxoLnJlcXVlc3QsaC54aHIpfX0sZXZlbnQ6e3RyaWdnZXI6ZnVuY3Rpb24oZSl7aC5xdWVyeSgpLFwic3VibWl0XCIhPWUudHlwZSYmXCJjbGlja1wiIT1lLnR5cGV8fGUucHJldmVudERlZmF1bHQoKX0seGhyOnthbHdheXM6ZnVuY3Rpb24oKXt9LGRvbmU6ZnVuY3Rpb24odCxuLGkpe3ZhciBvPXRoaXMsYT0obmV3IERhdGUpLmdldFRpbWUoKS1wLHI9di5sb2FkaW5nRHVyYXRpb24tYSxzPSEhZS5pc0Z1bmN0aW9uKHYub25SZXNwb25zZSkmJihoLmlzLmV4cGVjdGluZ0pTT04oKT92Lm9uUmVzcG9uc2UuY2FsbChvLGUuZXh0ZW5kKCEwLHt9LHQpKTp2Lm9uUmVzcG9uc2UuY2FsbChvLHQpKTtyPXI+MD9yOjAscyYmKGguZGVidWcoXCJNb2RpZmllZCBBUEkgcmVzcG9uc2UgaW4gb25SZXNwb25zZSBjYWxsYmFja1wiLHYub25SZXNwb25zZSxzLHQpLHQ9cykscj4wJiZoLmRlYnVnKFwiUmVzcG9uc2UgY29tcGxldGVkIGVhcmx5IGRlbGF5aW5nIHN0YXRlIGNoYW5nZSBieVwiLHIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLmlzLnZhbGlkUmVzcG9uc2UodCk/aC5yZXF1ZXN0LnJlc29sdmVXaXRoKG8sW3QsaV0pOmgucmVxdWVzdC5yZWplY3RXaXRoKG8sW2ksXCJpbnZhbGlkXCJdKX0scil9LGZhaWw6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMsbz0obmV3IERhdGUpLmdldFRpbWUoKS1wLGE9di5sb2FkaW5nRHVyYXRpb24tbzthPWE+MD9hOjAsYT4wJiZoLmRlYnVnKFwiUmVzcG9uc2UgY29tcGxldGVkIGVhcmx5IGRlbGF5aW5nIHN0YXRlIGNoYW5nZSBieVwiLGEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLmlzLmFib3J0ZWRSZXF1ZXN0KGUpP2gucmVxdWVzdC5yZWplY3RXaXRoKGksW2UsXCJhYm9ydGVkXCIsbl0pOmgucmVxdWVzdC5yZWplY3RXaXRoKGksW2UsXCJlcnJvclwiLHQsbl0pfSxhKX19LHJlcXVlc3Q6e2RvbmU6ZnVuY3Rpb24oZSx0KXtoLmRlYnVnKFwiU3VjY2Vzc2Z1bCBBUEkgUmVzcG9uc2VcIixlKSxcImxvY2FsXCI9PT12LmNhY2hlJiZtJiYoaC53cml0ZS5jYWNoZWRSZXNwb25zZShtLGUpLGguZGVidWcoXCJTYXZpbmcgc2VydmVyIHJlc3BvbnNlIGxvY2FsbHlcIixoLmNhY2hlKSksdi5vblN1Y2Nlc3MuY2FsbChQLGUsVCx0KX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXt2YXIgbixpO2gud2FzLnN1Y2Nlc2Z1bCgpPyhpPWUsbj10KToobj1lLGk9aC5nZXQucmVzcG9uc2VGcm9tWEhSKG4pKSxoLnJlbW92ZS5sb2FkaW5nKCksdi5vbkNvbXBsZXRlLmNhbGwoUCxpLFQsbil9LGZhaWw6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWguZ2V0LnJlc3BvbnNlRnJvbVhIUihlKSxyPWguZ2V0LmVycm9yRnJvbVJlcXVlc3Qobyx0LG4pO3JldHVyblwiYWJvcnRlZFwiPT10PyhoLmRlYnVnKFwiWEhSIEFib3J0ZWQgKE1vc3QgbGlrZWx5IGNhdXNlZCBieSBwYWdlIG5hdmlnYXRpb24gb3IgQ09SUyBQb2xpY3kpXCIsdCxuKSx2Lm9uQWJvcnQuY2FsbChQLHQsVCxlKSwhMCk6KFwiaW52YWxpZFwiPT10P2guZGVidWcoXCJKU09OIGRpZCBub3QgcGFzcyBzdWNjZXNzIHRlc3QuIEEgc2VydmVyLXNpZGUgZXJyb3IgaGFzIG1vc3QgbGlrZWx5IG9jY3VycmVkXCIsbyk6XCJlcnJvclwiPT10JiZlIT09aSYmKGguZGVidWcoXCJYSFIgcHJvZHVjZWQgYSBzZXJ2ZXIgZXJyb3JcIix0LG4pLDIwMCE9ZS5zdGF0dXMmJm4hPT1pJiZcIlwiIT09biYmaC5lcnJvcihDLnN0YXR1c01lc3NhZ2UrbixhLnVybCksdi5vbkVycm9yLmNhbGwoUCxyLFQsZSkpLHYuZXJyb3JEdXJhdGlvbiYmXCJhYm9ydGVkXCIhPT10JiYoaC5kZWJ1ZyhcIkFkZGluZyBlcnJvciBzdGF0ZVwiKSxoLnNldC5lcnJvcigpLGguc2hvdWxkLnJlbW92ZUVycm9yKCkmJnNldFRpbWVvdXQoaC5yZW1vdmUuZXJyb3Isdi5lcnJvckR1cmF0aW9uKSksaC5kZWJ1ZyhcIkFQSSBSZXF1ZXN0IGZhaWxlZFwiLHIsZSksdm9pZCB2Lm9uRmFpbHVyZS5jYWxsKFAsbyxULGUpKX19fSxjcmVhdGU6e3JlcXVlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gZS5EZWZlcnJlZCgpLmFsd2F5cyhoLmV2ZW50LnJlcXVlc3QuY29tcGxldGUpLmRvbmUoaC5ldmVudC5yZXF1ZXN0LmRvbmUpLmZhaWwoaC5ldmVudC5yZXF1ZXN0LmZhaWwpfSxtb2NrZWRYSFI6ZnVuY3Rpb24oKXt2YXIgdCxuLGksbz0hMSxhPSExLHI9ITEscz12Lm1vY2tSZXNwb25zZXx8di5yZXNwb25zZSxsPXYubW9ja1Jlc3BvbnNlQXN5bmN8fHYucmVzcG9uc2VBc3luYztyZXR1cm4gaT1lLkRlZmVycmVkKCkuYWx3YXlzKGguZXZlbnQueGhyLmNvbXBsZXRlKS5kb25lKGguZXZlbnQueGhyLmRvbmUpLmZhaWwoaC5ldmVudC54aHIuZmFpbCkscz8oZS5pc0Z1bmN0aW9uKHMpPyhoLmRlYnVnKFwiVXNpbmcgc3BlY2lmaWVkIHN5bmNocm9ub3VzIGNhbGxiYWNrXCIscyksbj1zLmNhbGwoUCxmKSk6KGguZGVidWcoXCJVc2luZyBzZXR0aW5ncyBzcGVjaWZpZWQgcmVzcG9uc2VcIixzKSxuPXMpLGkucmVzb2x2ZVdpdGgoUCxbbixvLHtyZXNwb25zZVRleHQ6bn1dKSk6ZS5pc0Z1bmN0aW9uKGwpJiYodD1mdW5jdGlvbihlKXtoLmRlYnVnKFwiQXN5bmMgY2FsbGJhY2sgcmV0dXJuZWQgcmVzcG9uc2VcIixlKSxlP2kucmVzb2x2ZVdpdGgoUCxbZSxvLHtyZXNwb25zZVRleHQ6ZX1dKTppLnJlamVjdFdpdGgoUCxbe3Jlc3BvbnNlVGV4dDplfSxhLHJdKX0saC5kZWJ1ZyhcIlVzaW5nIHNwZWNpZmllZCBhc3luYyByZXNwb25zZSBjYWxsYmFja1wiLGwpLGwuY2FsbChQLGYsdCkpLGl9LHhocjpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PWUuYWpheChhKS5hbHdheXMoaC5ldmVudC54aHIuYWx3YXlzKS5kb25lKGguZXZlbnQueGhyLmRvbmUpLmZhaWwoaC5ldmVudC54aHIuZmFpbCksaC52ZXJib3NlKFwiQ3JlYXRlZCBzZXJ2ZXIgcmVxdWVzdFwiLHQsYSksdH19LHNldDp7ZXJyb3I6ZnVuY3Rpb24oKXtoLnZlcmJvc2UoXCJBZGRpbmcgZXJyb3Igc3RhdGUgdG8gZWxlbWVudFwiLFIpLFIuYWRkQ2xhc3Mody5lcnJvcil9LGxvYWRpbmc6ZnVuY3Rpb24oKXtoLnZlcmJvc2UoXCJBZGRpbmcgbG9hZGluZyBzdGF0ZSB0byBlbGVtZW50XCIsUiksUi5hZGRDbGFzcyh3LmxvYWRpbmcpLHA9KG5ldyBEYXRlKS5nZXRUaW1lKCl9fSxyZW1vdmU6e2Vycm9yOmZ1bmN0aW9uKCl7aC52ZXJib3NlKFwiUmVtb3ZpbmcgZXJyb3Igc3RhdGUgZnJvbSBlbGVtZW50XCIsUiksUi5yZW1vdmVDbGFzcyh3LmVycm9yKX0sbG9hZGluZzpmdW5jdGlvbigpe2gudmVyYm9zZShcIlJlbW92aW5nIGxvYWRpbmcgc3RhdGUgZnJvbSBlbGVtZW50XCIsUiksUi5yZW1vdmVDbGFzcyh3LmxvYWRpbmcpfX0sZ2V0OntyZXNwb25zZUZyb21YSFI6ZnVuY3Rpb24odCl7cmV0dXJuISFlLmlzUGxhaW5PYmplY3QodCkmJihoLmlzLmV4cGVjdGluZ0pTT04oKT9oLmRlY29kZS5qc29uKHQucmVzcG9uc2VUZXh0KTp0LnJlc3BvbnNlVGV4dCl9LGVycm9yRnJvbVJlcXVlc3Q6ZnVuY3Rpb24odCxuLG8pe3JldHVybiBlLmlzUGxhaW5PYmplY3QodCkmJnQuZXJyb3IhPT1pP3QuZXJyb3I6di5lcnJvcltuXSE9PWk/di5lcnJvcltuXTpvfSxyZXF1ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIGgucmVxdWVzdHx8ITF9LHhocjpmdW5jdGlvbigpe3JldHVybiBoLnhocnx8ITF9LHNldHRpbmdzOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9di5iZWZvcmVTZW5kLmNhbGwoUCx2KSx0JiYodC5zdWNjZXNzIT09aSYmKGguZGVidWcoXCJMZWdhY3kgc3VjY2VzcyBjYWxsYmFjayBkZXRlY3RlZFwiLHQpLGguZXJyb3IoQy5sZWdhY3lQYXJhbWV0ZXJzLHQuc3VjY2VzcyksdC5vblN1Y2Nlc3M9dC5zdWNjZXNzKSx0LmZhaWx1cmUhPT1pJiYoaC5kZWJ1ZyhcIkxlZ2FjeSBmYWlsdXJlIGNhbGxiYWNrIGRldGVjdGVkXCIsdCksaC5lcnJvcihDLmxlZ2FjeVBhcmFtZXRlcnMsdC5mYWlsdXJlKSx0Lm9uRmFpbHVyZT10LmZhaWx1cmUpLHQuY29tcGxldGUhPT1pJiYoaC5kZWJ1ZyhcIkxlZ2FjeSBjb21wbGV0ZSBjYWxsYmFjayBkZXRlY3RlZFwiLHQpLGguZXJyb3IoQy5sZWdhY3lQYXJhbWV0ZXJzLHQuY29tcGxldGUpLHQub25Db21wbGV0ZT10LmNvbXBsZXRlKSksdD09PWkmJmguZXJyb3IoQy5ub1JldHVybmVkVmFsdWUpLHQ9PT0hMT90OnQhPT1pP2UuZXh0ZW5kKCEwLHt9LHQpOmUuZXh0ZW5kKCEwLHt9LHYpfSx1cmxFbmNvZGVkVmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dC5kZWNvZGVVUklDb21wb25lbnQoZSksaT10LmVuY29kZVVSSUNvbXBvbmVudChlKSxvPW4hPT1lO3JldHVybiBvPyhoLmRlYnVnKFwiVVJMIHZhbHVlIGlzIGFscmVhZHkgZW5jb2RlZCwgYXZvaWRpbmcgZG91YmxlIGVuY29kaW5nXCIsZSksZSk6KGgudmVyYm9zZShcIkVuY29kaW5nIHZhbHVlIHVzaW5nIGVuY29kZVVSSUNvbXBvbmVudFwiLGUsaSksaSl9LGRlZmF1bHREYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIGUuaXNXaW5kb3coRSl8fChoLmlzLmlucHV0KCk/dC52YWx1ZT1ULnZhbCgpOmguaXMuZm9ybSgpfHwodC50ZXh0PVQudGV4dCgpKSksdH0sZXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pc1dpbmRvdyhFKXx8XCJub3dcIj09di5vbj8oaC5kZWJ1ZyhcIkFQSSBjYWxsZWQgd2l0aG91dCBlbGVtZW50LCBubyBldmVudHMgYXR0YWNoZWRcIiksITEpOlwiYXV0b1wiPT12Lm9uP1QuaXMoXCJpbnB1dFwiKT9FLm9uaW5wdXQhPT1pP1wiaW5wdXRcIjpFLm9ucHJvcGVydHljaGFuZ2UhPT1pP1wicHJvcGVydHljaGFuZ2VcIjpcImtleXVwXCI6VC5pcyhcImZvcm1cIik/XCJzdWJtaXRcIjpcImNsaWNrXCI6di5vbn0sdGVtcGxhdGVkVVJMOmZ1bmN0aW9uKGUpe2lmKGU9ZXx8VC5kYXRhKHkuYWN0aW9uKXx8di5hY3Rpb258fCExLG09VC5kYXRhKHkudXJsKXx8di51cmx8fCExKXJldHVybiBoLmRlYnVnKFwiVXNpbmcgc3BlY2lmaWVkIHVybFwiLG0pLG07aWYoZSl7aWYoaC5kZWJ1ZyhcIkxvb2tpbmcgdXAgdXJsIGZvciBhY3Rpb25cIixlLHYuYXBpKSx2LmFwaVtlXT09PWkmJiFoLmlzLm1vY2tlZCgpKXJldHVybiB2b2lkIGguZXJyb3IoQy5taXNzaW5nQWN0aW9uLHYuYWN0aW9uLHYuYXBpKTttPXYuYXBpW2VdfWVsc2UgaC5pcy5mb3JtKCkmJihtPVQuYXR0cihcImFjdGlvblwiKXx8Ui5hdHRyKFwiYWN0aW9uXCIpfHwhMSxoLmRlYnVnKFwiTm8gdXJsIG9yIGFjdGlvbiBzcGVjaWZpZWQsIGRlZmF1bHRpbmcgdG8gZm9ybSBhY3Rpb25cIixtKSk7cmV0dXJuIG19fSxhYm9ydDpmdW5jdGlvbigpe3ZhciBlPWguZ2V0LnhocigpO2UmJlwicmVzb2x2ZWRcIiE9PWUuc3RhdGUoKSYmKGguZGVidWcoXCJDYW5jZWxsaW5nIEFQSSByZXF1ZXN0XCIpLGUuYWJvcnQoKSl9LHJlc2V0OmZ1bmN0aW9uKCl7aC5yZW1vdmUuZXJyb3IoKSxoLnJlbW92ZS5sb2FkaW5nKCl9LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihoLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLHYsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gdlt0XTtlLmlzUGxhaW5PYmplY3Qodlt0XSk/ZS5leHRlbmQoITAsdlt0XSxuKTp2W3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxoLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGhbdF07aFt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXshdi5zaWxlbnQmJnYuZGVidWcmJih2LnBlcmZvcm1hbmNlP2gucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGguZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSx2Lm5hbWUrXCI6XCIpLGguZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXshdi5zaWxlbnQmJnYudmVyYm9zZSYmdi5kZWJ1ZyYmKHYucGVyZm9ybWFuY2U/aC5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooaC52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsdi5uYW1lK1wiOlwiKSxoLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7di5zaWxlbnR8fChoLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLHYubmFtZStcIjpcIiksaC5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTt2LnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPXN8fHQsbj10LWkscz10LGwucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KGgucGVyZm9ybWFuY2UudGltZXIpLGgucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChoLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PXYubmFtZStcIjpcIixuPTA7cz0hMSxjbGVhclRpbWVvdXQoaC5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixyJiYodCs9XCIgJ1wiK3IrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZsLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUobCk6ZS5lYWNoKGwsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxsPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixhKXt2YXIgcixzLGwsYz1GO3JldHVybiBuPW58fGQsYT1FfHxhLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZjIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QoY1thXSkmJm4hPXIpYz1jW2FdO2Vsc2V7aWYoY1thXSE9PWkpcmV0dXJuIHM9Y1thXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGNbb10pfHxuPT1yKXJldHVybiBjW29dIT09aT8ocz1jW29dLCExKTooaC5lcnJvcihDLm1ldGhvZCx0KSwhMSk7Yz1jW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/bD1zLmFwcGx5KGEsbik6cyE9PWkmJihsPXMpLGUuaXNBcnJheShvKT9vLnB1c2gobCk6byE9PWk/bz1bbyxsXTpsIT09aSYmKG89bCksc319LHU/KEY9PT1pJiZoLmluaXRpYWxpemUoKSxoLmludm9rZShjKSk6KEYhPT1pJiZGLmludm9rZShcImRlc3Ryb3lcIiksaC5pbml0aWFsaXplKCkpfSksbyE9PWk/bzp0aGlzfSxlLmFwaS5zZXR0aW5ncz17bmFtZTpcIkFQSVwiLG5hbWVzcGFjZTpcImFwaVwiLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsYXBpOnt9LGNhY2hlOiEwLGludGVycnVwdFJlcXVlc3RzOiEwLG9uOlwiYXV0b1wiLHN0YXRlQ29udGV4dDohMSxsb2FkaW5nRHVyYXRpb246MCxoaWRlRXJyb3I6XCJhdXRvXCIsZXJyb3JEdXJhdGlvbjoyZTMsZW5jb2RlUGFyYW1ldGVyczohMCxhY3Rpb246ITEsdXJsOiExLGJhc2U6XCJcIix1cmxEYXRhOnt9LGRlZmF1bHREYXRhOiEwLHNlcmlhbGl6ZUZvcm06ITEsdGhyb3R0bGU6MCx0aHJvdHRsZUZpcnN0UmVxdWVzdDohMCxtZXRob2Q6XCJnZXRcIixkYXRhOnt9LGRhdGFUeXBlOlwianNvblwiLG1vY2tSZXNwb25zZTohMSxtb2NrUmVzcG9uc2VBc3luYzohMSxyZXNwb25zZTohMSxyZXNwb25zZUFzeW5jOiExLGJlZm9yZVNlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGJlZm9yZVhIUjpmdW5jdGlvbihlKXt9LG9uUmVxdWVzdDpmdW5jdGlvbihlLHQpe30sb25SZXNwb25zZTohMSxvblN1Y2Nlc3M6ZnVuY3Rpb24oZSx0KXt9LG9uQ29tcGxldGU6ZnVuY3Rpb24oZSx0KXt9LG9uRmFpbHVyZTpmdW5jdGlvbihlLHQpe30sb25FcnJvcjpmdW5jdGlvbihlLHQpe30sb25BYm9ydDpmdW5jdGlvbihlLHQpe30sc3VjY2Vzc1Rlc3Q6ITEsZXJyb3I6e2JlZm9yZVNlbmQ6XCJUaGUgYmVmb3JlIHNlbmQgZnVuY3Rpb24gaGFzIGFib3J0ZWQgdGhlIHJlcXVlc3RcIixlcnJvcjpcIlRoZXJlIHdhcyBhbiBlcnJvciB3aXRoIHlvdXIgcmVxdWVzdFwiLGV4aXRDb25kaXRpb25zOlwiQVBJIFJlcXVlc3QgQWJvcnRlZC4gRXhpdCBjb25kaXRpb25zIG1ldFwiLEpTT05QYXJzZTpcIkpTT04gY291bGQgbm90IGJlIHBhcnNlZCBkdXJpbmcgZXJyb3IgaGFuZGxpbmdcIixsZWdhY3lQYXJhbWV0ZXJzOlwiWW91IGFyZSB1c2luZyBsZWdhY3kgQVBJIHN1Y2Nlc3MgY2FsbGJhY2sgbmFtZXNcIixtZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWRcIixtaXNzaW5nQWN0aW9uOlwiQVBJIGFjdGlvbiB1c2VkIGJ1dCBubyB1cmwgd2FzIGRlZmluZWRcIixtaXNzaW5nU2VyaWFsaXplOlwianF1ZXJ5LXNlcmlhbGl6ZS1vYmplY3QgaXMgcmVxdWlyZWQgdG8gYWRkIGZvcm0gZGF0YSB0byBhbiBleGlzdGluZyBkYXRhIG9iamVjdFwiLG1pc3NpbmdVUkw6XCJObyBVUkwgc3BlY2lmaWVkIGZvciBhcGkgZXZlbnRcIixub1JldHVybmVkVmFsdWU6XCJUaGUgYmVmb3JlU2VuZCBjYWxsYmFjayBtdXN0IHJldHVybiBhIHNldHRpbmdzIG9iamVjdCwgYmVmb3JlU2VuZCBpZ25vcmVkLlwiLG5vU3RvcmFnZTpcIkNhY2hpbmcgcmVzcG9uc2VzIGxvY2FsbHkgcmVxdWlyZXMgc2Vzc2lvbiBzdG9yYWdlXCIscGFyc2VFcnJvcjpcIlRoZXJlIHdhcyBhbiBlcnJvciBwYXJzaW5nIHlvdXIgcmVxdWVzdFwiLHJlcXVpcmVkUGFyYW1ldGVyOlwiTWlzc2luZyBhIHJlcXVpcmVkIFVSTCBwYXJhbWV0ZXI6IFwiLHN0YXR1c01lc3NhZ2U6XCJTZXJ2ZXIgZ2F2ZSBhbiBlcnJvcjogXCIsdGltZW91dDpcIllvdXIgcmVxdWVzdCB0aW1lZCBvdXRcIn0scmVnRXhwOntyZXF1aXJlZDovXFx7XFwkKltBLXowLTldK1xcfS9nLG9wdGlvbmFsOi9cXHtcXC9cXCQqW0EtejAtOV0rXFx9L2d9LGNsYXNzTmFtZTp7bG9hZGluZzpcImxvYWRpbmdcIixlcnJvcjpcImVycm9yXCJ9LHNlbGVjdG9yOntkaXNhYmxlZDpcIi5kaXNhYmxlZFwiLGZvcm06XCJmb3JtXCJ9LG1ldGFkYXRhOnthY3Rpb246XCJhY3Rpb25cIix1cmw6XCJ1cmxcIn19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjt0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lk1hdGg9PU1hdGg/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGUuZm4uc3RhdGU9ZnVuY3Rpb24odCl7dmFyIG8sYT1lKHRoaXMpLHI9YS5zZWxlY3Rvcnx8XCJcIixzPShcIm9udG91Y2hzdGFydFwiaW4gbi5kb2N1bWVudEVsZW1lbnQsKG5ldyBEYXRlKS5nZXRUaW1lKCkpLGw9W10sYz1hcmd1bWVudHNbMF0sdT1cInN0cmluZ1wiPT10eXBlb2YgYyxkPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBhLmVhY2goZnVuY3Rpb24oKXt2YXIgbixmPWUuaXNQbGFpbk9iamVjdCh0KT9lLmV4dGVuZCghMCx7fSxlLmZuLnN0YXRlLnNldHRpbmdzLHQpOmUuZXh0ZW5kKHt9LGUuZm4uc3RhdGUuc2V0dGluZ3MpLG09Zi5lcnJvcixnPWYubWV0YWRhdGEscD1mLmNsYXNzTmFtZSxoPWYubmFtZXNwYWNlLHY9Zi5zdGF0ZXMsYj1mLnRleHQseT1cIi5cIitoLHg9aCtcIi1tb2R1bGVcIixDPWUodGhpcyksdz10aGlzLGs9Qy5kYXRhKHgpO249e2luaXRpYWxpemU6ZnVuY3Rpb24oKXtuLnZlcmJvc2UoXCJJbml0aWFsaXppbmcgbW9kdWxlXCIpLGYuYXV0b21hdGljJiZuLmFkZC5kZWZhdWx0cygpLGYuY29udGV4dCYmXCJcIiE9PXI/ZShmLmNvbnRleHQpLm9uKHIsXCJtb3VzZWVudGVyXCIreSxuLmNoYW5nZS50ZXh0KS5vbihyLFwibW91c2VsZWF2ZVwiK3ksbi5yZXNldC50ZXh0KS5vbihyLFwiY2xpY2tcIit5LG4udG9nZ2xlLnN0YXRlKTpDLm9uKFwibW91c2VlbnRlclwiK3ksbi5jaGFuZ2UudGV4dCkub24oXCJtb3VzZWxlYXZlXCIreSxuLnJlc2V0LnRleHQpLm9uKFwiY2xpY2tcIit5LG4udG9nZ2xlLnN0YXRlKSxuLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7bi52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixuKSxrPW4sQy5kYXRhKHgsbil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZVwiLGspLEMub2ZmKHkpLnJlbW92ZURhdGEoeCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtuLnZlcmJvc2UoXCJSZWZyZXNoaW5nIHNlbGVjdG9yIGNhY2hlXCIpLEM9ZSh3KX0sYWRkOntkZWZhdWx0czpmdW5jdGlvbigpe3ZhciBvPXQmJmUuaXNQbGFpbk9iamVjdCh0LnN0YXRlcyk/dC5zdGF0ZXM6e307ZS5lYWNoKGYuZGVmYXVsdHMsZnVuY3Rpb24odCxhKXtuLmlzW3RdIT09aSYmbi5pc1t0XSgpJiYobi52ZXJib3NlKFwiQWRkaW5nIGRlZmF1bHQgc3RhdGVzXCIsdCx3KSxlLmV4dGVuZChmLnN0YXRlcyxhLG8pKX0pfX0saXM6e2FjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBDLmhhc0NsYXNzKHAuYWN0aXZlKX0sbG9hZGluZzpmdW5jdGlvbigpe3JldHVybiBDLmhhc0NsYXNzKHAubG9hZGluZyl9LGluYWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIUMuaGFzQ2xhc3MocC5hY3RpdmUpfSxzdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gcFtlXSE9PWkmJkMuaGFzQ2xhc3MocFtlXSl9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hQy5pcyhmLmZpbHRlci5hY3RpdmUpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiBDLmlzKGYuZmlsdGVyLmFjdGl2ZSl9LHRleHRFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIUMuaXMoZi5maWx0ZXIudGV4dCl9LGJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiBDLmlzKFwiLmJ1dHRvbjpub3QoYSwgLnN1Ym1pdClcIil9LGlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIEMuaXMoXCJpbnB1dFwiKX0scHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gQy5pcyhcIi51aS5wcm9ncmVzc1wiKX19LGFsbG93OmZ1bmN0aW9uKGUpe24uZGVidWcoXCJOb3cgYWxsb3dpbmcgc3RhdGVcIixlKSx2W2VdPSEwfSxkaXNhbGxvdzpmdW5jdGlvbihlKXtuLmRlYnVnKFwiTm8gbG9uZ2VyIGFsbG93aW5nXCIsZSksdltlXT0hMX0sYWxsb3dzOmZ1bmN0aW9uKGUpe3JldHVybiB2W2VdfHwhMX0sZW5hYmxlOmZ1bmN0aW9uKCl7Qy5yZW1vdmVDbGFzcyhwLmRpc2FibGVkKX0sZGlzYWJsZTpmdW5jdGlvbigpe0MuYWRkQ2xhc3MocC5kaXNhYmxlZCl9LHNldFN0YXRlOmZ1bmN0aW9uKGUpe24uYWxsb3dzKGUpJiZDLmFkZENsYXNzKHBbZV0pfSxyZW1vdmVTdGF0ZTpmdW5jdGlvbihlKXtuLmFsbG93cyhlKSYmQy5yZW1vdmVDbGFzcyhwW2VdKX0sdG9nZ2xlOntzdGF0ZTpmdW5jdGlvbigpe3ZhciB0LG87aWYobi5hbGxvd3MoXCJhY3RpdmVcIikmJm4uaXMuZW5hYmxlZCgpKXtpZihuLnJlZnJlc2goKSxlLmZuLmFwaSE9PWkpaWYodD1DLmFwaShcImdldCByZXF1ZXN0XCIpLG89Qy5hcGkoXCJ3YXMgY2FuY2VsbGVkXCIpKW4uZGVidWcoXCJBUEkgUmVxdWVzdCBjYW5jZWxsZWQgYnkgYmVmb3Jlc2VuZFwiKSxmLmFjdGl2YXRlVGVzdD1mdW5jdGlvbigpe3JldHVybiExfSxmLmRlYWN0aXZhdGVUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuITF9O2Vsc2UgaWYodClyZXR1cm4gdm9pZCBuLmxpc3RlblRvKHQpO24uY2hhbmdlLnN0YXRlKCl9fX0sbGlzdGVuVG86ZnVuY3Rpb24odCl7bi5kZWJ1ZyhcIkFQSSByZXF1ZXN0IGRldGVjdGVkLCB3YWl0aW5nIGZvciBzdGF0ZSBzaWduYWxcIix0KSx0JiYoYi5sb2FkaW5nJiZuLnVwZGF0ZS50ZXh0KGIubG9hZGluZyksZS53aGVuKHQpLnRoZW4oZnVuY3Rpb24oKXtcInJlc29sdmVkXCI9PXQuc3RhdGUoKT8obi5kZWJ1ZyhcIkFQSSByZXF1ZXN0IHN1Y2NlZWRlZFwiKSxmLmFjdGl2YXRlVGVzdD1mdW5jdGlvbigpe3JldHVybiEwfSxmLmRlYWN0aXZhdGVUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuITB9KToobi5kZWJ1ZyhcIkFQSSByZXF1ZXN0IGZhaWxlZFwiKSxmLmFjdGl2YXRlVGVzdD1mdW5jdGlvbigpe3JldHVybiExfSxmLmRlYWN0aXZhdGVUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxuLmNoYW5nZS5zdGF0ZSgpfSkpfSxjaGFuZ2U6e3N0YXRlOmZ1bmN0aW9uKCl7bi5kZWJ1ZyhcIkRldGVybWluaW5nIHN0YXRlIGNoYW5nZSBkaXJlY3Rpb25cIiksbi5pcy5pbmFjdGl2ZSgpP24uYWN0aXZhdGUoKTpuLmRlYWN0aXZhdGUoKSxmLnN5bmMmJm4uc3luYygpLGYub25DaGFuZ2UuY2FsbCh3KX0sdGV4dDpmdW5jdGlvbigpe24uaXMudGV4dEVuYWJsZWQoKSYmKG4uaXMuZGlzYWJsZWQoKT8obi52ZXJib3NlKFwiQ2hhbmdpbmcgdGV4dCB0byBkaXNhYmxlZCB0ZXh0XCIsYi5ob3Zlciksbi51cGRhdGUudGV4dChiLmRpc2FibGVkKSk6bi5pcy5hY3RpdmUoKT9iLmhvdmVyPyhuLnZlcmJvc2UoXCJDaGFuZ2luZyB0ZXh0IHRvIGhvdmVyIHRleHRcIixiLmhvdmVyKSxuLnVwZGF0ZS50ZXh0KGIuaG92ZXIpKTpiLmRlYWN0aXZhdGUmJihuLnZlcmJvc2UoXCJDaGFuZ2luZyB0ZXh0IHRvIGRlYWN0aXZhdGluZyB0ZXh0XCIsYi5kZWFjdGl2YXRlKSxuLnVwZGF0ZS50ZXh0KGIuZGVhY3RpdmF0ZSkpOmIuaG92ZXI/KG4udmVyYm9zZShcIkNoYW5naW5nIHRleHQgdG8gaG92ZXIgdGV4dFwiLGIuaG92ZXIpLG4udXBkYXRlLnRleHQoYi5ob3ZlcikpOmIuYWN0aXZhdGUmJihuLnZlcmJvc2UoXCJDaGFuZ2luZyB0ZXh0IHRvIGFjdGl2YXRpbmcgdGV4dFwiLGIuYWN0aXZhdGUpLG4udXBkYXRlLnRleHQoYi5hY3RpdmF0ZSkpKX19LGFjdGl2YXRlOmZ1bmN0aW9uKCl7Zi5hY3RpdmF0ZVRlc3QuY2FsbCh3KSYmKG4uZGVidWcoXCJTZXR0aW5nIHN0YXRlIHRvIGFjdGl2ZVwiKSxDLmFkZENsYXNzKHAuYWN0aXZlKSxuLnVwZGF0ZS50ZXh0KGIuYWN0aXZlKSxmLm9uQWN0aXZhdGUuY2FsbCh3KSl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtmLmRlYWN0aXZhdGVUZXN0LmNhbGwodykmJihuLmRlYnVnKFwiU2V0dGluZyBzdGF0ZSB0byBpbmFjdGl2ZVwiKSxDLnJlbW92ZUNsYXNzKHAuYWN0aXZlKSxuLnVwZGF0ZS50ZXh0KGIuaW5hY3RpdmUpLGYub25EZWFjdGl2YXRlLmNhbGwodykpO1xufSxzeW5jOmZ1bmN0aW9uKCl7bi52ZXJib3NlKFwiU3luY2luZyBvdGhlciBidXR0b25zIHRvIGN1cnJlbnQgc3RhdGVcIiksbi5pcy5hY3RpdmUoKT9hLm5vdChDKS5zdGF0ZShcImFjdGl2YXRlXCIpOmEubm90KEMpLnN0YXRlKFwiZGVhY3RpdmF0ZVwiKX0sZ2V0Ont0ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuc2VsZWN0b3IudGV4dD9DLmZpbmQoZi5zZWxlY3Rvci50ZXh0KS50ZXh0KCk6Qy5odG1sKCl9LHRleHRGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGJbZV18fCExfX0sZmxhc2g6e3RleHQ6ZnVuY3Rpb24oZSx0LGkpe3ZhciBvPW4uZ2V0LnRleHQoKTtuLmRlYnVnKFwiRmxhc2hpbmcgdGV4dCBtZXNzYWdlXCIsZSx0KSxlPWV8fGYudGV4dC5mbGFzaCx0PXR8fGYuZmxhc2hEdXJhdGlvbixpPWl8fGZ1bmN0aW9uKCl7fSxuLnVwZGF0ZS50ZXh0KGUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnVwZGF0ZS50ZXh0KG8pLGkuY2FsbCh3KX0sdCl9fSxyZXNldDp7dGV4dDpmdW5jdGlvbigpe3ZhciBlPWIuYWN0aXZlfHxDLmRhdGEoZy5zdG9yZWRUZXh0KSx0PWIuaW5hY3RpdmV8fEMuZGF0YShnLnN0b3JlZFRleHQpO24uaXMudGV4dEVuYWJsZWQoKSYmKG4uaXMuYWN0aXZlKCkmJmU/KG4udmVyYm9zZShcIlJlc2V0dGluZyBhY3RpdmUgdGV4dFwiLGUpLG4udXBkYXRlLnRleHQoZSkpOnQmJihuLnZlcmJvc2UoXCJSZXNldHRpbmcgaW5hY3RpdmUgdGV4dFwiLGUpLG4udXBkYXRlLnRleHQodCkpKX19LHVwZGF0ZTp7dGV4dDpmdW5jdGlvbihlKXt2YXIgdD1uLmdldC50ZXh0KCk7ZSYmZSE9PXQ/KG4uZGVidWcoXCJVcGRhdGluZyB0ZXh0XCIsZSksZi5zZWxlY3Rvci50ZXh0P0MuZGF0YShnLnN0b3JlZFRleHQsZSkuZmluZChmLnNlbGVjdG9yLnRleHQpLnRleHQoZSk6Qy5kYXRhKGcuc3RvcmVkVGV4dCxlKS5odG1sKGUpKTpuLmRlYnVnKFwiVGV4dCBpcyBhbHJlYWR5IHNldCwgaWdub3JpbmcgdXBkYXRlXCIsZSl9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbyl7aWYobi5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG8pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxmLHQpO2Vsc2V7aWYobz09PWkpcmV0dXJuIGZbdF07ZS5pc1BsYWluT2JqZWN0KGZbdF0pP2UuZXh0ZW5kKCEwLGZbdF0sbyk6Zlt0XT1vfX0saW50ZXJuYWw6ZnVuY3Rpb24odCxvKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsbix0KTtlbHNle2lmKG89PT1pKXJldHVybiBuW3RdO25bdF09b319LGRlYnVnOmZ1bmN0aW9uKCl7IWYuc2lsZW50JiZmLmRlYnVnJiYoZi5wZXJmb3JtYW5jZT9uLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihuLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZi5uYW1lK1wiOlwiKSxuLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7IWYuc2lsZW50JiZmLnZlcmJvc2UmJmYuZGVidWcmJihmLnBlcmZvcm1hbmNlP24ucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KG4udmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGYubmFtZStcIjpcIiksbi52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe2Yuc2lsZW50fHwobi5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxmLm5hbWUrXCI6XCIpLG4uZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxpLG87Zi5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksbz1zfHx0LGk9dC1vLHM9dCxsLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6dyxcIkV4ZWN1dGlvbiBUaW1lXCI6aX0pKSxjbGVhclRpbWVvdXQobi5wZXJmb3JtYW5jZS50aW1lciksbi5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KG4ucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9Zi5uYW1lK1wiOlwiLG89MDtzPSExLGNsZWFyVGltZW91dChuLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gobCxmdW5jdGlvbihlLHQpe28rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK28rXCJtc1wiLHImJih0Kz1cIiAnXCIrcitcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmwubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShsKTplLmVhY2gobCxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGw9W119fSxpbnZva2U6ZnVuY3Rpb24odCxhLHIpe3ZhciBzLGwsYyx1PWs7cmV0dXJuIGE9YXx8ZCxyPXd8fHIsXCJzdHJpbmdcIj09dHlwZW9mIHQmJnUhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxzPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obyxhKXt2YXIgcj1vIT1zP2ErdFtvKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbysxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdCh1W3JdKSYmbyE9cyl1PXVbcl07ZWxzZXtpZih1W3JdIT09aSlyZXR1cm4gbD11W3JdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QodVthXSl8fG89PXMpcmV0dXJuIHVbYV0hPT1pPyhsPXVbYV0sITEpOihuLmVycm9yKG0ubWV0aG9kLHQpLCExKTt1PXVbYV19fSkpLGUuaXNGdW5jdGlvbihsKT9jPWwuYXBwbHkocixhKTpsIT09aSYmKGM9bCksZS5pc0FycmF5KG8pP28ucHVzaChjKTpvIT09aT9vPVtvLGNdOmMhPT1pJiYobz1jKSxsfX0sdT8oaz09PWkmJm4uaW5pdGlhbGl6ZSgpLG4uaW52b2tlKGMpKTooayE9PWkmJmsuaW52b2tlKFwiZGVzdHJveVwiKSxuLmluaXRpYWxpemUoKSl9KSxvIT09aT9vOnRoaXN9LGUuZm4uc3RhdGUuc2V0dGluZ3M9e25hbWU6XCJTdGF0ZVwiLGRlYnVnOiExLHZlcmJvc2U6ITEsbmFtZXNwYWNlOlwic3RhdGVcIixwZXJmb3JtYW5jZTohMCxvbkFjdGl2YXRlOmZ1bmN0aW9uKCl7fSxvbkRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt9LG9uQ2hhbmdlOmZ1bmN0aW9uKCl7fSxhY3RpdmF0ZVRlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVhY3RpdmF0ZVRlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYXV0b21hdGljOiEwLHN5bmM6ITEsZmxhc2hEdXJhdGlvbjoxZTMsZmlsdGVyOnt0ZXh0OlwiLmxvYWRpbmcsIC5kaXNhYmxlZFwiLGFjdGl2ZTpcIi5kaXNhYmxlZFwifSxjb250ZXh0OiExLGVycm9yOntiZWZvcmVTZW5kOlwiVGhlIGJlZm9yZSBzZW5kIGZ1bmN0aW9uIGhhcyBjYW5jZWxsZWQgc3RhdGUgY2hhbmdlXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwifSxtZXRhZGF0YTp7cHJvbWlzZTpcInByb21pc2VcIixzdG9yZWRUZXh0Olwic3RvcmVkLXRleHRcIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixkaXNhYmxlZDpcImRpc2FibGVkXCIsZXJyb3I6XCJlcnJvclwiLGxvYWRpbmc6XCJsb2FkaW5nXCIsc3VjY2VzczpcInN1Y2Nlc3NcIix3YXJuaW5nOlwid2FybmluZ1wifSxzZWxlY3Rvcjp7dGV4dDohMX0sZGVmYXVsdHM6e2lucHV0OntkaXNhYmxlZDohMCxsb2FkaW5nOiEwLGFjdGl2ZTohMH0sYnV0dG9uOntkaXNhYmxlZDohMCxsb2FkaW5nOiEwLGFjdGl2ZTohMH0scHJvZ3Jlc3M6e2FjdGl2ZTohMCxzdWNjZXNzOiEwLHdhcm5pbmc6ITAsZXJyb3I6ITB9fSxzdGF0ZXM6e2FjdGl2ZTohMCxkaXNhYmxlZDohMCxlcnJvcjohMCxsb2FkaW5nOiEwLHN1Y2Nlc3M6ITAsd2FybmluZzohMH0sdGV4dDp7ZGlzYWJsZWQ6ITEsZmxhc2g6ITEsaG92ZXI6ITEsYWN0aXZlOiExLGluYWN0aXZlOiExLGFjdGl2YXRlOiExLGRlYWN0aXZhdGU6ITF9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5NYXRoPT1NYXRoP3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxlLmZuLnZpc2liaWxpdHk9ZnVuY3Rpb24obyl7dmFyIGEscj1lKHRoaXMpLHM9ci5zZWxlY3Rvcnx8XCJcIixsPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGM9W10sdT1hcmd1bWVudHNbMF0sZD1cInN0cmluZ1wiPT10eXBlb2YgdSxmPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG09ci5sZW5ndGgsZz0wO3JldHVybiByLmVhY2goZnVuY3Rpb24oKXt2YXIgcixwLGgsdixiPWUuaXNQbGFpbk9iamVjdChvKT9lLmV4dGVuZCghMCx7fSxlLmZuLnZpc2liaWxpdHkuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi52aXNpYmlsaXR5LnNldHRpbmdzKSx5PWIuY2xhc3NOYW1lLHg9Yi5uYW1lc3BhY2UsQz1iLmVycm9yLHc9Yi5tZXRhZGF0YSxrPVwiLlwiK3gsUz1cIm1vZHVsZS1cIit4LFQ9ZSh0KSxBPWUodGhpcyksUj1lKGIuY29udGV4dCksRT0oQS5zZWxlY3Rvcnx8XCJcIixBLmRhdGEoUykpLFA9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfSxGPXRoaXMsTz0hMTt2PXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7di5kZWJ1ZyhcIkluaXRpYWxpemluZ1wiLGIpLHYuc2V0dXAuY2FjaGUoKSx2LnNob3VsZC50cmFja0NoYW5nZXMoKSYmKFwiaW1hZ2VcIj09Yi50eXBlJiZ2LnNldHVwLmltYWdlKCksXCJmaXhlZFwiPT1iLnR5cGUmJnYuc2V0dXAuZml4ZWQoKSxiLm9ic2VydmVDaGFuZ2VzJiZ2Lm9ic2VydmVDaGFuZ2VzKCksdi5iaW5kLmV2ZW50cygpKSx2LnNhdmUucG9zaXRpb24oKSx2LmlzLnZpc2libGUoKXx8di5lcnJvcihDLnZpc2libGUsQSksYi5pbml0aWFsQ2hlY2smJnYuY2hlY2tWaXNpYmlsaXR5KCksdi5pbnN0YW50aWF0ZSgpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe3YuZGVidWcoXCJTdG9yaW5nIGluc3RhbmNlXCIsdiksQS5kYXRhKFMsdiksRT12fSxkZXN0cm95OmZ1bmN0aW9uKCl7di52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBtb2R1bGVcIiksaCYmaC5kaXNjb25uZWN0KCkscCYmcC5kaXNjb25uZWN0KCksVC5vZmYoXCJsb2FkXCIrayx2LmV2ZW50LmxvYWQpLm9mZihcInJlc2l6ZVwiK2ssdi5ldmVudC5yZXNpemUpLFIub2ZmKFwic2Nyb2xsXCIrayx2LmV2ZW50LnNjcm9sbCkub2ZmKFwic2Nyb2xsY2hhbmdlXCIrayx2LmV2ZW50LnNjcm9sbGNoYW5nZSksXCJmaXhlZFwiPT1iLnR5cGUmJih2LnJlc2V0Rml4ZWQoKSx2LnJlbW92ZS5wbGFjZWhvbGRlcigpKSxBLm9mZihrKS5yZW1vdmVEYXRhKFMpfSxvYnNlcnZlQ2hhbmdlczpmdW5jdGlvbigpe1wiTXV0YXRpb25PYnNlcnZlclwiaW4gdCYmKHA9bmV3IE11dGF0aW9uT2JzZXJ2ZXIodi5ldmVudC5jb250ZXh0Q2hhbmdlZCksaD1uZXcgTXV0YXRpb25PYnNlcnZlcih2LmV2ZW50LmNoYW5nZWQpLHAub2JzZXJ2ZShuLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLGgub2JzZXJ2ZShGLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLHYuZGVidWcoXCJTZXR0aW5nIHVwIG11dGF0aW9uIG9ic2VydmVyXCIsaCkpfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXt2LnZlcmJvc2UoXCJCaW5kaW5nIHZpc2liaWxpdHkgZXZlbnRzIHRvIHNjcm9sbCBhbmQgcmVzaXplXCIpLGIucmVmcmVzaE9uTG9hZCYmVC5vbihcImxvYWRcIitrLHYuZXZlbnQubG9hZCksVC5vbihcInJlc2l6ZVwiK2ssdi5ldmVudC5yZXNpemUpLFIub2ZmKFwic2Nyb2xsXCIraykub24oXCJzY3JvbGxcIitrLHYuZXZlbnQuc2Nyb2xsKS5vbihcInNjcm9sbGNoYW5nZVwiK2ssdi5ldmVudC5zY3JvbGxjaGFuZ2UpfX0sZXZlbnQ6e2NoYW5nZWQ6ZnVuY3Rpb24oZSl7di52ZXJib3NlKFwiRE9NIHRyZWUgbW9kaWZpZWQsIHVwZGF0aW5nIHZpc2liaWxpdHkgY2FsY3VsYXRpb25zXCIpLHYudGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3YudmVyYm9zZShcIkRPTSB0cmVlIG1vZGlmaWVkLCB1cGRhdGluZyBzdGlja3kgbWVudVwiKSx2LnJlZnJlc2goKX0sMTAwKX0sY29udGV4dENoYW5nZWQ6ZnVuY3Rpb24odCl7W10uZm9yRWFjaC5jYWxsKHQsZnVuY3Rpb24odCl7dC5yZW1vdmVkTm9kZXMmJltdLmZvckVhY2guY2FsbCh0LnJlbW92ZWROb2RlcyxmdW5jdGlvbih0KXsodD09Rnx8ZSh0KS5maW5kKEYpLmxlbmd0aD4wKSYmKHYuZGVidWcoXCJFbGVtZW50IHJlbW92ZWQgZnJvbSBET00sIHRlYXJpbmcgZG93biBldmVudHNcIiksdi5kZXN0cm95KCkpfSl9KX0scmVzaXplOmZ1bmN0aW9uKCl7di5kZWJ1ZyhcIldpbmRvdyByZXNpemVkXCIpLGIucmVmcmVzaE9uUmVzaXplJiZQKHYucmVmcmVzaCl9LGxvYWQ6ZnVuY3Rpb24oKXt2LmRlYnVnKFwiUGFnZSBmaW5pc2hlZCBsb2FkaW5nXCIpLFAodi5yZWZyZXNoKX0sc2Nyb2xsOmZ1bmN0aW9uKCl7Yi50aHJvdHRsZT8oY2xlYXJUaW1lb3V0KHYudGltZXIpLHYudGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe1IudHJpZ2dlckhhbmRsZXIoXCJzY3JvbGxjaGFuZ2VcIitrLFtSLnNjcm9sbFRvcCgpXSl9LGIudGhyb3R0bGUpKTpQKGZ1bmN0aW9uKCl7Ui50cmlnZ2VySGFuZGxlcihcInNjcm9sbGNoYW5nZVwiK2ssW1Iuc2Nyb2xsVG9wKCldKX0pfSxzY3JvbGxjaGFuZ2U6ZnVuY3Rpb24oZSx0KXt2LmNoZWNrVmlzaWJpbGl0eSh0KX19LHByZWNhY2hlOmZ1bmN0aW9uKHQsaSl7dCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdF0pO2Zvcih2YXIgbz10Lmxlbmd0aCxhPTAscj1bXSxzPW4uY3JlYXRlRWxlbWVudChcImltZ1wiKSxsPWZ1bmN0aW9uKCl7YSsrLGE+PXQubGVuZ3RoJiZlLmlzRnVuY3Rpb24oaSkmJmkoKX07by0tOylzPW4uY3JlYXRlRWxlbWVudChcImltZ1wiKSxzLm9ubG9hZD1sLHMub25lcnJvcj1sLHMuc3JjPXRbb10sci5wdXNoKHMpfSxlbmFibGVDYWxsYmFja3M6ZnVuY3Rpb24oKXt2LmRlYnVnKFwiQWxsb3dpbmcgY2FsbGJhY2tzIHRvIG9jY3VyXCIpLE89ITF9LGRpc2FibGVDYWxsYmFja3M6ZnVuY3Rpb24oKXt2LmRlYnVnKFwiRGlzYWJsaW5nIGFsbCBjYWxsYmFja3MgdGVtcG9yYXJpbHlcIiksTz0hMH0sc2hvdWxkOnt0cmFja0NoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZD8odi5kZWJ1ZyhcIk9uZSB0aW1lIHF1ZXJ5LCBubyBuZWVkIHRvIGJpbmQgZXZlbnRzXCIpLCExKToodi5kZWJ1ZyhcIkNhbGxiYWNrcyBiZWluZyBhdHRhY2hlZFwiKSwhMCl9fSxzZXR1cDp7Y2FjaGU6ZnVuY3Rpb24oKXt2LmNhY2hlPXtvY2N1cnJlZDp7fSxzY3JlZW46e30sZWxlbWVudDp7fX19LGltYWdlOmZ1bmN0aW9uKCl7dmFyIGU9QS5kYXRhKHcuc3JjKTtlJiYodi52ZXJib3NlKFwiTGF6eSBsb2FkaW5nIGltYWdlXCIsZSksYi5vbmNlPSEwLGIub2JzZXJ2ZUNoYW5nZXM9ITEsYi5vbk9uU2NyZWVuPWZ1bmN0aW9uKCl7di5kZWJ1ZyhcIkltYWdlIG9uIHNjcmVlblwiLEYpLHYucHJlY2FjaGUoZSxmdW5jdGlvbigpe3Yuc2V0LmltYWdlKGUsZnVuY3Rpb24oKXtnKyssZz09bSYmYi5vbkFsbExvYWRlZC5jYWxsKHRoaXMpLGIub25Mb2FkLmNhbGwodGhpcyl9KX0pfSl9LGZpeGVkOmZ1bmN0aW9uKCl7di5kZWJ1ZyhcIlNldHRpbmcgdXAgZml4ZWRcIiksYi5vbmNlPSExLGIub2JzZXJ2ZUNoYW5nZXM9ITEsYi5pbml0aWFsQ2hlY2s9ITAsYi5yZWZyZXNoT25Mb2FkPSEwLG8udHJhbnNpdGlvbnx8KGIudHJhbnNpdGlvbj0hMSksdi5jcmVhdGUucGxhY2Vob2xkZXIoKSx2LmRlYnVnKFwiQWRkZWQgcGxhY2Vob2xkZXJcIixyKSxiLm9uVG9wUGFzc2VkPWZ1bmN0aW9uKCl7di5kZWJ1ZyhcIkVsZW1lbnQgcGFzc2VkLCBhZGRpbmcgZml4ZWQgcG9zaXRpb25cIixBKSx2LnNob3cucGxhY2Vob2xkZXIoKSx2LnNldC5maXhlZCgpLGIudHJhbnNpdGlvbiYmZS5mbi50cmFuc2l0aW9uIT09aSYmQS50cmFuc2l0aW9uKGIudHJhbnNpdGlvbixiLmR1cmF0aW9uKX0sYi5vblRvcFBhc3NlZFJldmVyc2U9ZnVuY3Rpb24oKXt2LmRlYnVnKFwiRWxlbWVudCByZXR1cm5lZCB0byBwb3NpdGlvbiwgcmVtb3ZpbmcgZml4ZWRcIixBKSx2LmhpZGUucGxhY2Vob2xkZXIoKSx2LnJlbW92ZS5maXhlZCgpfX19LGNyZWF0ZTp7cGxhY2Vob2xkZXI6ZnVuY3Rpb24oKXt2LnZlcmJvc2UoXCJDcmVhdGluZyBmaXhlZCBwb3NpdGlvbiBwbGFjZWhvbGRlclwiKSxyPUEuY2xvbmUoITEpLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIikuYWRkQ2xhc3MoeS5wbGFjZWhvbGRlcikuaW5zZXJ0QWZ0ZXIoQSl9fSxzaG93OntwbGFjZWhvbGRlcjpmdW5jdGlvbigpe3YudmVyYm9zZShcIlNob3dpbmcgcGxhY2Vob2xkZXJcIiksci5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIil9fSxoaWRlOntwbGFjZWhvbGRlcjpmdW5jdGlvbigpe3YudmVyYm9zZShcIkhpZGluZyBwbGFjZWhvbGRlclwiKSxyLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIikuY3NzKFwidmlzaWJpbGl0eVwiLFwiXCIpfX0sc2V0OntmaXhlZDpmdW5jdGlvbigpe3YudmVyYm9zZShcIlNldHRpbmcgZWxlbWVudCB0byBmaXhlZCBwb3NpdGlvblwiKSxBLmFkZENsYXNzKHkuZml4ZWQpLmNzcyh7cG9zaXRpb246XCJmaXhlZFwiLHRvcDpiLm9mZnNldCtcInB4XCIsbGVmdDpcImF1dG9cIix6SW5kZXg6Yi56SW5kZXh9KSxiLm9uRml4ZWQuY2FsbChGKX0saW1hZ2U6ZnVuY3Rpb24odCxuKXtBLmF0dHIoXCJzcmNcIix0KSxiLnRyYW5zaXRpb24/ZS5mbi50cmFuc2l0aW9uIT09aT9BLnRyYW5zaXRpb24oYi50cmFuc2l0aW9uLGIuZHVyYXRpb24sbik6QS5mYWRlSW4oYi5kdXJhdGlvbixuKTpBLnNob3coKX19LGlzOntvblNjcmVlbjpmdW5jdGlvbigpe3ZhciBlPXYuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKTtyZXR1cm4gZS5vblNjcmVlbn0sb2ZmU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGU9di5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpO3JldHVybiBlLm9mZlNjcmVlbn0sdmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiEoIXYuY2FjaGV8fCF2LmNhY2hlLmVsZW1lbnQpJiYhKDA9PT12LmNhY2hlLmVsZW1lbnQud2lkdGgmJjA9PT12LmNhY2hlLmVsZW1lbnQub2Zmc2V0LnRvcCl9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7di5kZWJ1ZyhcIlJlZnJlc2hpbmcgY29uc3RhbnRzICh3aWR0aC9oZWlnaHQpXCIpLFwiZml4ZWRcIj09Yi50eXBlJiZ2LnJlc2V0Rml4ZWQoKSx2LnJlc2V0KCksdi5zYXZlLnBvc2l0aW9uKCksYi5jaGVja09uUmVmcmVzaCYmdi5jaGVja1Zpc2liaWxpdHkoKSxiLm9uUmVmcmVzaC5jYWxsKEYpfSxyZXNldEZpeGVkOmZ1bmN0aW9uKCl7di5yZW1vdmUuZml4ZWQoKSx2LnJlbW92ZS5vY2N1cnJlZCgpfSxyZXNldDpmdW5jdGlvbigpe3YudmVyYm9zZShcIlJlc2V0dGluZyBhbGwgY2FjaGVkIHZhbHVlc1wiKSxlLmlzUGxhaW5PYmplY3Qodi5jYWNoZSkmJih2LmNhY2hlLnNjcmVlbj17fSx2LmNhY2hlLmVsZW1lbnQ9e30pfSxjaGVja1Zpc2liaWxpdHk6ZnVuY3Rpb24oZSl7di52ZXJib3NlKFwiQ2hlY2tpbmcgdmlzaWJpbGl0eSBvZiBlbGVtZW50XCIsdi5jYWNoZS5lbGVtZW50KSwhTyYmdi5pcy52aXNpYmxlKCkmJih2LnNhdmUuc2Nyb2xsKGUpLHYuc2F2ZS5jYWxjdWxhdGlvbnMoKSx2LnBhc3NlZCgpLHYucGFzc2luZ1JldmVyc2UoKSx2LnRvcFZpc2libGVSZXZlcnNlKCksdi5ib3R0b21WaXNpYmxlUmV2ZXJzZSgpLHYudG9wUGFzc2VkUmV2ZXJzZSgpLHYuYm90dG9tUGFzc2VkUmV2ZXJzZSgpLHYub25TY3JlZW4oKSx2Lm9mZlNjcmVlbigpLHYucGFzc2luZygpLHYudG9wVmlzaWJsZSgpLHYuYm90dG9tVmlzaWJsZSgpLHYudG9wUGFzc2VkKCksdi5ib3R0b21QYXNzZWQoKSxiLm9uVXBkYXRlJiZiLm9uVXBkYXRlLmNhbGwoRix2LmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCkpKX0scGFzc2VkOmZ1bmN0aW9uKHQsbil7dmFyIG89di5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpO2lmKHQmJm4pYi5vblBhc3NlZFt0XT1uO2Vsc2V7aWYodCE9PWkpcmV0dXJuIHYuZ2V0LnBpeGVsc1Bhc3NlZCh0KT5vLnBpeGVsc1Bhc3NlZDtvLnBhc3NpbmcmJmUuZWFjaChiLm9uUGFzc2VkLGZ1bmN0aW9uKGUsdCl7by5ib3R0b21WaXNpYmxlfHxvLnBpeGVsc1Bhc3NlZD52LmdldC5waXhlbHNQYXNzZWQoZSk/di5leGVjdXRlKHQsZSk6Yi5vbmNlfHx2LnJlbW92ZS5vY2N1cnJlZCh0KX0pfX0sb25TY3JlZW46ZnVuY3Rpb24oZSl7dmFyIHQ9di5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpLG49ZXx8Yi5vbk9uU2NyZWVuLG89XCJvblNjcmVlblwiO2lmKGUmJih2LmRlYnVnKFwiQWRkaW5nIGNhbGxiYWNrIGZvciBvblNjcmVlblwiLGUpLGIub25PblNjcmVlbj1lKSx0Lm9uU2NyZWVuP3YuZXhlY3V0ZShuLG8pOmIub25jZXx8di5yZW1vdmUub2NjdXJyZWQobyksZSE9PWkpcmV0dXJuIHQub25PblNjcmVlbn0sb2ZmU2NyZWVuOmZ1bmN0aW9uKGUpe3ZhciB0PXYuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fGIub25PZmZTY3JlZW4sbz1cIm9mZlNjcmVlblwiO2lmKGUmJih2LmRlYnVnKFwiQWRkaW5nIGNhbGxiYWNrIGZvciBvZmZTY3JlZW5cIixlKSxiLm9uT2ZmU2NyZWVuPWUpLHQub2ZmU2NyZWVuP3YuZXhlY3V0ZShuLG8pOmIub25jZXx8di5yZW1vdmUub2NjdXJyZWQobyksZSE9PWkpcmV0dXJuIHQub25PZmZTY3JlZW59LHBhc3Npbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9di5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpLG49ZXx8Yi5vblBhc3Npbmcsbz1cInBhc3NpbmdcIjtpZihlJiYodi5kZWJ1ZyhcIkFkZGluZyBjYWxsYmFjayBmb3IgcGFzc2luZ1wiLGUpLGIub25QYXNzaW5nPWUpLHQucGFzc2luZz92LmV4ZWN1dGUobixvKTpiLm9uY2V8fHYucmVtb3ZlLm9jY3VycmVkKG8pLGUhPT1pKXJldHVybiB0LnBhc3Npbmd9LHRvcFZpc2libGU6ZnVuY3Rpb24oZSl7dmFyIHQ9di5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpLG49ZXx8Yi5vblRvcFZpc2libGUsbz1cInRvcFZpc2libGVcIjtpZihlJiYodi5kZWJ1ZyhcIkFkZGluZyBjYWxsYmFjayBmb3IgdG9wIHZpc2libGVcIixlKSxiLm9uVG9wVmlzaWJsZT1lKSx0LnRvcFZpc2libGU/di5leGVjdXRlKG4sbyk6Yi5vbmNlfHx2LnJlbW92ZS5vY2N1cnJlZChvKSxlPT09aSlyZXR1cm4gdC50b3BWaXNpYmxlfSxib3R0b21WaXNpYmxlOmZ1bmN0aW9uKGUpe3ZhciB0PXYuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fGIub25Cb3R0b21WaXNpYmxlLG89XCJib3R0b21WaXNpYmxlXCI7aWYoZSYmKHYuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIGJvdHRvbSB2aXNpYmxlXCIsZSksYi5vbkJvdHRvbVZpc2libGU9ZSksdC5ib3R0b21WaXNpYmxlP3YuZXhlY3V0ZShuLG8pOmIub25jZXx8di5yZW1vdmUub2NjdXJyZWQobyksZT09PWkpcmV0dXJuIHQuYm90dG9tVmlzaWJsZX0sdG9wUGFzc2VkOmZ1bmN0aW9uKGUpe3ZhciB0PXYuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fGIub25Ub3BQYXNzZWQsbz1cInRvcFBhc3NlZFwiO2lmKGUmJih2LmRlYnVnKFwiQWRkaW5nIGNhbGxiYWNrIGZvciB0b3AgcGFzc2VkXCIsZSksYi5vblRvcFBhc3NlZD1lKSx0LnRvcFBhc3NlZD92LmV4ZWN1dGUobixvKTpiLm9uY2V8fHYucmVtb3ZlLm9jY3VycmVkKG8pLGU9PT1pKXJldHVybiB0LnRvcFBhc3NlZH0sYm90dG9tUGFzc2VkOmZ1bmN0aW9uKGUpe3ZhciB0PXYuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fGIub25Cb3R0b21QYXNzZWQsbz1cImJvdHRvbVBhc3NlZFwiO2lmKGUmJih2LmRlYnVnKFwiQWRkaW5nIGNhbGxiYWNrIGZvciBib3R0b20gcGFzc2VkXCIsZSksYi5vbkJvdHRvbVBhc3NlZD1lKSx0LmJvdHRvbVBhc3NlZD92LmV4ZWN1dGUobixvKTpiLm9uY2V8fHYucmVtb3ZlLm9jY3VycmVkKG8pLGU9PT1pKXJldHVybiB0LmJvdHRvbVBhc3NlZH0scGFzc2luZ1JldmVyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9di5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpLG49ZXx8Yi5vblBhc3NpbmdSZXZlcnNlLG89XCJwYXNzaW5nUmV2ZXJzZVwiO2lmKGUmJih2LmRlYnVnKFwiQWRkaW5nIGNhbGxiYWNrIGZvciBwYXNzaW5nIHJldmVyc2VcIixlKSxiLm9uUGFzc2luZ1JldmVyc2U9ZSksdC5wYXNzaW5nP2Iub25jZXx8di5yZW1vdmUub2NjdXJyZWQobyk6di5nZXQub2NjdXJyZWQoXCJwYXNzaW5nXCIpJiZ2LmV4ZWN1dGUobixvKSxlIT09aSlyZXR1cm4hdC5wYXNzaW5nfSx0b3BWaXNpYmxlUmV2ZXJzZTpmdW5jdGlvbihlKXt2YXIgdD12LmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCksbj1lfHxiLm9uVG9wVmlzaWJsZVJldmVyc2Usbz1cInRvcFZpc2libGVSZXZlcnNlXCI7aWYoZSYmKHYuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIHRvcCB2aXNpYmxlIHJldmVyc2VcIixlKSxiLm9uVG9wVmlzaWJsZVJldmVyc2U9ZSksdC50b3BWaXNpYmxlP2Iub25jZXx8di5yZW1vdmUub2NjdXJyZWQobyk6di5nZXQub2NjdXJyZWQoXCJ0b3BWaXNpYmxlXCIpJiZ2LmV4ZWN1dGUobixvKSxlPT09aSlyZXR1cm4hdC50b3BWaXNpYmxlfSxib3R0b21WaXNpYmxlUmV2ZXJzZTpmdW5jdGlvbihlKXt2YXIgdD12LmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCksbj1lfHxiLm9uQm90dG9tVmlzaWJsZVJldmVyc2Usbz1cImJvdHRvbVZpc2libGVSZXZlcnNlXCI7aWYoZSYmKHYuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIGJvdHRvbSB2aXNpYmxlIHJldmVyc2VcIixlKSxiLm9uQm90dG9tVmlzaWJsZVJldmVyc2U9ZSksdC5ib3R0b21WaXNpYmxlP2Iub25jZXx8di5yZW1vdmUub2NjdXJyZWQobyk6di5nZXQub2NjdXJyZWQoXCJib3R0b21WaXNpYmxlXCIpJiZ2LmV4ZWN1dGUobixvKSxlPT09aSlyZXR1cm4hdC5ib3R0b21WaXNpYmxlfSx0b3BQYXNzZWRSZXZlcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PXYuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fGIub25Ub3BQYXNzZWRSZXZlcnNlLG89XCJ0b3BQYXNzZWRSZXZlcnNlXCI7aWYoZSYmKHYuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIHRvcCBwYXNzZWQgcmV2ZXJzZVwiLGUpLGIub25Ub3BQYXNzZWRSZXZlcnNlPWUpLHQudG9wUGFzc2VkP2Iub25jZXx8di5yZW1vdmUub2NjdXJyZWQobyk6di5nZXQub2NjdXJyZWQoXCJ0b3BQYXNzZWRcIikmJnYuZXhlY3V0ZShuLG8pLGU9PT1pKXJldHVybiF0Lm9uVG9wUGFzc2VkfSxib3R0b21QYXNzZWRSZXZlcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PXYuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fGIub25Cb3R0b21QYXNzZWRSZXZlcnNlLG89XCJib3R0b21QYXNzZWRSZXZlcnNlXCI7aWYoZSYmKHYuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIGJvdHRvbSBwYXNzZWQgcmV2ZXJzZVwiLGUpLGIub25Cb3R0b21QYXNzZWRSZXZlcnNlPWUpLHQuYm90dG9tUGFzc2VkP2Iub25jZXx8di5yZW1vdmUub2NjdXJyZWQobyk6di5nZXQub2NjdXJyZWQoXCJib3R0b21QYXNzZWRcIikmJnYuZXhlY3V0ZShuLG8pLGU9PT1pKXJldHVybiF0LmJvdHRvbVBhc3NlZH0sZXhlY3V0ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXYuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxpPXYuZ2V0LnNjcmVlbkNhbGN1bGF0aW9ucygpO2U9ZXx8ITEsZSYmKGIuY29udGludW91cz8odi5kZWJ1ZyhcIkNhbGxiYWNrIGJlaW5nIGNhbGxlZCBjb250aW51b3VzbHlcIix0LG4pLGUuY2FsbChGLG4saSkpOnYuZ2V0Lm9jY3VycmVkKHQpfHwodi5kZWJ1ZyhcIkNvbmRpdGlvbnMgbWV0XCIsdCxuKSxlLmNhbGwoRixuLGkpKSksdi5zYXZlLm9jY3VycmVkKHQpfSxyZW1vdmU6e2ZpeGVkOmZ1bmN0aW9uKCl7di5kZWJ1ZyhcIlJlbW92aW5nIGZpeGVkIHBvc2l0aW9uXCIpLEEucmVtb3ZlQ2xhc3MoeS5maXhlZCkuY3NzKHtwb3NpdGlvbjpcIlwiLHRvcDpcIlwiLGxlZnQ6XCJcIix6SW5kZXg6XCJcIn0pLGIub25VbmZpeGVkLmNhbGwoRil9LHBsYWNlaG9sZGVyOmZ1bmN0aW9uKCl7di5kZWJ1ZyhcIlJlbW92aW5nIHBsYWNlaG9sZGVyIGNvbnRlbnRcIiksciYmci5yZW1vdmUoKX0sb2NjdXJyZWQ6ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9di5jYWNoZS5vY2N1cnJlZDt0W2VdIT09aSYmdFtlXT09PSEwJiYodi5kZWJ1ZyhcIkNhbGxiYWNrIGNhbiBub3cgYmUgY2FsbGVkIGFnYWluXCIsZSksdi5jYWNoZS5vY2N1cnJlZFtlXT0hMSl9ZWxzZSB2LmNhY2hlLm9jY3VycmVkPXt9fX0sc2F2ZTp7Y2FsY3VsYXRpb25zOmZ1bmN0aW9uKCl7di52ZXJib3NlKFwiU2F2aW5nIGFsbCBjYWxjdWxhdGlvbnMgbmVjZXNzYXJ5IHRvIGRldGVybWluZSBwb3NpdGlvbmluZ1wiKSx2LnNhdmUuZGlyZWN0aW9uKCksdi5zYXZlLnNjcmVlbkNhbGN1bGF0aW9ucygpLHYuc2F2ZS5lbGVtZW50Q2FsY3VsYXRpb25zKCl9LG9jY3VycmVkOmZ1bmN0aW9uKGUpe2UmJih2LmNhY2hlLm9jY3VycmVkW2VdIT09aSYmdi5jYWNoZS5vY2N1cnJlZFtlXT09PSEwfHwodi52ZXJib3NlKFwiU2F2aW5nIGNhbGxiYWNrIG9jY3VycmVkXCIsZSksdi5jYWNoZS5vY2N1cnJlZFtlXT0hMCkpfSxzY3JvbGw6ZnVuY3Rpb24oZSl7ZT1lK2Iub2Zmc2V0fHxSLnNjcm9sbFRvcCgpK2Iub2Zmc2V0LHYuY2FjaGUuc2Nyb2xsPWV9LGRpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBlLHQ9di5nZXQuc2Nyb2xsKCksbj12LmdldC5sYXN0U2Nyb2xsKCk7cmV0dXJuIGU9dD5uJiZuP1wiZG93blwiOnQ8biYmbj9cInVwXCI6XCJzdGF0aWNcIix2LmNhY2hlLmRpcmVjdGlvbj1lLHYuY2FjaGUuZGlyZWN0aW9ufSxlbGVtZW50UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZT12LmNhY2hlLmVsZW1lbnQsdD12LmdldC5zY3JlZW5TaXplKCk7cmV0dXJuIHYudmVyYm9zZShcIlNhdmluZyBlbGVtZW50IHBvc2l0aW9uXCIpLGUuZml0cz1lLmhlaWdodDx0LmhlaWdodCxlLm9mZnNldD1BLm9mZnNldCgpLGUud2lkdGg9QS5vdXRlcldpZHRoKCksZS5oZWlnaHQ9QS5vdXRlckhlaWdodCgpLHYuY2FjaGUuZWxlbWVudD1lLGV9LGVsZW1lbnRDYWxjdWxhdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT12LmdldC5zY3JlZW5DYWxjdWxhdGlvbnMoKSx0PXYuZ2V0LmVsZW1lbnRQb3NpdGlvbigpO3JldHVybiBiLmluY2x1ZGVNYXJnaW4/KHQubWFyZ2luPXt9LHQubWFyZ2luLnRvcD1wYXJzZUludChBLmNzcyhcIm1hcmdpbi10b3BcIiksMTApLHQubWFyZ2luLmJvdHRvbT1wYXJzZUludChBLmNzcyhcIm1hcmdpbi1ib3R0b21cIiksMTApLHQudG9wPXQub2Zmc2V0LnRvcC10Lm1hcmdpbi50b3AsdC5ib3R0b209dC5vZmZzZXQudG9wK3QuaGVpZ2h0K3QubWFyZ2luLmJvdHRvbSk6KHQudG9wPXQub2Zmc2V0LnRvcCx0LmJvdHRvbT10Lm9mZnNldC50b3ArdC5oZWlnaHQpLHQudG9wVmlzaWJsZT1lLmJvdHRvbT49dC50b3AsdC50b3BQYXNzZWQ9ZS50b3A+PXQudG9wLHQuYm90dG9tVmlzaWJsZT1lLmJvdHRvbT49dC5ib3R0b20sdC5ib3R0b21QYXNzZWQ9ZS50b3A+PXQuYm90dG9tLHQucGl4ZWxzUGFzc2VkPTAsdC5wZXJjZW50YWdlUGFzc2VkPTAsdC5vblNjcmVlbj10LnRvcFZpc2libGUmJiF0LmJvdHRvbVBhc3NlZCx0LnBhc3Npbmc9dC50b3BQYXNzZWQmJiF0LmJvdHRvbVBhc3NlZCx0Lm9mZlNjcmVlbj0hdC5vblNjcmVlbix0LnBhc3NpbmcmJih0LnBpeGVsc1Bhc3NlZD1lLnRvcC10LnRvcCx0LnBlcmNlbnRhZ2VQYXNzZWQ9KGUudG9wLXQudG9wKS90LmhlaWdodCksdi5jYWNoZS5lbGVtZW50PXQsdi52ZXJib3NlKFwiVXBkYXRlZCBlbGVtZW50IGNhbGN1bGF0aW9uc1wiLHQpLHR9LHNjcmVlbkNhbGN1bGF0aW9uczpmdW5jdGlvbigpe3ZhciBlPXYuZ2V0LnNjcm9sbCgpO3JldHVybiB2LnNhdmUuZGlyZWN0aW9uKCksdi5jYWNoZS5zY3JlZW4udG9wPWUsdi5jYWNoZS5zY3JlZW4uYm90dG9tPWUrdi5jYWNoZS5zY3JlZW4uaGVpZ2h0LHYuY2FjaGUuc2NyZWVufSxzY3JlZW5TaXplOmZ1bmN0aW9uKCl7di52ZXJib3NlKFwiU2F2aW5nIHdpbmRvdyBwb3NpdGlvblwiKSx2LmNhY2hlLnNjcmVlbj17aGVpZ2h0OlIuaGVpZ2h0KCl9fSxwb3NpdGlvbjpmdW5jdGlvbigpe3Yuc2F2ZS5zY3JlZW5TaXplKCksdi5zYXZlLmVsZW1lbnRQb3NpdGlvbigpfX0sZ2V0OntwaXhlbHNQYXNzZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9di5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpO3JldHVybiBlLnNlYXJjaChcIiVcIik+LTE/dC5oZWlnaHQqKHBhcnNlSW50KGUsMTApLzEwMCk6cGFyc2VJbnQoZSwxMCl9LG9jY3VycmVkOmZ1bmN0aW9uKGUpe3JldHVybiB2LmNhY2hlLm9jY3VycmVkIT09aSYmKHYuY2FjaGUub2NjdXJyZWRbZV18fCExKX0sZGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHYuY2FjaGUuZGlyZWN0aW9uPT09aSYmdi5zYXZlLmRpcmVjdGlvbigpLHYuY2FjaGUuZGlyZWN0aW9ufSxlbGVtZW50UG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdi5jYWNoZS5lbGVtZW50PT09aSYmdi5zYXZlLmVsZW1lbnRQb3NpdGlvbigpLHYuY2FjaGUuZWxlbWVudH0sZWxlbWVudENhbGN1bGF0aW9uczpmdW5jdGlvbigpe3JldHVybiB2LmNhY2hlLmVsZW1lbnQ9PT1pJiZ2LnNhdmUuZWxlbWVudENhbGN1bGF0aW9ucygpLHYuY2FjaGUuZWxlbWVudH0sc2NyZWVuQ2FsY3VsYXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHYuY2FjaGUuc2NyZWVuPT09aSYmdi5zYXZlLnNjcmVlbkNhbGN1bGF0aW9ucygpLHYuY2FjaGUuc2NyZWVufSxzY3JlZW5TaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHYuY2FjaGUuc2NyZWVuPT09aSYmdi5zYXZlLnNjcmVlblNpemUoKSx2LmNhY2hlLnNjcmVlbn0sc2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHYuY2FjaGUuc2Nyb2xsPT09aSYmdi5zYXZlLnNjcm9sbCgpLHYuY2FjaGUuc2Nyb2xsfSxsYXN0U2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHYuY2FjaGUuc2NyZWVuPT09aT8odi5kZWJ1ZyhcIkZpcnN0IHNjcm9sbCBldmVudCwgbm8gbGFzdCBzY3JvbGwgY291bGQgYmUgZm91bmRcIiksITEpOnYuY2FjaGUuc2NyZWVuLnRvcH19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsYix0KTtlbHNle2lmKG49PT1pKXJldHVybiBiW3RdO2JbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLHYsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gdlt0XTt2W3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpeyFiLnNpbGVudCYmYi5kZWJ1ZyYmKGIucGVyZm9ybWFuY2U/di5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKToodi5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGIubmFtZStcIjpcIiksdi5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpeyFiLnNpbGVudCYmYi52ZXJib3NlJiZiLmRlYnVnJiYoYi5wZXJmb3JtYW5jZT92LnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOih2LnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxiLm5hbWUrXCI6XCIpLHYudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtiLnNpbGVudHx8KHYuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsYi5uYW1lK1wiOlwiKSx2LmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2IucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9bHx8dCxuPXQtaSxsPXQsYy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OkYsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KHYucGVyZm9ybWFuY2UudGltZXIpLHYucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dCh2LnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PWIubmFtZStcIjpcIixuPTA7bD0hMSxjbGVhclRpbWVvdXQodi5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixzJiYodCs9XCIgJ1wiK3MrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZjLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoYyk6ZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxjPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcixzLGwsYz1FO3JldHVybiBuPW58fGYsbz1GfHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZjIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QoY1thXSkmJm4hPXIpYz1jW2FdO2Vsc2V7aWYoY1thXSE9PWkpcmV0dXJuIHM9Y1thXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGNbb10pfHxuPT1yKXJldHVybiBjW29dIT09aT8ocz1jW29dLCExKToodi5lcnJvcihDLm1ldGhvZCx0KSwhMSk7Yz1jW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/bD1zLmFwcGx5KG8sbik6cyE9PWkmJihsPXMpLGUuaXNBcnJheShhKT9hLnB1c2gobCk6YSE9PWk/YT1bYSxsXTpsIT09aSYmKGE9bCksc319LGQ/KEU9PT1pJiZ2LmluaXRpYWxpemUoKSxFLnNhdmUuc2Nyb2xsKCksRS5zYXZlLmNhbGN1bGF0aW9ucygpLHYuaW52b2tlKHUpKTooRSE9PWkmJkUuaW52b2tlKFwiZGVzdHJveVwiKSx2LmluaXRpYWxpemUoKSl9KSxhIT09aT9hOnRoaXN9LGUuZm4udmlzaWJpbGl0eS5zZXR0aW5ncz17bmFtZTpcIlZpc2liaWxpdHlcIixuYW1lc3BhY2U6XCJ2aXNpYmlsaXR5XCIsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCxvYnNlcnZlQ2hhbmdlczohMCxpbml0aWFsQ2hlY2s6ITAscmVmcmVzaE9uTG9hZDohMCxyZWZyZXNoT25SZXNpemU6ITAsY2hlY2tPblJlZnJlc2g6ITAsb25jZTohMCxjb250aW51b3VzOiExLG9mZnNldDowLGluY2x1ZGVNYXJnaW46ITEsY29udGV4dDp0LHRocm90dGxlOiExLHR5cGU6ITEsekluZGV4OlwiMTBcIix0cmFuc2l0aW9uOlwiZmFkZSBpblwiLGR1cmF0aW9uOjFlMyxvblBhc3NlZDp7fSxvbk9uU2NyZWVuOiExLG9uT2ZmU2NyZWVuOiExLG9uUGFzc2luZzohMSxvblRvcFZpc2libGU6ITEsb25Cb3R0b21WaXNpYmxlOiExLG9uVG9wUGFzc2VkOiExLG9uQm90dG9tUGFzc2VkOiExLG9uUGFzc2luZ1JldmVyc2U6ITEsb25Ub3BWaXNpYmxlUmV2ZXJzZTohMSxvbkJvdHRvbVZpc2libGVSZXZlcnNlOiExLG9uVG9wUGFzc2VkUmV2ZXJzZTohMSxvbkJvdHRvbVBhc3NlZFJldmVyc2U6ITEsb25Mb2FkOmZ1bmN0aW9uKCl7fSxvbkFsbExvYWRlZDpmdW5jdGlvbigpe30sb25GaXhlZDpmdW5jdGlvbigpe30sb25VbmZpeGVkOmZ1bmN0aW9uKCl7fSxvblVwZGF0ZTohMSxvblJlZnJlc2g6ZnVuY3Rpb24oKXt9LG1ldGFkYXRhOntzcmM6XCJzcmNcIn0sY2xhc3NOYW1lOntmaXhlZDpcImZpeGVkXCIscGxhY2Vob2xkZXI6XCJwbGFjZWhvbGRlclwifSxlcnJvcjp7bWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwiLHZpc2libGU6XCJFbGVtZW50IGlzIGhpZGRlbiwgeW91IG11c3QgY2FsbCByZWZyZXNoIGFmdGVyIGVsZW1lbnQgYmVjb21lcyB2aXNpYmxlXCJ9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNlbWFudGljL2Rpc3Qvc2VtYW50aWMubWluLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);